{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useRef,useState,useEffect}from'react';import{Modal,Flex,Button,Text,Skeleton,Box}from'@pancakeswap/uikit';import styled from'styled-components';import{useTranslation}from'contexts/Localization';import FlippersShare from'../pngs/flippers-share.png';import StormShare from'../pngs/storm-share.png';import CakersShare from'../pngs/cakers-share.png';import ProfileMask from'../pngs/share-profile-mask.png';import MedalGold from'../pngs/medals/medal-gold.png';import MedalSilver from'../pngs/medals/medal-silver.png';import MedalBronze from'../pngs/medals/medal-bronze.png';import MedalPurple from'../pngs/medals/medal-purple.png';import MedalTeal from'../pngs/medals/medal-teal.png';import{localiseTradingVolume}from'../helpers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var StyledCanvas=styled.canvas(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n\"])));var StyledButton=styled(Button)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: none;\\n  \",\" {\\n    display: block;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.mediaQueries.sm;});var MobileText=styled(Text)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: block;\\n  \",\" {\\n    display: none;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.mediaQueries.sm;});var ShareImageModal=function ShareImageModal(_ref3){var onDismiss=_ref3.onDismiss,profile=_ref3.profile,userLeaderboardInformation=_ref3.userLeaderboardInformation;var _useTranslation=useTranslation(),t=_useTranslation.t;var global=userLeaderboardInformation.global,team=userLeaderboardInformation.team,volume=userLeaderboardInformation.volume;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),bgImage=_useState2[0],setBgImage=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),profileImage=_useState4[0],setProfileImage=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),profileOverlayImage=_useState6[0],setProfileOverlayImage=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),medalImage=_useState8[0],setMedalImage=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),imageFromCanvas=_useState10[0],setImageFromCanvas=_useState10[1];var canvas=useRef(null);var getMedal=function getMedal(rank){if(rank===1){return MedalGold;}if(rank<=10){return MedalSilver;}if(rank<=100){return MedalBronze;}if(rank<=500){return MedalPurple;}return MedalTeal;};useEffect(function(){var _profile$nft,_profile$nft$image;var bgImages=[StormShare,FlippersShare,CakersShare];var bgImagEl=new Image();bgImagEl.src=bgImages[profile.teamId-1];bgImagEl.onload=function(){return setBgImage(bgImagEl);};var profileImageEl=new Image();profileImageEl.src=(_profile$nft=profile.nft)===null||_profile$nft===void 0?void 0:(_profile$nft$image=_profile$nft.image)===null||_profile$nft$image===void 0?void 0:_profile$nft$image.thumbnail;profileImageEl.onload=function(){return setProfileImage(profileImageEl);};var profileImageOverlayEl=new Image();profileImageOverlayEl.src=ProfileMask;profileImageOverlayEl.onload=function(){return setProfileOverlayImage(profileImageOverlayEl);};var medalImageEl=new Image();medalImageEl.src=getMedal(team);medalImageEl.onload=function(){return setMedalImage(medalImageEl);};},[profile,team]);useEffect(function(){if(canvas&&bgImage&&profileImage&&profileOverlayImage&&medalImage){var canvasWidth=canvas.current.width;canvas.current.height=canvasWidth*0.5625;var canvasHeight=canvas.current.height;var ctx=canvas.current.getContext('2d');ctx.drawImage(bgImage,0,0,canvasWidth,canvasHeight);ctx.drawImage(profileImage,canvasWidth*0.0315,canvasHeight*0.07,canvasWidth*0.19,canvasWidth*0.19);ctx.drawImage(profileOverlayImage,0,0,canvasWidth*0.235,canvasWidth*0.235);ctx.drawImage(medalImage,canvasWidth*0.15,canvasHeight*0.32,canvasWidth*0.06,canvasWidth*0.06);ctx.font='bold 84px Kanit';ctx.fillStyle='white';ctx.fillText(\"@\".concat(profile.username),canvasWidth*0.033,canvasHeight*0.53);ctx.font='bold 72px Kanit';ctx.fillText(\"# \".concat(team.toLocaleString()),canvasWidth*0.18,canvasHeight*0.69);ctx.fillText(\"# \".concat(global.toLocaleString()),canvasWidth*0.18,canvasHeight*0.79);ctx.fillText(\"$ \".concat(localiseTradingVolume(volume)),canvasWidth*0.18,canvasHeight*0.89);setImageFromCanvas(canvas.current.toDataURL('image/png'));}},[canvas,bgImage,profileImage,team,global,volume,profile,profileOverlayImage,medalImage]);var downloadImage=function downloadImage(){var link=document.createElement('a');link.download=\"easter-battle-\".concat(profile.username,\".png\");link.href=imageFromCanvas;link.click();};return/*#__PURE__*/_jsx(Modal,{title:t('Share Your Score'),onDismiss:onDismiss,minWidth:\"280px\",children:/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",alignItems:\"center\",maxWidth:\"460px\",children:[bgImage&&profileImage?/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justifyContent:\"center\",minHeight:\"258px\",children:[/*#__PURE__*/_jsx(Box,{height:\"0px\",children:/*#__PURE__*/_jsx(StyledCanvas,{ref:canvas,width:\"1600px\"})}),imageFromCanvas&&/*#__PURE__*/_jsx(\"img\",{alt:\"your shareable score\",src:\"\".concat(imageFromCanvas)})]}):/*#__PURE__*/_jsx(Skeleton,{width:\"100%\",height:\"258px\"}),/*#__PURE__*/_jsx(Text,{p:\"24px 16px\",color:\"textSubtle\",textAlign:\"center\",children:t('Brag to your friends and annoy your rivals with your custom scorecard!')}),imageFromCanvas&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StyledButton,{onClick:downloadImage,children:t('Download Image')}),/*#__PURE__*/_jsx(MobileText,{p:\"0 16px 18px 16px\",bold:true,textAlign:\"center\",children:t('Screenshot or press & hold the image to share!')})]})]})});};export default ShareImageModal;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/TradingCompetition/components/ShareImageModal.tsx"],"names":["React","useRef","useState","useEffect","Modal","Flex","Button","Text","Skeleton","Box","styled","useTranslation","FlippersShare","StormShare","CakersShare","ProfileMask","MedalGold","MedalSilver","MedalBronze","MedalPurple","MedalTeal","localiseTradingVolume","StyledCanvas","canvas","StyledButton","theme","mediaQueries","sm","MobileText","ShareImageModal","onDismiss","profile","userLeaderboardInformation","t","global","team","volume","bgImage","setBgImage","profileImage","setProfileImage","profileOverlayImage","setProfileOverlayImage","medalImage","setMedalImage","imageFromCanvas","setImageFromCanvas","getMedal","rank","bgImages","bgImagEl","Image","src","teamId","onload","profileImageEl","nft","image","thumbnail","profileImageOverlayEl","medalImageEl","canvasWidth","current","width","height","canvasHeight","ctx","getContext","drawImage","font","fillStyle","fillText","username","toLocaleString","toDataURL","downloadImage","link","document","createElement","download","href","click"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\nimport { Modal, Flex, Button, Text, Skeleton, Box } from '@pancakeswap/uikit'\nimport styled from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\nimport FlippersShare from '../pngs/flippers-share.png'\nimport StormShare from '../pngs/storm-share.png'\nimport CakersShare from '../pngs/cakers-share.png'\nimport ProfileMask from '../pngs/share-profile-mask.png'\nimport MedalGold from '../pngs/medals/medal-gold.png'\nimport MedalSilver from '../pngs/medals/medal-silver.png'\nimport MedalBronze from '../pngs/medals/medal-bronze.png'\nimport MedalPurple from '../pngs/medals/medal-purple.png'\nimport MedalTeal from '../pngs/medals/medal-teal.png'\n\nimport { localiseTradingVolume } from '../helpers'\nimport { YourScoreProps } from '../types'\n\nconst StyledCanvas = styled.canvas`\n  width: 100%;\n`\n\nconst StyledButton = styled(Button)`\n  display: none;\n  ${({ theme }) => theme.mediaQueries.sm} {\n    display: block;\n  }\n`\n\nconst MobileText = styled(Text)`\n  display: block;\n  ${({ theme }) => theme.mediaQueries.sm} {\n    display: none;\n  }\n`\n\nconst ShareImageModal: React.FC<YourScoreProps> = ({ onDismiss, profile, userLeaderboardInformation }) => {\n  const { t } = useTranslation()\n  const { global, team, volume } = userLeaderboardInformation\n  const [bgImage, setBgImage] = useState(null)\n  const [profileImage, setProfileImage] = useState(null)\n  const [profileOverlayImage, setProfileOverlayImage] = useState(null)\n  const [medalImage, setMedalImage] = useState(null)\n\n  const [imageFromCanvas, setImageFromCanvas] = useState(null)\n  const canvas = useRef(null)\n\n  const getMedal = (rank: React.ReactText) => {\n    if (rank === 1) {\n      return MedalGold\n    }\n    if (rank <= 10) {\n      return MedalSilver\n    }\n    if (rank <= 100) {\n      return MedalBronze\n    }\n    if (rank <= 500) {\n      return MedalPurple\n    }\n    return MedalTeal\n  }\n\n  useEffect(() => {\n    const bgImages = [StormShare, FlippersShare, CakersShare]\n    const bgImagEl = new Image()\n    bgImagEl.src = bgImages[profile.teamId - 1]\n    bgImagEl.onload = () => setBgImage(bgImagEl)\n\n    const profileImageEl = new Image()\n    profileImageEl.src = profile.nft?.image?.thumbnail\n    profileImageEl.onload = () => setProfileImage(profileImageEl)\n\n    const profileImageOverlayEl = new Image()\n    profileImageOverlayEl.src = ProfileMask\n    profileImageOverlayEl.onload = () => setProfileOverlayImage(profileImageOverlayEl)\n\n    const medalImageEl = new Image()\n    medalImageEl.src = getMedal(team)\n    medalImageEl.onload = () => setMedalImage(medalImageEl)\n  }, [profile, team])\n\n  useEffect(() => {\n    if (canvas && bgImage && profileImage && profileOverlayImage && medalImage) {\n      const canvasWidth = canvas.current.width\n      canvas.current.height = canvasWidth * 0.5625\n      const canvasHeight = canvas.current.height\n\n      const ctx = canvas.current.getContext('2d')\n\n      ctx.drawImage(bgImage, 0, 0, canvasWidth, canvasHeight)\n      ctx.drawImage(profileImage, canvasWidth * 0.0315, canvasHeight * 0.07, canvasWidth * 0.19, canvasWidth * 0.19)\n      ctx.drawImage(profileOverlayImage, 0, 0, canvasWidth * 0.235, canvasWidth * 0.235)\n      ctx.drawImage(medalImage, canvasWidth * 0.15, canvasHeight * 0.32, canvasWidth * 0.06, canvasWidth * 0.06)\n\n      ctx.font = 'bold 84px Kanit'\n      ctx.fillStyle = 'white'\n      ctx.fillText(`@${profile.username}`, canvasWidth * 0.033, canvasHeight * 0.53)\n\n      ctx.font = 'bold 72px Kanit'\n      ctx.fillText(`# ${team.toLocaleString()}`, canvasWidth * 0.18, canvasHeight * 0.69)\n      ctx.fillText(`# ${global.toLocaleString()}`, canvasWidth * 0.18, canvasHeight * 0.79)\n      ctx.fillText(`$ ${localiseTradingVolume(volume)}`, canvasWidth * 0.18, canvasHeight * 0.89)\n\n      setImageFromCanvas(canvas.current.toDataURL('image/png'))\n    }\n  }, [canvas, bgImage, profileImage, team, global, volume, profile, profileOverlayImage, medalImage])\n\n  const downloadImage = () => {\n    const link = document.createElement('a')\n    link.download = `easter-battle-${profile.username}.png`\n    link.href = imageFromCanvas\n    link.click()\n  }\n\n  return (\n    <Modal title={t('Share Your Score')} onDismiss={onDismiss} minWidth=\"280px\">\n      <Flex flexDirection=\"column\" alignItems=\"center\" maxWidth=\"460px\">\n        {bgImage && profileImage ? (\n          <Flex alignItems=\"center\" justifyContent=\"center\" minHeight=\"258px\">\n            <Box height=\"0px\">\n              <StyledCanvas ref={canvas} width=\"1600px\" />\n            </Box>\n            {imageFromCanvas && <img alt=\"your shareable score\" src={`${imageFromCanvas}`} />}\n          </Flex>\n        ) : (\n          <Skeleton width=\"100%\" height=\"258px\" />\n        )}\n        <Text p=\"24px 16px\" color=\"textSubtle\" textAlign=\"center\">\n          {t('Brag to your friends and annoy your rivals with your custom scorecard!')}\n        </Text>\n        {imageFromCanvas && (\n          <>\n            <StyledButton onClick={downloadImage}>{t('Download Image')}</StyledButton>\n            <MobileText p=\"0 16px 18px 16px\" bold textAlign=\"center\">\n              {t('Screenshot or press & hold the image to share!')}\n            </MobileText>\n          </>\n        )}\n      </Flex>\n    </Modal>\n  )\n}\n\nexport default ShareImageModal\n"]},"metadata":{},"sourceType":"module"}