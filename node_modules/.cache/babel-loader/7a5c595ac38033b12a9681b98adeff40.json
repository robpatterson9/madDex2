{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React from'react';import styled from'styled-components';import{Flex,IconButton,useModal,CalculateIcon}from'@pancakeswap/uikit';import RoiCalculatorModal from'components/RoiCalculatorModal';import{useTranslation}from'contexts/Localization';import{useFarmUser,useLpTokenPrice}from'state/farms/hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ApyLabelContainer=styled(Flex)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  cursor: pointer;\\n\\n  &:hover {\\n    opacity: 0.5;\\n  }\\n\"])));var ApyButton=function ApyButton(_ref){var variant=_ref.variant,pid=_ref.pid,lpLabel=_ref.lpLabel,lpSymbol=_ref.lpSymbol,cakePrice=_ref.cakePrice,apr=_ref.apr,multiplier=_ref.multiplier,displayApr=_ref.displayApr,addLiquidityUrl=_ref.addLiquidityUrl;var _useTranslation=useTranslation(),t=_useTranslation.t;var lpPrice=useLpTokenPrice(lpSymbol);var _useFarmUser=useFarmUser(pid),tokenBalance=_useFarmUser.tokenBalance,stakedBalance=_useFarmUser.stakedBalance;var _useModal=useModal(/*#__PURE__*/_jsx(RoiCalculatorModal,{linkLabel:t('Get %symbol%',{symbol:lpLabel}),stakingTokenBalance:stakedBalance.plus(tokenBalance),stakingTokenSymbol:lpSymbol,stakingTokenPrice:lpPrice.toNumber(),earningTokenPrice:cakePrice.toNumber(),apr:apr,multiplier:multiplier,displayApr:displayApr,linkHref:addLiquidityUrl,isFarm:true})),_useModal2=_slicedToArray(_useModal,1),onPresentApyModal=_useModal2[0];var handleClickButton=function handleClickButton(event){event.stopPropagation();onPresentApyModal();};return/*#__PURE__*/_jsxs(ApyLabelContainer,{alignItems:\"center\",onClick:handleClickButton,children:[displayApr,\"%\",variant==='text-and-button'&&/*#__PURE__*/_jsx(IconButton,{variant:\"text\",scale:\"sm\",ml:\"4px\",children:/*#__PURE__*/_jsx(CalculateIcon,{width:\"18px\"})})]});};export default ApyButton;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Farms/components/FarmCard/ApyButton.tsx"],"names":["React","styled","Flex","IconButton","useModal","CalculateIcon","RoiCalculatorModal","useTranslation","useFarmUser","useLpTokenPrice","ApyLabelContainer","ApyButton","variant","pid","lpLabel","lpSymbol","cakePrice","apr","multiplier","displayApr","addLiquidityUrl","t","lpPrice","tokenBalance","stakedBalance","symbol","plus","toNumber","onPresentApyModal","handleClickButton","event","stopPropagation"],"mappings":"oVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,OAASC,IAAT,CAAeC,UAAf,CAA2BC,QAA3B,CAAqCC,aAArC,KAA0D,oBAA1D,CACA,MAAOC,CAAAA,kBAAP,KAA+B,+BAA/B,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,OAASC,WAAT,CAAsBC,eAAtB,KAA6C,mBAA7C,C,wFAEA,GAAMC,CAAAA,iBAAiB,CAAGT,MAAM,CAACC,IAAD,CAAT,8HAAvB,CAoBA,GAAMS,CAAAA,SAAmC,CAAG,QAAtCA,CAAAA,SAAsC,MAUtC,IATJC,CAAAA,OASI,MATJA,OASI,CARJC,GAQI,MARJA,GAQI,CAPJC,OAOI,MAPJA,OAOI,CANJC,QAMI,MANJA,QAMI,CALJC,SAKI,MALJA,SAKI,CAJJC,GAII,MAJJA,GAII,CAHJC,UAGI,MAHJA,UAGI,CAFJC,UAEI,MAFJA,UAEI,CADJC,eACI,MADJA,eACI,CACJ,oBAAcb,cAAc,EAA5B,CAAQc,CAAR,iBAAQA,CAAR,CACA,GAAMC,CAAAA,OAAO,CAAGb,eAAe,CAACM,QAAD,CAA/B,CACA,iBAAwCP,WAAW,CAACK,GAAD,CAAnD,CAAQU,YAAR,cAAQA,YAAR,CAAsBC,aAAtB,cAAsBA,aAAtB,CACA,cAA4BpB,QAAQ,cAClC,KAAC,kBAAD,EACE,SAAS,CAAEiB,CAAC,CAAC,cAAD,CAAiB,CAAEI,MAAM,CAAEX,OAAV,CAAjB,CADd,CAEE,mBAAmB,CAAEU,aAAa,CAACE,IAAd,CAAmBH,YAAnB,CAFvB,CAGE,kBAAkB,CAAER,QAHtB,CAIE,iBAAiB,CAAEO,OAAO,CAACK,QAAR,EAJrB,CAKE,iBAAiB,CAAEX,SAAS,CAACW,QAAV,EALrB,CAME,GAAG,CAAEV,GANP,CAOE,UAAU,CAAEC,UAPd,CAQE,UAAU,CAAEC,UARd,CASE,QAAQ,CAAEC,eATZ,CAUE,MAAM,KAVR,EADkC,CAApC,wCAAOQ,iBAAP,eAeA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAiB,CACzCA,KAAK,CAACC,eAAN,GACAH,iBAAiB,GAClB,CAHD,CAKA,mBACE,MAAC,iBAAD,EAAmB,UAAU,CAAC,QAA9B,CAAuC,OAAO,CAAEC,iBAAhD,WACGV,UADH,KAEGP,OAAO,GAAK,iBAAZ,eACC,KAAC,UAAD,EAAY,OAAO,CAAC,MAApB,CAA2B,KAAK,CAAC,IAAjC,CAAsC,EAAE,CAAC,KAAzC,uBACE,KAAC,aAAD,EAAe,KAAK,CAAC,MAArB,EADF,EAHJ,GADF,CAUD,CA5CD,CA8CA,cAAeD,CAAAA,SAAf","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport BigNumber from 'bignumber.js'\nimport { Flex, IconButton, useModal, CalculateIcon } from '@pancakeswap/uikit'\nimport RoiCalculatorModal from 'components/RoiCalculatorModal'\nimport { useTranslation } from 'contexts/Localization'\nimport { useFarmUser, useLpTokenPrice } from 'state/farms/hooks'\n\nconst ApyLabelContainer = styled(Flex)`\n  cursor: pointer;\n\n  &:hover {\n    opacity: 0.5;\n  }\n`\n\nexport interface ApyButtonProps {\n  variant: 'text' | 'text-and-button'\n  pid: number\n  lpSymbol: string\n  lpLabel?: string\n  multiplier: string\n  cakePrice?: BigNumber\n  apr?: number\n  displayApr?: string\n  addLiquidityUrl?: string\n}\n\nconst ApyButton: React.FC<ApyButtonProps> = ({\n  variant,\n  pid,\n  lpLabel,\n  lpSymbol,\n  cakePrice,\n  apr,\n  multiplier,\n  displayApr,\n  addLiquidityUrl,\n}) => {\n  const { t } = useTranslation()\n  const lpPrice = useLpTokenPrice(lpSymbol)\n  const { tokenBalance, stakedBalance } = useFarmUser(pid)\n  const [onPresentApyModal] = useModal(\n    <RoiCalculatorModal\n      linkLabel={t('Get %symbol%', { symbol: lpLabel })}\n      stakingTokenBalance={stakedBalance.plus(tokenBalance)}\n      stakingTokenSymbol={lpSymbol}\n      stakingTokenPrice={lpPrice.toNumber()}\n      earningTokenPrice={cakePrice.toNumber()}\n      apr={apr}\n      multiplier={multiplier}\n      displayApr={displayApr}\n      linkHref={addLiquidityUrl}\n      isFarm\n    />,\n  )\n\n  const handleClickButton = (event): void => {\n    event.stopPropagation()\n    onPresentApyModal()\n  }\n\n  return (\n    <ApyLabelContainer alignItems=\"center\" onClick={handleClickButton}>\n      {displayApr}%\n      {variant === 'text-and-button' && (\n        <IconButton variant=\"text\" scale=\"sm\" ml=\"4px\">\n          <CalculateIcon width=\"18px\" />\n        </IconButton>\n      )}\n    </ApyLabelContainer>\n  )\n}\n\nexport default ApyButton\n"]},"metadata":{},"sourceType":"module"}