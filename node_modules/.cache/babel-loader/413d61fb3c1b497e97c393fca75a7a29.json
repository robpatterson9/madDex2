{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useState,useMemo,useCallback,useEffect}from'react';import styled from'styled-components';import{Text,Flex,Box,Skeleton,useMatchBreakpoints,ArrowBackIcon,ArrowForwardIcon}from'@pancakeswap/uikit';import{Link}from'react-router-dom';import{CurrencyLogo}from'views/Info/components/CurrencyLogo';import{formatAmount}from'views/Info/utils/formatInfoNumbers';import Percent from'views/Info/components/Percent';import{useTranslation}from'contexts/Localization';import{ClickableColumnHeader,TableWrapper,PageButtons,Arrow,Break}from'./shared';/**\n *  Columns on different layouts\n *  6 = | # | Name | Price | Price Change | Volume 24H | TVL |\n *  5 = | # | Name | Price |              | Volume 24H | TVL |\n *  4 = | # | Name | Price |              | Volume 24H |     |\n *  2 = |   | Name |       |              | Volume 24H |     |\n *  On smallest screen Name is reduced to just symbol\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ResponsiveGrid=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-gap: 1em;\\n  align-items: center;\\n\\n  padding: 0 24px;\\n\\n  grid-template-columns: 20px 3fr repeat(4, 1fr);\\n\\n  @media screen and (max-width: 900px) {\\n    grid-template-columns: 20px 2fr repeat(3, 1fr);\\n    & :nth-child(4) {\\n      display: none;\\n    }\\n  }\\n\\n  @media screen and (max-width: 800px) {\\n    grid-template-columns: 20px 2fr repeat(2, 1fr);\\n    & :nth-child(6) {\\n      display: none;\\n    }\\n  }\\n\\n  @media screen and (max-width: 670px) {\\n    grid-template-columns: 1fr 1fr;\\n    > *:first-child {\\n      display: none;\\n    }\\n    > *:nth-child(3) {\\n      display: none;\\n    }\\n  }\\n\"])));var LinkWrapper=styled(Link)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  text-decoration: none;\\n  :hover {\\n    cursor: pointer;\\n    opacity: 0.7;\\n  }\\n\"])));var ResponsiveLogo=styled(CurrencyLogo)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  @media screen and (max-width: 670px) {\\n    width: 16px;\\n    height: 16px;\\n  }\\n\"])));var TableLoader=function TableLoader(){var loadingRow=/*#__PURE__*/_jsxs(ResponsiveGrid,{children:[/*#__PURE__*/_jsx(Skeleton,{}),/*#__PURE__*/_jsx(Skeleton,{}),/*#__PURE__*/_jsx(Skeleton,{}),/*#__PURE__*/_jsx(Skeleton,{}),/*#__PURE__*/_jsx(Skeleton,{}),/*#__PURE__*/_jsx(Skeleton,{})]});return/*#__PURE__*/_jsxs(_Fragment,{children:[loadingRow,loadingRow,loadingRow]});};var DataRow=function DataRow(_ref){var tokenData=_ref.tokenData,index=_ref.index;var _useMatchBreakpoints=useMatchBreakpoints(),isXs=_useMatchBreakpoints.isXs,isSm=_useMatchBreakpoints.isSm;return/*#__PURE__*/_jsx(LinkWrapper,{to:\"/info/token/\".concat(tokenData.address),children:/*#__PURE__*/_jsxs(ResponsiveGrid,{children:[/*#__PURE__*/_jsx(Flex,{children:/*#__PURE__*/_jsx(Text,{children:index+1})}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",children:[/*#__PURE__*/_jsx(ResponsiveLogo,{address:tokenData.address}),(isXs||isSm)&&/*#__PURE__*/_jsx(Text,{ml:\"8px\",children:tokenData.symbol}),!isXs&&!isSm&&/*#__PURE__*/_jsxs(Flex,{marginLeft:\"10px\",children:[/*#__PURE__*/_jsx(Text,{children:tokenData.name}),/*#__PURE__*/_jsxs(Text,{ml:\"8px\",children:[\"(\",tokenData.symbol,\")\"]})]})]}),/*#__PURE__*/_jsxs(Text,{fontWeight:400,children:[\"$\",formatAmount(tokenData.priceUSD,{notation:'standard'})]}),/*#__PURE__*/_jsx(Text,{fontWeight:400,children:/*#__PURE__*/_jsx(Percent,{value:tokenData.priceUSDChange,fontWeight:400})}),/*#__PURE__*/_jsxs(Text,{fontWeight:400,children:[\"$\",formatAmount(tokenData.volumeUSD)]}),/*#__PURE__*/_jsxs(Text,{fontWeight:400,children:[\"$\",formatAmount(tokenData.liquidityUSD)]})]})});};var SORT_FIELD={name:'name',volumeUSD:'volumeUSD',tvlUSD:'tvlUSD',priceUSD:'priceUSD',priceUSDChange:'priceUSDChange',priceUSDChangeWeek:'priceUSDChangeWeek'};var MAX_ITEMS=10;var TokenTable=function TokenTable(_ref2){var tokenDatas=_ref2.tokenDatas,_ref2$maxItems=_ref2.maxItems,maxItems=_ref2$maxItems===void 0?MAX_ITEMS:_ref2$maxItems;var _useState=useState(SORT_FIELD.volumeUSD),_useState2=_slicedToArray(_useState,2),sortField=_useState2[0],setSortField=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),sortDirection=_useState4[0],setSortDirection=_useState4[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),maxPage=_useState8[0],setMaxPage=_useState8[1];useEffect(function(){var extraPages=1;if(tokenDatas){if(tokenDatas.length%maxItems===0){extraPages=0;}setMaxPage(Math.floor(tokenDatas.length/maxItems)+extraPages);}},[maxItems,tokenDatas]);var sortedTokens=useMemo(function(){return tokenDatas?tokenDatas.sort(function(a,b){if(a&&b){return a[sortField]>b[sortField]?(sortDirection?-1:1)*1:(sortDirection?-1:1)*-1;}return-1;}).slice(maxItems*(page-1),page*maxItems):[];},[tokenDatas,maxItems,page,sortDirection,sortField]);var handleSort=useCallback(function(newField){setSortField(newField);setSortDirection(sortField!==newField?true:!sortDirection);},[sortDirection,sortField]);var arrow=useCallback(function(field){var directionArrow=!sortDirection?'↑':'↓';return sortField===field?directionArrow:'';},[sortDirection,sortField]);if(!tokenDatas){return/*#__PURE__*/_jsx(Skeleton,{});}return/*#__PURE__*/_jsxs(TableWrapper,{children:[/*#__PURE__*/_jsxs(ResponsiveGrid,{children:[/*#__PURE__*/_jsx(Text,{color:\"secondary\",fontSize:\"12px\",bold:true,children:\"#\"}),/*#__PURE__*/_jsxs(ClickableColumnHeader,{color:\"secondary\",fontSize:\"12px\",bold:true,onClick:function onClick(){return handleSort(SORT_FIELD.name);},textTransform:\"uppercase\",children:[t('Name'),\" \",arrow(SORT_FIELD.name)]}),/*#__PURE__*/_jsxs(ClickableColumnHeader,{color:\"secondary\",fontSize:\"12px\",bold:true,onClick:function onClick(){return handleSort(SORT_FIELD.priceUSD);},textTransform:\"uppercase\",children:[t('Price'),\" \",arrow(SORT_FIELD.priceUSD)]}),/*#__PURE__*/_jsxs(ClickableColumnHeader,{color:\"secondary\",fontSize:\"12px\",bold:true,onClick:function onClick(){return handleSort(SORT_FIELD.priceUSDChange);},textTransform:\"uppercase\",children:[t('Price Change'),\" \",arrow(SORT_FIELD.priceUSDChange)]}),/*#__PURE__*/_jsxs(ClickableColumnHeader,{color:\"secondary\",fontSize:\"12px\",bold:true,onClick:function onClick(){return handleSort(SORT_FIELD.volumeUSD);},textTransform:\"uppercase\",children:[t('Volume 24H'),\" \",arrow(SORT_FIELD.volumeUSD)]}),/*#__PURE__*/_jsxs(ClickableColumnHeader,{color:\"secondary\",fontSize:\"12px\",bold:true,onClick:function onClick(){return handleSort(SORT_FIELD.tvlUSD);},textTransform:\"uppercase\",children:[t('Liquidity'),\" \",arrow(SORT_FIELD.tvlUSD)]})]}),/*#__PURE__*/_jsx(Break,{}),sortedTokens.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[sortedTokens.map(function(data,i){if(data){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(DataRow,{index:(page-1)*MAX_ITEMS+i,tokenData:data}),/*#__PURE__*/_jsx(Break,{})]},data.address);}return null;}),/*#__PURE__*/_jsxs(PageButtons,{children:[/*#__PURE__*/_jsx(Arrow,{onClick:function onClick(){setPage(page===1?page:page-1);},children:/*#__PURE__*/_jsx(ArrowBackIcon,{color:page===1?'textDisabled':'primary'})}),/*#__PURE__*/_jsx(Text,{children:t('Page %page% of %maxPage%',{page:page,maxPage:maxPage})}),/*#__PURE__*/_jsx(Arrow,{onClick:function onClick(){setPage(page===maxPage?page:page+1);},children:/*#__PURE__*/_jsx(ArrowForwardIcon,{color:page===maxPage?'textDisabled':'primary'})})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TableLoader,{}),/*#__PURE__*/_jsx(Box,{})]})]});};export default TokenTable;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Info/components/InfoTables/TokensTable.tsx"],"names":["React","useState","useMemo","useCallback","useEffect","styled","Text","Flex","Box","Skeleton","useMatchBreakpoints","ArrowBackIcon","ArrowForwardIcon","Link","CurrencyLogo","formatAmount","Percent","useTranslation","ClickableColumnHeader","TableWrapper","PageButtons","Arrow","Break","ResponsiveGrid","div","LinkWrapper","ResponsiveLogo","TableLoader","loadingRow","DataRow","tokenData","index","isXs","isSm","address","symbol","name","priceUSD","notation","priceUSDChange","volumeUSD","liquidityUSD","SORT_FIELD","tvlUSD","priceUSDChangeWeek","MAX_ITEMS","TokenTable","tokenDatas","maxItems","sortField","setSortField","sortDirection","setSortDirection","t","page","setPage","maxPage","setMaxPage","extraPages","length","Math","floor","sortedTokens","sort","a","b","slice","handleSort","newField","arrow","field","directionArrow","map","data","i"],"mappings":"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","sourcesContent":["import React, { useState, useMemo, useCallback, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Text, Flex, Box, Skeleton, useMatchBreakpoints, ArrowBackIcon, ArrowForwardIcon } from '@pancakeswap/uikit'\nimport { TokenData } from 'state/info/types'\nimport { Link } from 'react-router-dom'\nimport { CurrencyLogo } from 'views/Info/components/CurrencyLogo'\nimport { formatAmount } from 'views/Info/utils/formatInfoNumbers'\nimport Percent from 'views/Info/components/Percent'\nimport { useTranslation } from 'contexts/Localization'\nimport { ClickableColumnHeader, TableWrapper, PageButtons, Arrow, Break } from './shared'\n\n/**\n *  Columns on different layouts\n *  6 = | # | Name | Price | Price Change | Volume 24H | TVL |\n *  5 = | # | Name | Price |              | Volume 24H | TVL |\n *  4 = | # | Name | Price |              | Volume 24H |     |\n *  2 = |   | Name |       |              | Volume 24H |     |\n *  On smallest screen Name is reduced to just symbol\n */\nconst ResponsiveGrid = styled.div`\n  display: grid;\n  grid-gap: 1em;\n  align-items: center;\n\n  padding: 0 24px;\n\n  grid-template-columns: 20px 3fr repeat(4, 1fr);\n\n  @media screen and (max-width: 900px) {\n    grid-template-columns: 20px 2fr repeat(3, 1fr);\n    & :nth-child(4) {\n      display: none;\n    }\n  }\n\n  @media screen and (max-width: 800px) {\n    grid-template-columns: 20px 2fr repeat(2, 1fr);\n    & :nth-child(6) {\n      display: none;\n    }\n  }\n\n  @media screen and (max-width: 670px) {\n    grid-template-columns: 1fr 1fr;\n    > *:first-child {\n      display: none;\n    }\n    > *:nth-child(3) {\n      display: none;\n    }\n  }\n`\n\nconst LinkWrapper = styled(Link)`\n  text-decoration: none;\n  :hover {\n    cursor: pointer;\n    opacity: 0.7;\n  }\n`\n\nconst ResponsiveLogo = styled(CurrencyLogo)`\n  @media screen and (max-width: 670px) {\n    width: 16px;\n    height: 16px;\n  }\n`\n\nconst TableLoader: React.FC = () => {\n  const loadingRow = (\n    <ResponsiveGrid>\n      <Skeleton />\n      <Skeleton />\n      <Skeleton />\n      <Skeleton />\n      <Skeleton />\n      <Skeleton />\n    </ResponsiveGrid>\n  )\n  return (\n    <>\n      {loadingRow}\n      {loadingRow}\n      {loadingRow}\n    </>\n  )\n}\n\nconst DataRow: React.FC<{ tokenData: TokenData; index: number }> = ({ tokenData, index }) => {\n  const { isXs, isSm } = useMatchBreakpoints()\n  return (\n    <LinkWrapper to={`/info/token/${tokenData.address}`}>\n      <ResponsiveGrid>\n        <Flex>\n          <Text>{index + 1}</Text>\n        </Flex>\n        <Flex alignItems=\"center\">\n          <ResponsiveLogo address={tokenData.address} />\n          {(isXs || isSm) && <Text ml=\"8px\">{tokenData.symbol}</Text>}\n          {!isXs && !isSm && (\n            <Flex marginLeft=\"10px\">\n              <Text>{tokenData.name}</Text>\n              <Text ml=\"8px\">({tokenData.symbol})</Text>\n            </Flex>\n          )}\n        </Flex>\n        <Text fontWeight={400}>${formatAmount(tokenData.priceUSD, { notation: 'standard' })}</Text>\n        <Text fontWeight={400}>\n          <Percent value={tokenData.priceUSDChange} fontWeight={400} />\n        </Text>\n        <Text fontWeight={400}>${formatAmount(tokenData.volumeUSD)}</Text>\n        <Text fontWeight={400}>${formatAmount(tokenData.liquidityUSD)}</Text>\n      </ResponsiveGrid>\n    </LinkWrapper>\n  )\n}\n\nconst SORT_FIELD = {\n  name: 'name',\n  volumeUSD: 'volumeUSD',\n  tvlUSD: 'tvlUSD',\n  priceUSD: 'priceUSD',\n  priceUSDChange: 'priceUSDChange',\n  priceUSDChangeWeek: 'priceUSDChangeWeek',\n}\n\nconst MAX_ITEMS = 10\n\nconst TokenTable: React.FC<{\n  tokenDatas: TokenData[] | undefined\n  maxItems?: number\n}> = ({ tokenDatas, maxItems = MAX_ITEMS }) => {\n  const [sortField, setSortField] = useState(SORT_FIELD.volumeUSD)\n  const [sortDirection, setSortDirection] = useState<boolean>(true)\n\n  const { t } = useTranslation()\n\n  const [page, setPage] = useState(1)\n  const [maxPage, setMaxPage] = useState(1)\n  useEffect(() => {\n    let extraPages = 1\n    if (tokenDatas) {\n      if (tokenDatas.length % maxItems === 0) {\n        extraPages = 0\n      }\n      setMaxPage(Math.floor(tokenDatas.length / maxItems) + extraPages)\n    }\n  }, [maxItems, tokenDatas])\n\n  const sortedTokens = useMemo(() => {\n    return tokenDatas\n      ? tokenDatas\n          .sort((a, b) => {\n            if (a && b) {\n              return a[sortField as keyof TokenData] > b[sortField as keyof TokenData]\n                ? (sortDirection ? -1 : 1) * 1\n                : (sortDirection ? -1 : 1) * -1\n            }\n            return -1\n          })\n          .slice(maxItems * (page - 1), page * maxItems)\n      : []\n  }, [tokenDatas, maxItems, page, sortDirection, sortField])\n\n  const handleSort = useCallback(\n    (newField: string) => {\n      setSortField(newField)\n      setSortDirection(sortField !== newField ? true : !sortDirection)\n    },\n    [sortDirection, sortField],\n  )\n\n  const arrow = useCallback(\n    (field: string) => {\n      const directionArrow = !sortDirection ? '↑' : '↓'\n      return sortField === field ? directionArrow : ''\n    },\n    [sortDirection, sortField],\n  )\n\n  if (!tokenDatas) {\n    return <Skeleton />\n  }\n\n  return (\n    <TableWrapper>\n      <ResponsiveGrid>\n        <Text color=\"secondary\" fontSize=\"12px\" bold>\n          #\n        </Text>\n        <ClickableColumnHeader\n          color=\"secondary\"\n          fontSize=\"12px\"\n          bold\n          onClick={() => handleSort(SORT_FIELD.name)}\n          textTransform=\"uppercase\"\n        >\n          {t('Name')} {arrow(SORT_FIELD.name)}\n        </ClickableColumnHeader>\n        <ClickableColumnHeader\n          color=\"secondary\"\n          fontSize=\"12px\"\n          bold\n          onClick={() => handleSort(SORT_FIELD.priceUSD)}\n          textTransform=\"uppercase\"\n        >\n          {t('Price')} {arrow(SORT_FIELD.priceUSD)}\n        </ClickableColumnHeader>\n        <ClickableColumnHeader\n          color=\"secondary\"\n          fontSize=\"12px\"\n          bold\n          onClick={() => handleSort(SORT_FIELD.priceUSDChange)}\n          textTransform=\"uppercase\"\n        >\n          {t('Price Change')} {arrow(SORT_FIELD.priceUSDChange)}\n        </ClickableColumnHeader>\n        <ClickableColumnHeader\n          color=\"secondary\"\n          fontSize=\"12px\"\n          bold\n          onClick={() => handleSort(SORT_FIELD.volumeUSD)}\n          textTransform=\"uppercase\"\n        >\n          {t('Volume 24H')} {arrow(SORT_FIELD.volumeUSD)}\n        </ClickableColumnHeader>\n        <ClickableColumnHeader\n          color=\"secondary\"\n          fontSize=\"12px\"\n          bold\n          onClick={() => handleSort(SORT_FIELD.tvlUSD)}\n          textTransform=\"uppercase\"\n        >\n          {t('Liquidity')} {arrow(SORT_FIELD.tvlUSD)}\n        </ClickableColumnHeader>\n      </ResponsiveGrid>\n\n      <Break />\n      {sortedTokens.length > 0 ? (\n        <>\n          {sortedTokens.map((data, i) => {\n            if (data) {\n              return (\n                <React.Fragment key={data.address}>\n                  <DataRow index={(page - 1) * MAX_ITEMS + i} tokenData={data} />\n                  <Break />\n                </React.Fragment>\n              )\n            }\n            return null\n          })}\n          <PageButtons>\n            <Arrow\n              onClick={() => {\n                setPage(page === 1 ? page : page - 1)\n              }}\n            >\n              <ArrowBackIcon color={page === 1 ? 'textDisabled' : 'primary'} />\n            </Arrow>\n            <Text>{t('Page %page% of %maxPage%', { page, maxPage })}</Text>\n            <Arrow\n              onClick={() => {\n                setPage(page === maxPage ? page : page + 1)\n              }}\n            >\n              <ArrowForwardIcon color={page === maxPage ? 'textDisabled' : 'primary'} />\n            </Arrow>\n          </PageButtons>\n        </>\n      ) : (\n        <>\n          <TableLoader />\n          <Box />\n        </>\n      )}\n    </TableWrapper>\n  )\n}\n\nexport default TokenTable\n"]},"metadata":{},"sourceType":"module"}