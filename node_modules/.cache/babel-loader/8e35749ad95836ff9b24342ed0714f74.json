{"ast":null,"code":"var _jsxFileName = \"/Volumes/evo970/lou/madDex-master/src/components/App/Transactions/TransactionsModal.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback } from 'react';\nimport useActiveWeb3React from 'hooks/useActiveWeb3React';\nimport { useDispatch } from 'react-redux';\nimport { Modal, ModalBody, Text, Button, Flex } from '@pancakeswap/uikit';\nimport { useTranslation } from 'contexts/Localization';\nimport { orderBy } from 'lodash';\nimport { isTransactionRecent, useAllTransactions } from 'state/transactions/hooks';\nimport { clearAllTransactions } from 'state/transactions/actions';\nimport { AutoRow } from '../../Layout/Row';\nimport Transaction from './Transaction';\nimport ConnectWalletButton from '../../ConnectWalletButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction renderTransactions(transactions) {\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    flexDirection: \"column\",\n    children: transactions.map(tx => {\n      return /*#__PURE__*/_jsxDEV(Transaction, {\n        tx: tx\n      }, tx.hash + tx.addedTime, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 16\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n}\n\nconst TransactionsModal = ({\n  onDismiss\n}) => {\n  _s();\n\n  const {\n    account,\n    chainId\n  } = useActiveWeb3React();\n  const dispatch = useDispatch();\n  const allTransactions = useAllTransactions();\n  const {\n    t\n  } = useTranslation();\n  const sortedRecentTransactions = orderBy(Object.values(allTransactions).filter(isTransactionRecent), 'addedTime', 'desc');\n  const pending = sortedRecentTransactions.filter(tx => !tx.receipt);\n  const confirmed = sortedRecentTransactions.filter(tx => tx.receipt);\n  const clearAllTransactionsCallback = useCallback(() => {\n    if (chainId) dispatch(clearAllTransactions({\n      chainId\n    }));\n  }, [dispatch, chainId]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    title: t('Recent Transactions'),\n    headerBackground: \"gradients.cardHeader\",\n    onDismiss: onDismiss,\n    children: account ? /*#__PURE__*/_jsxDEV(ModalBody, {\n      children: !!pending.length || !!confirmed.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(AutoRow, {\n          mb: \"1rem\",\n          style: {\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            children: t('Recent Transactions')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"tertiary\",\n            scale: \"xs\",\n            onClick: clearAllTransactionsCallback,\n            children: t('clear all')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this), renderTransactions(pending), renderTransactions(confirmed)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Text, {\n        children: t('No recent transactions')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ConnectWalletButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TransactionsModal, \"OnqGXRMvAxs9bQj5BS8nCSYk37A=\", false, function () {\n  return [useActiveWeb3React, useDispatch, useAllTransactions, useTranslation];\n});\n\n_c = TransactionsModal;\nexport default TransactionsModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"TransactionsModal\");","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/components/App/Transactions/TransactionsModal.tsx"],"names":["React","useCallback","useActiveWeb3React","useDispatch","Modal","ModalBody","Text","Button","Flex","useTranslation","orderBy","isTransactionRecent","useAllTransactions","clearAllTransactions","AutoRow","Transaction","ConnectWalletButton","renderTransactions","transactions","map","tx","hash","addedTime","TransactionsModal","onDismiss","account","chainId","dispatch","allTransactions","t","sortedRecentTransactions","Object","values","filter","pending","receipt","confirmed","clearAllTransactionsCallback","length","justifyContent"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useDispatch } from 'react-redux'\nimport { Modal, ModalBody, Text, Button, Flex, InjectedModalProps } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { orderBy } from 'lodash'\nimport { isTransactionRecent, useAllTransactions } from 'state/transactions/hooks'\nimport { TransactionDetails } from 'state/transactions/reducer'\nimport { AppDispatch } from 'state'\nimport { clearAllTransactions } from 'state/transactions/actions'\nimport { AutoRow } from '../../Layout/Row'\nimport Transaction from './Transaction'\nimport ConnectWalletButton from '../../ConnectWalletButton'\n\nfunction renderTransactions(transactions: TransactionDetails[]) {\n  return (\n    <Flex flexDirection=\"column\">\n      {transactions.map((tx) => {\n        return <Transaction key={tx.hash + tx.addedTime} tx={tx} />\n      })}\n    </Flex>\n  )\n}\n\nconst TransactionsModal: React.FC<InjectedModalProps> = ({ onDismiss }) => {\n  const { account, chainId } = useActiveWeb3React()\n  const dispatch = useDispatch<AppDispatch>()\n  const allTransactions = useAllTransactions()\n\n  const { t } = useTranslation()\n\n  const sortedRecentTransactions = orderBy(\n    Object.values(allTransactions).filter(isTransactionRecent),\n    'addedTime',\n    'desc',\n  )\n\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt)\n  const confirmed = sortedRecentTransactions.filter((tx) => tx.receipt)\n\n  const clearAllTransactionsCallback = useCallback(() => {\n    if (chainId) dispatch(clearAllTransactions({ chainId }))\n  }, [dispatch, chainId])\n\n  return (\n    <Modal title={t('Recent Transactions')} headerBackground=\"gradients.cardHeader\" onDismiss={onDismiss}>\n      {account ? (\n        <ModalBody>\n          {!!pending.length || !!confirmed.length ? (\n            <>\n              <AutoRow mb=\"1rem\" style={{ justifyContent: 'space-between' }}>\n                <Text>{t('Recent Transactions')}</Text>\n                <Button variant=\"tertiary\" scale=\"xs\" onClick={clearAllTransactionsCallback}>\n                  {t('clear all')}\n                </Button>\n              </AutoRow>\n              {renderTransactions(pending)}\n              {renderTransactions(confirmed)}\n            </>\n          ) : (\n            <Text>{t('No recent transactions')}</Text>\n          )}\n        </ModalBody>\n      ) : (\n        <ConnectWalletButton />\n      )}\n    </Modal>\n  )\n}\n\nexport default TransactionsModal\n"]},"metadata":{},"sourceType":"module"}