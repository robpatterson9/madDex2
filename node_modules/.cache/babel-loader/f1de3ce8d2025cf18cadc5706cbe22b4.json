{"ast":null,"code":"import _objectSpread from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _excluded=[\"pair\"];var _templateObject;import React,{useState}from'react';import{JSBI,Percent}from'@pancakeswap/sdk';import{Button,Text,ChevronUpIcon,ChevronDownIcon,Card,CardBody,Flex,AddIcon}from'@pancakeswap/uikit';import{Link}from'react-router-dom';import styled from'styled-components';import{useTranslation}from'contexts/Localization';import useActiveWeb3React from'hooks/useActiveWeb3React';import useTotalSupply from'../../hooks/useTotalSupply';import{useTokenBalance}from'../../state/wallet/hooks';import{currencyId}from'../../utils/currencyId';import{unwrappedToken}from'../../utils/wrappedCurrency';import{LightCard}from'../Card';import{AutoColumn}from'../Layout/Column';import CurrencyLogo from'../Logo/CurrencyLogo';import{DoubleCurrencyLogo}from'../Logo';import{RowBetween,RowFixed}from'../Layout/Row';import{BIG_INT_ZERO}from'../../config/constants';import Dots from'../Loader/Dots';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FixedHeightRow=styled(RowBetween)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 24px;\\n\"])));export function MinimalPositionCard(_ref){var pair=_ref.pair,_ref$showUnwrapped=_ref.showUnwrapped,showUnwrapped=_ref$showUnwrapped===void 0?false:_ref$showUnwrapped;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account;var _useTranslation=useTranslation(),t=_useTranslation.t;var currency0=showUnwrapped?pair.token0:unwrappedToken(pair.token0);var currency1=showUnwrapped?pair.token1:unwrappedToken(pair.token1);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMore=_useState2[0],setShowMore=_useState2[1];var userPoolBalance=useTokenBalance(account!==null&&account!==void 0?account:undefined,pair.liquidityToken);var totalPoolTokens=useTotalSupply(pair.liquidityToken);var poolTokenPercentage=!!userPoolBalance&&!!totalPoolTokens&&JSBI.greaterThanOrEqual(totalPoolTokens.raw,userPoolBalance.raw)?new Percent(userPoolBalance.raw,totalPoolTokens.raw):undefined;var _ref2=!!pair&&!!totalPoolTokens&&!!userPoolBalance&&// this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\nJSBI.greaterThanOrEqual(totalPoolTokens.raw,userPoolBalance.raw)?[pair.getLiquidityValue(pair.token0,totalPoolTokens,userPoolBalance,false),pair.getLiquidityValue(pair.token1,totalPoolTokens,userPoolBalance,false)]:[undefined,undefined],_ref3=_slicedToArray(_ref2,2),token0Deposited=_ref3[0],token1Deposited=_ref3[1];return/*#__PURE__*/_jsx(_Fragment,{children:userPoolBalance&&JSBI.greaterThan(userPoolBalance.raw,JSBI.BigInt(0))?/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"16px\",children:[/*#__PURE__*/_jsx(FixedHeightRow,{children:/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(Text,{color:\"secondary\",bold:true,children:t('LP tokens in your wallet')})})}),/*#__PURE__*/_jsxs(FixedHeightRow,{onClick:function onClick(){return setShowMore(!showMore);},children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(DoubleCurrencyLogo,{currency0:currency0,currency1:currency1,margin:true,size:20}),/*#__PURE__*/_jsxs(Text,{small:true,color:\"textSubtle\",children:[currency0.symbol,\"-\",currency1.symbol,\" LP\"]})]}),/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(Text,{children:userPoolBalance?userPoolBalance.toSignificant(4):'-'})})]}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"4px\",children:[/*#__PURE__*/_jsxs(FixedHeightRow,{children:[/*#__PURE__*/_jsxs(Text,{color:\"textSubtle\",small:true,children:[t('Share of Pool'),\":\"]}),/*#__PURE__*/_jsx(Text,{children:poolTokenPercentage?\"\".concat(poolTokenPercentage.toFixed(6),\"%\"):'-'})]}),/*#__PURE__*/_jsxs(FixedHeightRow,{children:[/*#__PURE__*/_jsxs(Text,{color:\"textSubtle\",small:true,children:[t('Pooled %asset%',{asset:currency0.symbol}),\":\"]}),token0Deposited?/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(Text,{ml:\"6px\",children:token0Deposited===null||token0Deposited===void 0?void 0:token0Deposited.toSignificant(6)})}):'-']}),/*#__PURE__*/_jsxs(FixedHeightRow,{children:[/*#__PURE__*/_jsxs(Text,{color:\"textSubtle\",small:true,children:[t('Pooled %asset%',{asset:currency1.symbol}),\":\"]}),token1Deposited?/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(Text,{ml:\"6px\",children:token1Deposited===null||token1Deposited===void 0?void 0:token1Deposited.toSignificant(6)})}):'-']})]})]})})}):/*#__PURE__*/_jsx(LightCard,{children:/*#__PURE__*/_jsxs(Text,{fontSize:\"14px\",style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"pancake-icon\",children:\"\\uD83E\\uDD5E\"}),' ',t(\"By adding liquidity you'll earn 0.17% of all trades on this pair proportional to your share of the pool. Fees are added to the pool, accrue in real time and can be claimed by withdrawing your liquidity.\")]})})});}export default function FullPositionCard(_ref4){var pair=_ref4.pair,props=_objectWithoutProperties(_ref4,_excluded);var _useActiveWeb3React2=useActiveWeb3React(),account=_useActiveWeb3React2.account;var currency0=unwrappedToken(pair.token0);var currency1=unwrappedToken(pair.token1);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showMore=_useState4[0],setShowMore=_useState4[1];var userPoolBalance=useTokenBalance(account!==null&&account!==void 0?account:undefined,pair.liquidityToken);var totalPoolTokens=useTotalSupply(pair.liquidityToken);var poolTokenPercentage=!!userPoolBalance&&!!totalPoolTokens&&JSBI.greaterThanOrEqual(totalPoolTokens.raw,userPoolBalance.raw)?new Percent(userPoolBalance.raw,totalPoolTokens.raw):undefined;var _ref5=!!pair&&!!totalPoolTokens&&!!userPoolBalance&&// this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\nJSBI.greaterThanOrEqual(totalPoolTokens.raw,userPoolBalance.raw)?[pair.getLiquidityValue(pair.token0,totalPoolTokens,userPoolBalance,false),pair.getLiquidityValue(pair.token1,totalPoolTokens,userPoolBalance,false)]:[undefined,undefined],_ref6=_slicedToArray(_ref5,2),token0Deposited=_ref6[0],token1Deposited=_ref6[1];return/*#__PURE__*/_jsxs(Card,_objectSpread(_objectSpread({style:{borderRadius:'12px'}},props),{},{children:[/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",role:\"button\",onClick:function onClick(){return setShowMore(!showMore);},p:\"16px\",children:[/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",mb:\"4px\",children:[/*#__PURE__*/_jsx(DoubleCurrencyLogo,{currency0:currency0,currency1:currency1,size:20}),/*#__PURE__*/_jsx(Text,{bold:true,ml:\"8px\",children:!currency0||!currency1?/*#__PURE__*/_jsx(Dots,{children:\"Loading\"}):\"\".concat(currency0.symbol,\"/\").concat(currency1.symbol)})]}),/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",color:\"textSubtle\",children:userPoolBalance===null||userPoolBalance===void 0?void 0:userPoolBalance.toSignificant(4)})]}),showMore?/*#__PURE__*/_jsx(ChevronUpIcon,{}):/*#__PURE__*/_jsx(ChevronDownIcon,{})]}),showMore&&/*#__PURE__*/_jsxs(AutoColumn,{gap:\"8px\",style:{padding:'16px'},children:[/*#__PURE__*/_jsxs(FixedHeightRow,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{size:\"20px\",currency:currency0}),/*#__PURE__*/_jsxs(Text,{color:\"textSubtle\",ml:\"4px\",children:[\"Pooled \",currency0.symbol]})]}),token0Deposited?/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(Text,{ml:\"6px\",children:token0Deposited===null||token0Deposited===void 0?void 0:token0Deposited.toSignificant(6)})}):'-']}),/*#__PURE__*/_jsxs(FixedHeightRow,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{size:\"20px\",currency:currency1}),/*#__PURE__*/_jsxs(Text,{color:\"textSubtle\",ml:\"4px\",children:[\"Pooled \",currency1.symbol]})]}),token1Deposited?/*#__PURE__*/_jsx(RowFixed,{children:/*#__PURE__*/_jsx(Text,{ml:\"6px\",children:token1Deposited===null||token1Deposited===void 0?void 0:token1Deposited.toSignificant(6)})}):'-']}),/*#__PURE__*/_jsxs(FixedHeightRow,{children:[/*#__PURE__*/_jsx(Text,{color:\"textSubtle\",children:\"Share of pool\"}),/*#__PURE__*/_jsx(Text,{children:poolTokenPercentage?\"\".concat(poolTokenPercentage.toFixed(2)==='0.00'?'<0.01':poolTokenPercentage.toFixed(2),\"%\"):'-'})]}),userPoolBalance&&JSBI.greaterThan(userPoolBalance.raw,BIG_INT_ZERO)&&/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Button,{as:Link,to:\"/remove/\".concat(currencyId(currency0),\"/\").concat(currencyId(currency1)),variant:\"primary\",width:\"100%\",mb:\"8px\",children:\"Remove\"}),/*#__PURE__*/_jsx(Button,{as:Link,to:\"/add/\".concat(currencyId(currency0),\"/\").concat(currencyId(currency1)),variant:\"text\",startIcon:/*#__PURE__*/_jsx(AddIcon,{color:\"primary\"}),width:\"100%\",children:\"Add liquidity instead\"})]})]})]}));}","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/components/PositionCard/index.tsx"],"names":["React","useState","JSBI","Percent","Button","Text","ChevronUpIcon","ChevronDownIcon","Card","CardBody","Flex","AddIcon","Link","styled","useTranslation","useActiveWeb3React","useTotalSupply","useTokenBalance","currencyId","unwrappedToken","LightCard","AutoColumn","CurrencyLogo","DoubleCurrencyLogo","RowBetween","RowFixed","BIG_INT_ZERO","Dots","FixedHeightRow","MinimalPositionCard","pair","showUnwrapped","account","t","currency0","token0","currency1","token1","showMore","setShowMore","userPoolBalance","undefined","liquidityToken","totalPoolTokens","poolTokenPercentage","greaterThanOrEqual","raw","getLiquidityValue","token0Deposited","token1Deposited","greaterThan","BigInt","symbol","toSignificant","toFixed","asset","textAlign","FullPositionCard","props","borderRadius","padding"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { JSBI, Pair, Percent } from '@pancakeswap/sdk'\nimport {\n  Button,\n  Text,\n  ChevronUpIcon,\n  ChevronDownIcon,\n  Card,\n  CardBody,\n  Flex,\n  CardProps,\n  AddIcon,\n} from '@pancakeswap/uikit'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useTotalSupply from '../../hooks/useTotalSupply'\n\nimport { useTokenBalance } from '../../state/wallet/hooks'\nimport { currencyId } from '../../utils/currencyId'\nimport { unwrappedToken } from '../../utils/wrappedCurrency'\n\nimport { LightCard } from '../Card'\nimport { AutoColumn } from '../Layout/Column'\nimport CurrencyLogo from '../Logo/CurrencyLogo'\nimport { DoubleCurrencyLogo } from '../Logo'\nimport { RowBetween, RowFixed } from '../Layout/Row'\nimport { BIG_INT_ZERO } from '../../config/constants'\nimport Dots from '../Loader/Dots'\n\nconst FixedHeightRow = styled(RowBetween)`\n  height: 24px;\n`\n\ninterface PositionCardProps extends CardProps {\n  pair: Pair\n  showUnwrapped?: boolean\n}\n\nexport function MinimalPositionCard({ pair, showUnwrapped = false }: PositionCardProps) {\n  const { account } = useActiveWeb3React()\n\n  const { t } = useTranslation()\n\n  const currency0 = showUnwrapped ? pair.token0 : unwrappedToken(pair.token0)\n  const currency1 = showUnwrapped ? pair.token1 : unwrappedToken(pair.token1)\n\n  const [showMore, setShowMore] = useState(false)\n\n  const userPoolBalance = useTokenBalance(account ?? undefined, pair.liquidityToken)\n  const totalPoolTokens = useTotalSupply(pair.liquidityToken)\n\n  const poolTokenPercentage =\n    !!userPoolBalance && !!totalPoolTokens && JSBI.greaterThanOrEqual(totalPoolTokens.raw, userPoolBalance.raw)\n      ? new Percent(userPoolBalance.raw, totalPoolTokens.raw)\n      : undefined\n\n  const [token0Deposited, token1Deposited] =\n    !!pair &&\n    !!totalPoolTokens &&\n    !!userPoolBalance &&\n    // this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\n    JSBI.greaterThanOrEqual(totalPoolTokens.raw, userPoolBalance.raw)\n      ? [\n          pair.getLiquidityValue(pair.token0, totalPoolTokens, userPoolBalance, false),\n          pair.getLiquidityValue(pair.token1, totalPoolTokens, userPoolBalance, false),\n        ]\n      : [undefined, undefined]\n\n  return (\n    <>\n      {userPoolBalance && JSBI.greaterThan(userPoolBalance.raw, JSBI.BigInt(0)) ? (\n        <Card>\n          <CardBody>\n            <AutoColumn gap=\"16px\">\n              <FixedHeightRow>\n                <RowFixed>\n                  <Text color=\"secondary\" bold>\n                    {t('LP tokens in your wallet')}\n                  </Text>\n                </RowFixed>\n              </FixedHeightRow>\n              <FixedHeightRow onClick={() => setShowMore(!showMore)}>\n                <RowFixed>\n                  <DoubleCurrencyLogo currency0={currency0} currency1={currency1} margin size={20} />\n                  <Text small color=\"textSubtle\">\n                    {currency0.symbol}-{currency1.symbol} LP\n                  </Text>\n                </RowFixed>\n                <RowFixed>\n                  <Text>{userPoolBalance ? userPoolBalance.toSignificant(4) : '-'}</Text>\n                </RowFixed>\n              </FixedHeightRow>\n              <AutoColumn gap=\"4px\">\n                <FixedHeightRow>\n                  <Text color=\"textSubtle\" small>\n                    {t('Share of Pool')}:\n                  </Text>\n                  <Text>{poolTokenPercentage ? `${poolTokenPercentage.toFixed(6)}%` : '-'}</Text>\n                </FixedHeightRow>\n                <FixedHeightRow>\n                  <Text color=\"textSubtle\" small>\n                    {t('Pooled %asset%', { asset: currency0.symbol })}:\n                  </Text>\n                  {token0Deposited ? (\n                    <RowFixed>\n                      <Text ml=\"6px\">{token0Deposited?.toSignificant(6)}</Text>\n                    </RowFixed>\n                  ) : (\n                    '-'\n                  )}\n                </FixedHeightRow>\n                <FixedHeightRow>\n                  <Text color=\"textSubtle\" small>\n                    {t('Pooled %asset%', { asset: currency1.symbol })}:\n                  </Text>\n                  {token1Deposited ? (\n                    <RowFixed>\n                      <Text ml=\"6px\">{token1Deposited?.toSignificant(6)}</Text>\n                    </RowFixed>\n                  ) : (\n                    '-'\n                  )}\n                </FixedHeightRow>\n              </AutoColumn>\n            </AutoColumn>\n          </CardBody>\n        </Card>\n      ) : (\n        <LightCard>\n          <Text fontSize=\"14px\" style={{ textAlign: 'center' }}>\n            <span role=\"img\" aria-label=\"pancake-icon\">\n              ðŸ¥ž\n            </span>{' '}\n            {t(\n              \"By adding liquidity you'll earn 0.17% of all trades on this pair proportional to your share of the pool. Fees are added to the pool, accrue in real time and can be claimed by withdrawing your liquidity.\",\n            )}\n          </Text>\n        </LightCard>\n      )}\n    </>\n  )\n}\n\nexport default function FullPositionCard({ pair, ...props }: PositionCardProps) {\n  const { account } = useActiveWeb3React()\n\n  const currency0 = unwrappedToken(pair.token0)\n  const currency1 = unwrappedToken(pair.token1)\n\n  const [showMore, setShowMore] = useState(false)\n\n  const userPoolBalance = useTokenBalance(account ?? undefined, pair.liquidityToken)\n  const totalPoolTokens = useTotalSupply(pair.liquidityToken)\n\n  const poolTokenPercentage =\n    !!userPoolBalance && !!totalPoolTokens && JSBI.greaterThanOrEqual(totalPoolTokens.raw, userPoolBalance.raw)\n      ? new Percent(userPoolBalance.raw, totalPoolTokens.raw)\n      : undefined\n\n  const [token0Deposited, token1Deposited] =\n    !!pair &&\n    !!totalPoolTokens &&\n    !!userPoolBalance &&\n    // this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\n    JSBI.greaterThanOrEqual(totalPoolTokens.raw, userPoolBalance.raw)\n      ? [\n          pair.getLiquidityValue(pair.token0, totalPoolTokens, userPoolBalance, false),\n          pair.getLiquidityValue(pair.token1, totalPoolTokens, userPoolBalance, false),\n        ]\n      : [undefined, undefined]\n\n  return (\n    <Card style={{ borderRadius: '12px' }} {...props}>\n      <Flex justifyContent=\"space-between\" role=\"button\" onClick={() => setShowMore(!showMore)} p=\"16px\">\n        <Flex flexDirection=\"column\">\n          <Flex alignItems=\"center\" mb=\"4px\">\n            <DoubleCurrencyLogo currency0={currency0} currency1={currency1} size={20} />\n            <Text bold ml=\"8px\">\n              {!currency0 || !currency1 ? <Dots>Loading</Dots> : `${currency0.symbol}/${currency1.symbol}`}\n            </Text>\n          </Flex>\n          <Text fontSize=\"14px\" color=\"textSubtle\">\n            {userPoolBalance?.toSignificant(4)}\n          </Text>\n        </Flex>\n        {showMore ? <ChevronUpIcon /> : <ChevronDownIcon />}\n      </Flex>\n\n      {showMore && (\n        <AutoColumn gap=\"8px\" style={{ padding: '16px' }}>\n          <FixedHeightRow>\n            <RowFixed>\n              <CurrencyLogo size=\"20px\" currency={currency0} />\n              <Text color=\"textSubtle\" ml=\"4px\">\n                Pooled {currency0.symbol}\n              </Text>\n            </RowFixed>\n            {token0Deposited ? (\n              <RowFixed>\n                <Text ml=\"6px\">{token0Deposited?.toSignificant(6)}</Text>\n              </RowFixed>\n            ) : (\n              '-'\n            )}\n          </FixedHeightRow>\n\n          <FixedHeightRow>\n            <RowFixed>\n              <CurrencyLogo size=\"20px\" currency={currency1} />\n              <Text color=\"textSubtle\" ml=\"4px\">\n                Pooled {currency1.symbol}\n              </Text>\n            </RowFixed>\n            {token1Deposited ? (\n              <RowFixed>\n                <Text ml=\"6px\">{token1Deposited?.toSignificant(6)}</Text>\n              </RowFixed>\n            ) : (\n              '-'\n            )}\n          </FixedHeightRow>\n\n          <FixedHeightRow>\n            <Text color=\"textSubtle\">Share of pool</Text>\n            <Text>\n              {poolTokenPercentage\n                ? `${poolTokenPercentage.toFixed(2) === '0.00' ? '<0.01' : poolTokenPercentage.toFixed(2)}%`\n                : '-'}\n            </Text>\n          </FixedHeightRow>\n\n          {userPoolBalance && JSBI.greaterThan(userPoolBalance.raw, BIG_INT_ZERO) && (\n            <Flex flexDirection=\"column\">\n              <Button\n                as={Link}\n                to={`/remove/${currencyId(currency0)}/${currencyId(currency1)}`}\n                variant=\"primary\"\n                width=\"100%\"\n                mb=\"8px\"\n              >\n                Remove\n              </Button>\n              <Button\n                as={Link}\n                to={`/add/${currencyId(currency0)}/${currencyId(currency1)}`}\n                variant=\"text\"\n                startIcon={<AddIcon color=\"primary\" />}\n                width=\"100%\"\n              >\n                Add liquidity instead\n              </Button>\n            </Flex>\n          )}\n        </AutoColumn>\n      )}\n    </Card>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}