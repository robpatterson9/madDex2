{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Flex,Text,IconButton,AddIcon,MinusIcon,useModal,Skeleton}from'@pancakeswap/uikit';import{getBalanceNumber}from'utils/formatBalance';import{usePriceCakeBusd}from'state/farms/hooks';import{useCakeVault}from'state/pools/hooks';import Balance from'components/Balance';import NotEnoughTokensModal from'../../PoolCard/Modals/NotEnoughTokensModal';import{convertSharesToCake}from'../../../helpers';import VaultStakeModal from'../VaultStakeModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HasSharesActions=function HasSharesActions(_ref){var pool=_ref.pool,stakingTokenBalance=_ref.stakingTokenBalance,performanceFee=_ref.performanceFee;var _useCakeVault=useCakeVault(),userShares=_useCakeVault.userData.userShares,pricePerFullShare=_useCakeVault.pricePerFullShare;var stakingToken=pool.stakingToken;var _convertSharesToCake=convertSharesToCake(userShares,pricePerFullShare),cakeAsBigNumber=_convertSharesToCake.cakeAsBigNumber,cakeAsNumberBalance=_convertSharesToCake.cakeAsNumberBalance;var cakePriceBusd=usePriceCakeBusd();var stakedDollarValue=cakePriceBusd.gt(0)?getBalanceNumber(cakeAsBigNumber.multipliedBy(cakePriceBusd),stakingToken.decimals):0;var _useModal=useModal(/*#__PURE__*/_jsx(NotEnoughTokensModal,{tokenSymbol:stakingToken.symbol})),_useModal2=_slicedToArray(_useModal,1),onPresentTokenRequired=_useModal2[0];var _useModal3=useModal(/*#__PURE__*/_jsx(VaultStakeModal,{stakingMax:stakingTokenBalance,performanceFee:performanceFee,pool:pool})),_useModal4=_slicedToArray(_useModal3,1),onPresentStake=_useModal4[0];var _useModal5=useModal(/*#__PURE__*/_jsx(VaultStakeModal,{stakingMax:cakeAsBigNumber,pool:pool,isRemovingStake:true})),_useModal6=_slicedToArray(_useModal5,1),onPresentUnstake=_useModal6[0];return/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Balance,{fontSize:\"20px\",bold:true,value:cakeAsNumberBalance,decimals:5}),/*#__PURE__*/_jsx(Text,{fontSize:\"12px\",color:\"textSubtle\",children:cakePriceBusd.gt(0)?/*#__PURE__*/_jsx(Balance,{value:stakedDollarValue,fontSize:\"12px\",color:\"textSubtle\",decimals:2,prefix:\"~\",unit:\" USD\"}):/*#__PURE__*/_jsx(Skeleton,{mt:\"1px\",height:16,width:64})})]}),/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(IconButton,{variant:\"secondary\",onClick:onPresentUnstake,mr:\"6px\",children:/*#__PURE__*/_jsx(MinusIcon,{color:\"primary\",width:\"24px\"})}),/*#__PURE__*/_jsx(IconButton,{variant:\"secondary\",onClick:stakingTokenBalance.gt(0)?onPresentStake:onPresentTokenRequired,children:/*#__PURE__*/_jsx(AddIcon,{color:\"primary\",width:\"24px\",height:\"24px\"})})]})]});};export default HasSharesActions;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Pools/components/CakeVaultCard/VaultCardActions/HasSharesActions.tsx"],"names":["React","Flex","Text","IconButton","AddIcon","MinusIcon","useModal","Skeleton","getBalanceNumber","usePriceCakeBusd","useCakeVault","Balance","NotEnoughTokensModal","convertSharesToCake","VaultStakeModal","HasSharesActions","pool","stakingTokenBalance","performanceFee","userShares","userData","pricePerFullShare","stakingToken","cakeAsBigNumber","cakeAsNumberBalance","cakePriceBusd","stakedDollarValue","gt","multipliedBy","decimals","symbol","onPresentTokenRequired","onPresentStake","onPresentUnstake"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Flex, Text, IconButton, AddIcon, MinusIcon, useModal, Skeleton } from '@pancakeswap/uikit'\nimport BigNumber from 'bignumber.js'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport { DeserializedPool } from 'state/types'\nimport { usePriceCakeBusd } from 'state/farms/hooks'\nimport { useCakeVault } from 'state/pools/hooks'\nimport Balance from 'components/Balance'\nimport NotEnoughTokensModal from '../../PoolCard/Modals/NotEnoughTokensModal'\nimport { convertSharesToCake } from '../../../helpers'\nimport VaultStakeModal from '../VaultStakeModal'\n\ninterface HasStakeActionProps {\n  pool: DeserializedPool\n  stakingTokenBalance: BigNumber\n  performanceFee: number\n}\n\nconst HasSharesActions: React.FC<HasStakeActionProps> = ({ pool, stakingTokenBalance, performanceFee }) => {\n  const {\n    userData: { userShares },\n    pricePerFullShare,\n  } = useCakeVault()\n  const { stakingToken } = pool\n  const { cakeAsBigNumber, cakeAsNumberBalance } = convertSharesToCake(userShares, pricePerFullShare)\n  const cakePriceBusd = usePriceCakeBusd()\n  const stakedDollarValue = cakePriceBusd.gt(0)\n    ? getBalanceNumber(cakeAsBigNumber.multipliedBy(cakePriceBusd), stakingToken.decimals)\n    : 0\n\n  const [onPresentTokenRequired] = useModal(<NotEnoughTokensModal tokenSymbol={stakingToken.symbol} />)\n  const [onPresentStake] = useModal(\n    <VaultStakeModal stakingMax={stakingTokenBalance} performanceFee={performanceFee} pool={pool} />,\n  )\n  const [onPresentUnstake] = useModal(<VaultStakeModal stakingMax={cakeAsBigNumber} pool={pool} isRemovingStake />)\n\n  return (\n    <Flex justifyContent=\"space-between\" alignItems=\"center\">\n      <Flex flexDirection=\"column\">\n        <Balance fontSize=\"20px\" bold value={cakeAsNumberBalance} decimals={5} />\n        <Text fontSize=\"12px\" color=\"textSubtle\">\n          {cakePriceBusd.gt(0) ? (\n            <Balance value={stakedDollarValue} fontSize=\"12px\" color=\"textSubtle\" decimals={2} prefix=\"~\" unit=\" USD\" />\n          ) : (\n            <Skeleton mt=\"1px\" height={16} width={64} />\n          )}\n        </Text>\n      </Flex>\n      <Flex>\n        <IconButton variant=\"secondary\" onClick={onPresentUnstake} mr=\"6px\">\n          <MinusIcon color=\"primary\" width=\"24px\" />\n        </IconButton>\n        <IconButton variant=\"secondary\" onClick={stakingTokenBalance.gt(0) ? onPresentStake : onPresentTokenRequired}>\n          <AddIcon color=\"primary\" width=\"24px\" height=\"24px\" />\n        </IconButton>\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default HasSharesActions\n"]},"metadata":{},"sourceType":"module"}