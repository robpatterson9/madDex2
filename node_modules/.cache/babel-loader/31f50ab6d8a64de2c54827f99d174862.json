{"ast":null,"code":"import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import BigNumber from'bignumber.js';import React from'react';import styled from'styled-components';import{BIG_ZERO}from'utils/bigNumber';import{Flex,Text,Box}from'@pancakeswap/uikit';import{useTranslation}from'contexts/Localization';import{PoolCategory}from'config/constants/types';import ApprovalAction from'./ApprovalAction';import StakeActions from'./StakeActions';import HarvestActions from'./HarvestActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var InlineText=styled(Text)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: inline;\\n\"])));var CardActions=function CardActions(_ref){var pool=_ref.pool,stakedBalance=_ref.stakedBalance;var sousId=pool.sousId,stakingToken=pool.stakingToken,earningToken=pool.earningToken,harvest=pool.harvest,poolCategory=pool.poolCategory,userData=pool.userData,earningTokenPrice=pool.earningTokenPrice;// Pools using native BNB behave differently than pools using a token\nvar isBnbPool=poolCategory===PoolCategory.BINANCE;var _useTranslation=useTranslation(),t=_useTranslation.t;var allowance=(userData===null||userData===void 0?void 0:userData.allowance)?new BigNumber(userData.allowance):BIG_ZERO;var stakingTokenBalance=(userData===null||userData===void 0?void 0:userData.stakingTokenBalance)?new BigNumber(userData.stakingTokenBalance):BIG_ZERO;var earnings=(userData===null||userData===void 0?void 0:userData.pendingReward)?new BigNumber(userData.pendingReward):BIG_ZERO;var needsApproval=!allowance.gt(0)&&!isBnbPool;var isStaked=stakedBalance.gt(0);var isLoading=!userData;return/*#__PURE__*/_jsx(Flex,{flexDirection:\"column\",children:/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",children:[harvest&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{display:\"inline\",children:[/*#__PURE__*/_jsx(InlineText,{color:\"secondary\",textTransform:\"uppercase\",bold:true,fontSize:\"12px\",children:\"\".concat(earningToken.symbol,\" \")}),/*#__PURE__*/_jsx(InlineText,{color:\"textSubtle\",textTransform:\"uppercase\",bold:true,fontSize:\"12px\",children:t('Earned')})]}),/*#__PURE__*/_jsx(HarvestActions,{earnings:earnings,earningToken:earningToken,sousId:sousId,earningTokenPrice:earningTokenPrice,isBnbPool:isBnbPool,isLoading:isLoading})]}),/*#__PURE__*/_jsxs(Box,{display:\"inline\",children:[/*#__PURE__*/_jsxs(InlineText,{color:isStaked?'secondary':'textSubtle',textTransform:\"uppercase\",bold:true,fontSize:\"12px\",children:[isStaked?stakingToken.symbol:t('Stake'),' ']}),/*#__PURE__*/_jsx(InlineText,{color:isStaked?'textSubtle':'secondary',textTransform:\"uppercase\",bold:true,fontSize:\"12px\",children:isStaked?t('Staked'):\"\".concat(stakingToken.symbol)})]}),needsApproval?/*#__PURE__*/_jsx(ApprovalAction,{pool:pool,isLoading:isLoading}):/*#__PURE__*/_jsx(StakeActions,{isLoading:isLoading,pool:pool,stakingTokenBalance:stakingTokenBalance,stakedBalance:stakedBalance,isBnbPool:isBnbPool,isStaked:isStaked})]})});};export default CardActions;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Pools/components/PoolCard/CardActions/index.tsx"],"names":["BigNumber","React","styled","BIG_ZERO","Flex","Text","Box","useTranslation","PoolCategory","ApprovalAction","StakeActions","HarvestActions","InlineText","CardActions","pool","stakedBalance","sousId","stakingToken","earningToken","harvest","poolCategory","userData","earningTokenPrice","isBnbPool","BINANCE","t","allowance","stakingTokenBalance","earnings","pendingReward","needsApproval","gt","isStaked","isLoading","symbol"],"mappings":"4LAAA,MAAOA,CAAAA,SAAP,KAAsB,cAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,IAAT,CAAeC,IAAf,CAAqBC,GAArB,KAAgC,oBAAhC,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,OAASC,YAAT,KAA6B,wBAA7B,CAEA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,C,6IAEA,GAAMC,CAAAA,UAAU,CAAGV,MAAM,CAACG,IAAD,CAAT,uFAAhB,CASA,GAAMQ,CAAAA,WAAuC,CAAG,QAA1CA,CAAAA,WAA0C,MAA6B,IAA1BC,CAAAA,IAA0B,MAA1BA,IAA0B,CAApBC,aAAoB,MAApBA,aAAoB,CAC3E,GAAQC,CAAAA,MAAR,CAAmGF,IAAnG,CAAQE,MAAR,CAAgBC,YAAhB,CAAmGH,IAAnG,CAAgBG,YAAhB,CAA8BC,YAA9B,CAAmGJ,IAAnG,CAA8BI,YAA9B,CAA4CC,OAA5C,CAAmGL,IAAnG,CAA4CK,OAA5C,CAAqDC,YAArD,CAAmGN,IAAnG,CAAqDM,YAArD,CAAmEC,QAAnE,CAAmGP,IAAnG,CAAmEO,QAAnE,CAA6EC,iBAA7E,CAAmGR,IAAnG,CAA6EQ,iBAA7E,CACA;AACA,GAAMC,CAAAA,SAAS,CAAGH,YAAY,GAAKZ,YAAY,CAACgB,OAAhD,CACA,oBAAcjB,cAAc,EAA5B,CAAQkB,CAAR,iBAAQA,CAAR,CACA,GAAMC,CAAAA,SAAS,CAAG,CAAAL,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEK,SAAV,EAAsB,GAAI1B,CAAAA,SAAJ,CAAcqB,QAAQ,CAACK,SAAvB,CAAtB,CAA0DvB,QAA5E,CACA,GAAMwB,CAAAA,mBAAmB,CAAG,CAAAN,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEM,mBAAV,EAAgC,GAAI3B,CAAAA,SAAJ,CAAcqB,QAAQ,CAACM,mBAAvB,CAAhC,CAA8ExB,QAA1G,CACA,GAAMyB,CAAAA,QAAQ,CAAG,CAAAP,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEQ,aAAV,EAA0B,GAAI7B,CAAAA,SAAJ,CAAcqB,QAAQ,CAACQ,aAAvB,CAA1B,CAAkE1B,QAAnF,CACA,GAAM2B,CAAAA,aAAa,CAAG,CAACJ,SAAS,CAACK,EAAV,CAAa,CAAb,CAAD,EAAoB,CAACR,SAA3C,CACA,GAAMS,CAAAA,QAAQ,CAAGjB,aAAa,CAACgB,EAAd,CAAiB,CAAjB,CAAjB,CACA,GAAME,CAAAA,SAAS,CAAG,CAACZ,QAAnB,CAEA,mBACE,KAAC,IAAD,EAAM,aAAa,CAAC,QAApB,uBACE,MAAC,IAAD,EAAM,aAAa,CAAC,QAApB,WACGF,OAAO,eACN,wCACE,MAAC,GAAD,EAAK,OAAO,CAAC,QAAb,wBACE,KAAC,UAAD,EAAY,KAAK,CAAC,WAAlB,CAA8B,aAAa,CAAC,WAA5C,CAAwD,IAAI,KAA5D,CAA6D,QAAQ,CAAC,MAAtE,oBACMD,YAAY,CAACgB,MADnB,OADF,cAIE,KAAC,UAAD,EAAY,KAAK,CAAC,YAAlB,CAA+B,aAAa,CAAC,WAA7C,CAAyD,IAAI,KAA7D,CAA8D,QAAQ,CAAC,MAAvE,UACGT,CAAC,CAAC,QAAD,CADJ,EAJF,GADF,cASE,KAAC,cAAD,EACE,QAAQ,CAAEG,QADZ,CAEE,YAAY,CAAEV,YAFhB,CAGE,MAAM,CAAEF,MAHV,CAIE,iBAAiB,CAAEM,iBAJrB,CAKE,SAAS,CAAEC,SALb,CAME,SAAS,CAAEU,SANb,EATF,GAFJ,cAqBE,MAAC,GAAD,EAAK,OAAO,CAAC,QAAb,wBACE,MAAC,UAAD,EAAY,KAAK,CAAED,QAAQ,CAAG,WAAH,CAAiB,YAA5C,CAA0D,aAAa,CAAC,WAAxE,CAAoF,IAAI,KAAxF,CAAyF,QAAQ,CAAC,MAAlG,WACGA,QAAQ,CAAGf,YAAY,CAACiB,MAAhB,CAAyBT,CAAC,CAAC,OAAD,CADrC,CACgD,GADhD,GADF,cAIE,KAAC,UAAD,EAAY,KAAK,CAAEO,QAAQ,CAAG,YAAH,CAAkB,WAA7C,CAA0D,aAAa,CAAC,WAAxE,CAAoF,IAAI,KAAxF,CAAyF,QAAQ,CAAC,MAAlG,UACGA,QAAQ,CAAGP,CAAC,CAAC,QAAD,CAAJ,WAAoBR,YAAY,CAACiB,MAAjC,CADX,EAJF,GArBF,CA6BGJ,aAAa,cACZ,KAAC,cAAD,EAAgB,IAAI,CAAEhB,IAAtB,CAA4B,SAAS,CAAEmB,SAAvC,EADY,cAGZ,KAAC,YAAD,EACE,SAAS,CAAEA,SADb,CAEE,IAAI,CAAEnB,IAFR,CAGE,mBAAmB,CAAEa,mBAHvB,CAIE,aAAa,CAAEZ,aAJjB,CAKE,SAAS,CAAEQ,SALb,CAME,QAAQ,CAAES,QANZ,EAhCJ,GADF,EADF,CA8CD,CA1DD,CA4DA,cAAenB,CAAAA,WAAf","sourcesContent":["import BigNumber from 'bignumber.js'\nimport React from 'react'\nimport styled from 'styled-components'\nimport { BIG_ZERO } from 'utils/bigNumber'\nimport { Flex, Text, Box } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { PoolCategory } from 'config/constants/types'\nimport { DeserializedPool } from 'state/types'\nimport ApprovalAction from './ApprovalAction'\nimport StakeActions from './StakeActions'\nimport HarvestActions from './HarvestActions'\n\nconst InlineText = styled(Text)`\n  display: inline;\n`\n\ninterface CardActionsProps {\n  pool: DeserializedPool\n  stakedBalance: BigNumber\n}\n\nconst CardActions: React.FC<CardActionsProps> = ({ pool, stakedBalance }) => {\n  const { sousId, stakingToken, earningToken, harvest, poolCategory, userData, earningTokenPrice } = pool\n  // Pools using native BNB behave differently than pools using a token\n  const isBnbPool = poolCategory === PoolCategory.BINANCE\n  const { t } = useTranslation()\n  const allowance = userData?.allowance ? new BigNumber(userData.allowance) : BIG_ZERO\n  const stakingTokenBalance = userData?.stakingTokenBalance ? new BigNumber(userData.stakingTokenBalance) : BIG_ZERO\n  const earnings = userData?.pendingReward ? new BigNumber(userData.pendingReward) : BIG_ZERO\n  const needsApproval = !allowance.gt(0) && !isBnbPool\n  const isStaked = stakedBalance.gt(0)\n  const isLoading = !userData\n\n  return (\n    <Flex flexDirection=\"column\">\n      <Flex flexDirection=\"column\">\n        {harvest && (\n          <>\n            <Box display=\"inline\">\n              <InlineText color=\"secondary\" textTransform=\"uppercase\" bold fontSize=\"12px\">\n                {`${earningToken.symbol} `}\n              </InlineText>\n              <InlineText color=\"textSubtle\" textTransform=\"uppercase\" bold fontSize=\"12px\">\n                {t('Earned')}\n              </InlineText>\n            </Box>\n            <HarvestActions\n              earnings={earnings}\n              earningToken={earningToken}\n              sousId={sousId}\n              earningTokenPrice={earningTokenPrice}\n              isBnbPool={isBnbPool}\n              isLoading={isLoading}\n            />\n          </>\n        )}\n        <Box display=\"inline\">\n          <InlineText color={isStaked ? 'secondary' : 'textSubtle'} textTransform=\"uppercase\" bold fontSize=\"12px\">\n            {isStaked ? stakingToken.symbol : t('Stake')}{' '}\n          </InlineText>\n          <InlineText color={isStaked ? 'textSubtle' : 'secondary'} textTransform=\"uppercase\" bold fontSize=\"12px\">\n            {isStaked ? t('Staked') : `${stakingToken.symbol}`}\n          </InlineText>\n        </Box>\n        {needsApproval ? (\n          <ApprovalAction pool={pool} isLoading={isLoading} />\n        ) : (\n          <StakeActions\n            isLoading={isLoading}\n            pool={pool}\n            stakingTokenBalance={stakingTokenBalance}\n            stakedBalance={stakedBalance}\n            isBnbPool={isBnbPool}\n            isStaked={isStaked}\n          />\n        )}\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default CardActions\n"]},"metadata":{},"sourceType":"module"}