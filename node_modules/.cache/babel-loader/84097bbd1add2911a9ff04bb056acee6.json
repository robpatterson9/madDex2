{"ast":null,"code":"import _objectSpread from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"src\",\"alt\"];import React,{useState}from'react';import{HelpIcon}from'@pancakeswap/uikit';import{jsx as _jsx}from\"react/jsx-runtime\";var BAD_SRCS=[];/**\n * Renders an image by sequentially trying a list of URIs, and then eventually a fallback to HelpIcon\n */var LogoLoader=function LogoLoader(_ref){var src=_ref.src,alt=_ref.alt,rest=_objectWithoutProperties(_ref,_excluded);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),refresh=_useState2[1];var srcFailedLoading=BAD_SRCS.includes(src);if(src&&!srcFailedLoading){return/*#__PURE__*/_jsx(\"img\",_objectSpread(_objectSpread({},rest),{},{alt:alt,src:src,onError:function onError(){if(src)BAD_SRCS.push(src);refresh(function(i){return i+1;});}}));}return/*#__PURE__*/_jsx(HelpIcon,_objectSpread({},rest));};export default LogoLoader;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Info/components/CurrencyLogo/LogoLoader.tsx"],"names":["React","useState","HelpIcon","BAD_SRCS","LogoLoader","src","alt","rest","refresh","srcFailedLoading","includes","push","i"],"mappings":"ufAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,oBAAzB,C,2CAEA,GAAMC,CAAAA,QAAkB,CAAG,EAA3B,CAOA;AACA;AACA,GACA,GAAMC,CAAAA,UAAqC,CAAG,QAAxCA,CAAAA,UAAwC,MAA2B,IAAxBC,CAAAA,GAAwB,MAAxBA,GAAwB,CAAnBC,GAAmB,MAAnBA,GAAmB,CAAXC,IAAW,0CACvE,cAAoBN,QAAQ,CAAC,CAAD,CAA5B,wCAASO,OAAT,eAEA,GAAMC,CAAAA,gBAAgB,CAAGN,QAAQ,CAACO,QAAT,CAAkBL,GAAlB,CAAzB,CAEA,GAAIA,GAAG,EAAI,CAACI,gBAAZ,CAA8B,CAC5B,mBACE,0CACMF,IADN,MAEE,GAAG,CAAED,GAFP,CAGE,GAAG,CAAED,GAHP,CAIE,OAAO,CAAE,kBAAM,CACb,GAAIA,GAAJ,CAASF,QAAQ,CAACQ,IAAT,CAAcN,GAAd,EACTG,OAAO,CAAC,SAACI,CAAD,QAAOA,CAAAA,CAAC,CAAG,CAAX,EAAD,CAAP,CACD,CAPH,GADF,CAWD,CAED,mBAAO,KAAC,QAAD,kBAAcL,IAAd,EAAP,CACD,CApBD,CAsBA,cAAeH,CAAAA,UAAf","sourcesContent":["import React, { useState } from 'react'\nimport { HelpIcon } from '@pancakeswap/uikit'\n\nconst BAD_SRCS: string[] = []\n\nexport interface LogoLoaderProps {\n  alt: string\n  src: string\n}\n\n/**\n * Renders an image by sequentially trying a list of URIs, and then eventually a fallback to HelpIcon\n */\nconst LogoLoader: React.FC<LogoLoaderProps> = ({ src, alt, ...rest }) => {\n  const [, refresh] = useState(0)\n\n  const srcFailedLoading = BAD_SRCS.includes(src)\n\n  if (src && !srcFailedLoading) {\n    return (\n      <img\n        {...rest}\n        alt={alt}\n        src={src}\n        onError={() => {\n          if (src) BAD_SRCS.push(src)\n          refresh((i) => i + 1)\n        }}\n      />\n    )\n  }\n\n  return <HelpIcon {...rest} />\n}\n\nexport default LogoLoader\n"]},"metadata":{},"sourceType":"module"}