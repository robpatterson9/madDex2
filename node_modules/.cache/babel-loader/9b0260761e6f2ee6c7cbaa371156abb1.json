{"ast":null,"code":"import _objectSpread from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _excluded=[\"options\",\"onTextChange\"];var _templateObject;import React,{useEffect,useRef}from'react';import EasyMde from'easymde';import styled from'styled-components';import merge from'lodash/merge';import'easymde/dist/easymde.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  .EasyMDEContainer .CodeMirror {\\n    background: \",\";\\n    border-color: \",\";\\n    border-bottom-left-radius: 16px;\\n    border-bottom-right-radius: 16px;\\n    box-shadow: \",\";\\n    padding: 16px;\\n  }\\n\\n  .CodeMirror-code {\\n    color: \",\";\\n  }\\n\\n  .editor-toolbar {\\n    background: \",\";\\n    border-color: \",\";\\n    border-top-left-radius: 16px;\\n    border-top-right-radius: 16px;\\n    color: \",\";\\n\\n    a,\\n    button {\\n      color: \",\";\\n\\n      &:hover,\\n      &.active {\\n        background: \",\";\\n        border: 0;\\n      }\\n    }\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.colors.input;},function(_ref2){var theme=_ref2.theme;return theme.colors.cardBorder;},function(_ref3){var theme=_ref3.theme;return theme.shadows.inset;},function(_ref4){var theme=_ref4.theme;return theme.colors.text;},function(_ref5){var theme=_ref5.theme;return theme.card.background;},function(_ref6){var theme=_ref6.theme;return theme.colors.cardBorder;},function(_ref7){var theme=_ref7.theme;return theme.colors.text;},function(_ref8){var theme=_ref8.theme;return theme.colors.text;},function(_ref9){var theme=_ref9.theme;return theme.colors.background;});/**\n * @see https://github.com/Ionaru/easy-markdown-editor#configuration\n */var defaultOptions={autofocus:false,status:false,hideIcons:['guide','fullscreen','preview','side-by-side'],spellChecker:false,styleSelectedText:false};var SimpleMde=function SimpleMde(_ref10){var options=_ref10.options,onTextChange=_ref10.onTextChange,props=_objectWithoutProperties(_ref10,_excluded);var ref=useRef();var onTextChangeHandler=useRef(onTextChange);useEffect(function(){var simpleMde=new EasyMde(merge({element:ref.current},defaultOptions,options));simpleMde.codemirror.on('change',function(){onTextChangeHandler.current(simpleMde.value());});return function(){if(simpleMde){simpleMde.toTextArea();simpleMde=null;}};},[options,onTextChangeHandler,ref]);return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsx(\"textarea\",_objectSpread({ref:ref,readOnly:true},props))});};export default SimpleMde;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/components/EasyMde/index.tsx"],"names":["React","useEffect","useRef","EasyMde","styled","merge","Wrapper","div","theme","colors","input","cardBorder","shadows","inset","text","card","background","defaultOptions","autofocus","status","hideIcons","spellChecker","styleSelectedText","SimpleMde","options","onTextChange","props","ref","onTextChangeHandler","simpleMde","element","current","codemirror","on","value","toTextArea"],"mappings":"wiBAAA,MAAOA,CAAAA,KAAP,EAAwCC,SAAxC,CAAmDC,MAAnD,KAAiE,OAAjE,CACA,MAAOC,CAAAA,OAAP,KAAoB,SAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,cAAlB,CAEA,MAAO,8BAAP,C,2CAOA,GAAMC,CAAAA,OAAO,CAAGF,MAAM,CAACG,GAAV,6mBAEK,kBAAGC,CAAAA,KAAH,MAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,MAAN,CAAaC,KAA5B,EAFL,CAGO,mBAAGF,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,MAAN,CAAaE,UAA5B,EAHP,CAMK,mBAAGH,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACI,OAAN,CAAcC,KAA7B,EANL,CAWA,mBAAGL,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,MAAN,CAAaK,IAA5B,EAXA,CAeK,mBAAGN,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACO,IAAN,CAAWC,UAA1B,EAfL,CAgBO,mBAAGR,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,MAAN,CAAaE,UAA5B,EAhBP,CAmBA,mBAAGH,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,MAAN,CAAaK,IAA5B,EAnBA,CAuBE,mBAAGN,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,MAAN,CAAaK,IAA5B,EAvBF,CA2BS,mBAAGN,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,MAAN,CAAaO,UAA5B,EA3BT,CAAb,CAkCA;AACA;AACA,GACA,GAAMC,CAAAA,cAA+B,CAAG,CACtCC,SAAS,CAAE,KAD2B,CAEtCC,MAAM,CAAE,KAF8B,CAGtCC,SAAS,CAAE,CAAC,OAAD,CAAU,YAAV,CAAwB,SAAxB,CAAmC,cAAnC,CAH2B,CAItCC,YAAY,CAAE,KAJwB,CAKtCC,iBAAiB,CAAE,KALmB,CAAxC,CAQA,GAAMC,CAAAA,SAAmC,CAAG,QAAtCA,CAAAA,SAAsC,QAAyC,IAAtCC,CAAAA,OAAsC,QAAtCA,OAAsC,CAA7BC,YAA6B,QAA7BA,YAA6B,CAAZC,KAAY,4CACnF,GAAMC,CAAAA,GAAG,CAAGzB,MAAM,EAAlB,CACA,GAAM0B,CAAAA,mBAAmB,CAAG1B,MAAM,CAACuB,YAAD,CAAlC,CAEAxB,SAAS,CAAC,UAAM,CACd,GAAI4B,CAAAA,SAAS,CAAG,GAAI1B,CAAAA,OAAJ,CAAYE,KAAK,CAAC,CAAEyB,OAAO,CAAEH,GAAG,CAACI,OAAf,CAAD,CAA2Bd,cAA3B,CAA2CO,OAA3C,CAAjB,CAAhB,CAEAK,SAAS,CAACG,UAAV,CAAqBC,EAArB,CAAwB,QAAxB,CAAkC,UAAM,CACtCL,mBAAmB,CAACG,OAApB,CAA4BF,SAAS,CAACK,KAAV,EAA5B,EACD,CAFD,EAIA,MAAO,WAAM,CACX,GAAIL,SAAJ,CAAe,CACbA,SAAS,CAACM,UAAV,GACAN,SAAS,CAAG,IAAZ,CACD,CACF,CALD,CAMD,CAbQ,CAaN,CAACL,OAAD,CAAUI,mBAAV,CAA+BD,GAA/B,CAbM,CAAT,CAeA,mBACE,KAAC,OAAD,wBACE,+BAAU,GAAG,CAAEA,GAAf,CAAoB,QAAQ,KAA5B,EAAiCD,KAAjC,EADF,EADF,CAKD,CAxBD,CA0BA,cAAeH,CAAAA,SAAf","sourcesContent":["import React, { TextareaHTMLAttributes, useEffect, useRef } from 'react'\nimport EasyMde from 'easymde'\nimport styled from 'styled-components'\nimport merge from 'lodash/merge'\n\nimport 'easymde/dist/easymde.min.css'\n\ninterface SimpleMdeProps extends Omit<TextareaHTMLAttributes<HTMLTextAreaElement>, 'onChange'> {\n  options?: EasyMde.Options\n  onTextChange: (value: string) => void\n}\n\nconst Wrapper = styled.div`\n  .EasyMDEContainer .CodeMirror {\n    background: ${({ theme }) => theme.colors.input};\n    border-color: ${({ theme }) => theme.colors.cardBorder};\n    border-bottom-left-radius: 16px;\n    border-bottom-right-radius: 16px;\n    box-shadow: ${({ theme }) => theme.shadows.inset};\n    padding: 16px;\n  }\n\n  .CodeMirror-code {\n    color: ${({ theme }) => theme.colors.text};\n  }\n\n  .editor-toolbar {\n    background: ${({ theme }) => theme.card.background};\n    border-color: ${({ theme }) => theme.colors.cardBorder};\n    border-top-left-radius: 16px;\n    border-top-right-radius: 16px;\n    color: ${({ theme }) => theme.colors.text};\n\n    a,\n    button {\n      color: ${({ theme }) => theme.colors.text};\n\n      &:hover,\n      &.active {\n        background: ${({ theme }) => theme.colors.background};\n        border: 0;\n      }\n    }\n  }\n`\n\n/**\n * @see https://github.com/Ionaru/easy-markdown-editor#configuration\n */\nconst defaultOptions: EasyMde.Options = {\n  autofocus: false,\n  status: false,\n  hideIcons: ['guide', 'fullscreen', 'preview', 'side-by-side'],\n  spellChecker: false,\n  styleSelectedText: false,\n}\n\nconst SimpleMde: React.FC<SimpleMdeProps> = ({ options, onTextChange, ...props }) => {\n  const ref = useRef()\n  const onTextChangeHandler = useRef(onTextChange)\n\n  useEffect(() => {\n    let simpleMde = new EasyMde(merge({ element: ref.current }, defaultOptions, options))\n\n    simpleMde.codemirror.on('change', () => {\n      onTextChangeHandler.current(simpleMde.value())\n    })\n\n    return () => {\n      if (simpleMde) {\n        simpleMde.toTextArea()\n        simpleMde = null\n      }\n    }\n  }, [options, onTextChangeHandler, ref])\n\n  return (\n    <Wrapper>\n      <textarea ref={ref} readOnly {...props} />\n    </Wrapper>\n  )\n}\n\nexport default SimpleMde\n"]},"metadata":{},"sourceType":"module"}