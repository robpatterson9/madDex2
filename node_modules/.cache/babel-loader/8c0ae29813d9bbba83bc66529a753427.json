{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_LocationColors,_LocationIcons;import React from'react';import styled from'styled-components';import{Box,Flex,Grid,Text,Image,CogIcon,SellIcon,WalletFilledIcon,CameraIcon,BinanceIcon,Skeleton,useModal}from'@pancakeswap/uikit';import{useWeb3React}from'@web3-react/core';import{useUserNfts}from'state/nftMarket/hooks';import{NftLocation,UserNftInitializationState}from'state/nftMarket/types';import{useTranslation}from'contexts/Localization';import ExpandableCard from'./ExpandableCard';import useFetchUserNfts from'../../Profile/hooks/useFetchUserNfts';import SellModal from'../../components/BuySellModals/SellModal';import ProfileNftModal from'../../components/ProfileNftModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RoundedImage=styled(Image)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  & > img {\\n    border-radius: \",\";\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.radii.default;});var ScrollableContainer=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  overflow-y: auto;\\n  max-height: 224px;\\n\"])));var Divider=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin: 16px 20px;\\n  border-bottom: \",\";\\n\"])),function(_ref2){var theme=_ref2.theme;return\"1px solid \".concat(theme.colors.cardBorder);});var CollectibleRowContainer=styled(Grid)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  &:hover {\\n    opacity: 0.5;\\n    cursor: pointer;\\n  }\\n\"])));var LocationColors=(_LocationColors={},_defineProperty(_LocationColors,NftLocation.FORSALE,'failure'),_defineProperty(_LocationColors,NftLocation.WALLET,'secondary'),_defineProperty(_LocationColors,NftLocation.PROFILE,'textSubtle'),_LocationColors);var LocationIcons=(_LocationIcons={},_defineProperty(_LocationIcons,NftLocation.FORSALE,SellIcon),_defineProperty(_LocationIcons,NftLocation.WALLET,WalletFilledIcon),_defineProperty(_LocationIcons,NftLocation.PROFILE,CameraIcon),_LocationIcons);var CollectibleRow=function CollectibleRow(_ref3){var nft=_ref3.nft,lowestPrice=_ref3.lowestPrice;var _useTranslation=useTranslation(),t=_useTranslation.t;var modalVariant=nft.location===NftLocation.WALLET?'sell':'edit';var _useModal=useModal(/*#__PURE__*/_jsx(ProfileNftModal,{nft:nft})),_useModal2=_slicedToArray(_useModal,1),onPresentProfileNftModal=_useModal2[0];var _useModal3=useModal(/*#__PURE__*/_jsx(SellModal,{variant:modalVariant,nftToSell:nft})),_useModal4=_slicedToArray(_useModal3,1),onPresentModal=_useModal4[0];return/*#__PURE__*/_jsxs(CollectibleRowContainer,{gridTemplateColumns:\"96px 1fr\",px:\"16px\",pb:\"8px\",my:\"16px\",onClick:nft.location===NftLocation.PROFILE?onPresentProfileNftModal:onPresentModal,children:[/*#__PURE__*/_jsx(RoundedImage,{src:nft.image.thumbnail,width:64,height:64,mx:\"16px\"}),/*#__PURE__*/_jsxs(Grid,{gridTemplateColumns:\"1fr 1fr\",children:[/*#__PURE__*/_jsx(Text,{bold:true,children:nft.name}),/*#__PURE__*/_jsx(Text,{fontSize:\"12px\",color:\"textSubtle\",textAlign:\"right\",children:nft.collectionName}),lowestPrice&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{small:true,color:\"textSubtle\",children:t('Lowest price')}),/*#__PURE__*/_jsxs(Flex,{justifySelf:\"flex-end\",width:\"max-content\",children:[/*#__PURE__*/_jsx(BinanceIcon,{width:\"16px\",height:\"16px\",mr:\"4px\"}),/*#__PURE__*/_jsx(Text,{small:true,children:lowestPrice})]})]}),nft.location===NftLocation.FORSALE?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{small:true,color:\"textSubtle\",children:t('Your price')}),/*#__PURE__*/_jsxs(Flex,{justifySelf:\"flex-end\",width:\"max-content\",children:[/*#__PURE__*/_jsx(BinanceIcon,{width:\"16px\",height:\"16px\",mr:\"4px\"}),/*#__PURE__*/_jsx(Text,{small:true,children:nft.marketData.currentAskPrice})]})]}):/*#__PURE__*/_jsx(Text,{small:true,color:\"textDisabled\",children:t('Not on sale')})]})]});};var CollectiblesByLocation=function CollectiblesByLocation(_ref4){var location=_ref4.location,nfts=_ref4.nfts,lowestPrice=_ref4.lowestPrice;var _useTranslation2=useTranslation(),t=_useTranslation2.t;var IconComponent=LocationIcons[location];return/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",children:[/*#__PURE__*/_jsxs(Grid,{gridTemplateColumns:\"32px 1fr\",px:\"16px\",pb:\"8px\",children:[/*#__PURE__*/_jsx(IconComponent,{color:LocationColors[location],width:\"24px\",height:\"24px\"}),/*#__PURE__*/_jsx(Text,{display:\"inline\",bold:true,color:LocationColors[location],children:t(location)})]}),/*#__PURE__*/_jsx(ScrollableContainer,{children:nfts.map(function(nft){return/*#__PURE__*/_jsx(CollectibleRow,{nft:nft,lowestPrice:lowestPrice},nft.tokenId);})})]});};var ManageCard=function ManageCard(_ref5){var bunnyId=_ref5.bunnyId,lowestPrice=_ref5.lowestPrice;var _useTranslation3=useTranslation(),t=_useTranslation3.t;var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var _useUserNfts=useUserNfts(),userNftsInitializationState=_useUserNfts.userNftsInitializationState,userNfts=_useUserNfts.nfts;useFetchUserNfts(account);var bunniesInWallet=userNfts.filter(function(nft){return nft.attributes[0].value===bunnyId&&nft.location===NftLocation.WALLET;});var bunniesForSale=userNfts.filter(function(nft){return nft.attributes[0].value===bunnyId&&nft.location===NftLocation.FORSALE;});var profilePicBunny=userNfts.filter(function(nft){return nft.attributes[0].value===bunnyId&&nft.location===NftLocation.PROFILE;});var loading=userNftsInitializationState!==UserNftInitializationState.INITIALIZED;var useHasNoBunnies=!loading&&bunniesInWallet.length===0&&bunniesForSale.length===0&&profilePicBunny.length===0;var content=/*#__PURE__*/_jsxs(Box,{pt:\"16px\",children:[useHasNoBunnies&&/*#__PURE__*/_jsx(Text,{px:\"16px\",pb:\"16px\",color:\"textSubtle\",children:t('You don’t have any of this item.')}),loading&&/*#__PURE__*/_jsxs(Box,{px:\"16px\",pb:\"8px\",children:[/*#__PURE__*/_jsx(Skeleton,{mb:\"8px\"}),/*#__PURE__*/_jsx(Skeleton,{mb:\"8px\"}),/*#__PURE__*/_jsx(Skeleton,{mb:\"8px\"})]}),bunniesForSale.length>0&&/*#__PURE__*/_jsx(CollectiblesByLocation,{location:NftLocation.FORSALE,nfts:bunniesForSale,lowestPrice:lowestPrice}),bunniesInWallet.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[bunniesForSale.length>0&&/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(CollectiblesByLocation,{location:NftLocation.WALLET,nfts:bunniesInWallet,lowestPrice:lowestPrice})]}),profilePicBunny.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[(bunniesForSale.length>0||bunniesInWallet.length>0)&&/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(CollectiblesByLocation,{location:NftLocation.PROFILE,nfts:profilePicBunny,lowestPrice:lowestPrice})]})]});return/*#__PURE__*/_jsx(ExpandableCard,{title:t('Manage Yours'),icon:/*#__PURE__*/_jsx(CogIcon,{width:\"24px\",height:\"24px\"}),content:content});};export default ManageCard;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Nft/market/Collection/IndividualNFTPage/ManageCard.tsx"],"names":["React","styled","Box","Flex","Grid","Text","Image","CogIcon","SellIcon","WalletFilledIcon","CameraIcon","BinanceIcon","Skeleton","useModal","useWeb3React","useUserNfts","NftLocation","UserNftInitializationState","useTranslation","ExpandableCard","useFetchUserNfts","SellModal","ProfileNftModal","RoundedImage","theme","radii","default","ScrollableContainer","Divider","div","colors","cardBorder","CollectibleRowContainer","LocationColors","FORSALE","WALLET","PROFILE","LocationIcons","CollectibleRow","nft","lowestPrice","t","modalVariant","location","onPresentProfileNftModal","onPresentModal","image","thumbnail","name","collectionName","marketData","currentAskPrice","CollectiblesByLocation","nfts","IconComponent","map","tokenId","ManageCard","bunnyId","account","userNftsInitializationState","userNfts","bunniesInWallet","filter","attributes","value","bunniesForSale","profilePicBunny","loading","INITIALIZED","useHasNoBunnies","length","content"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport {\n  Box,\n  Flex,\n  Grid,\n  Text,\n  Image,\n  CogIcon,\n  SellIcon,\n  WalletFilledIcon,\n  CameraIcon,\n  BinanceIcon,\n  Skeleton,\n  useModal,\n} from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport { useUserNfts } from 'state/nftMarket/hooks'\nimport { NftLocation, NftToken, UserNftInitializationState } from 'state/nftMarket/types'\nimport { useTranslation } from 'contexts/Localization'\nimport ExpandableCard from './ExpandableCard'\nimport useFetchUserNfts from '../../Profile/hooks/useFetchUserNfts'\nimport SellModal from '../../components/BuySellModals/SellModal'\nimport ProfileNftModal from '../../components/ProfileNftModal'\n\nconst RoundedImage = styled(Image)`\n  & > img {\n    border-radius: ${({ theme }) => theme.radii.default};\n  }\n`\n\nconst ScrollableContainer = styled(Box)`\n  overflow-y: auto;\n  max-height: 224px;\n`\n\nconst Divider = styled.div`\n  margin: 16px 20px;\n  border-bottom: ${({ theme }) => `1px solid ${theme.colors.cardBorder}`};\n`\n\nconst CollectibleRowContainer = styled(Grid)`\n  &:hover {\n    opacity: 0.5;\n    cursor: pointer;\n  }\n`\n\nconst LocationColors = {\n  [NftLocation.FORSALE]: 'failure',\n  [NftLocation.WALLET]: 'secondary',\n  [NftLocation.PROFILE]: 'textSubtle',\n}\n\nconst LocationIcons = {\n  [NftLocation.FORSALE]: SellIcon,\n  [NftLocation.WALLET]: WalletFilledIcon,\n  [NftLocation.PROFILE]: CameraIcon,\n}\n\ninterface CollectibleRowProps {\n  nft: NftToken\n  lowestPrice: string\n}\n\nconst CollectibleRow: React.FC<CollectibleRowProps> = ({ nft, lowestPrice }) => {\n  const { t } = useTranslation()\n  const modalVariant = nft.location === NftLocation.WALLET ? 'sell' : 'edit'\n  const [onPresentProfileNftModal] = useModal(<ProfileNftModal nft={nft} />)\n  const [onPresentModal] = useModal(<SellModal variant={modalVariant} nftToSell={nft} />)\n  return (\n    <CollectibleRowContainer\n      gridTemplateColumns=\"96px 1fr\"\n      px=\"16px\"\n      pb=\"8px\"\n      my=\"16px\"\n      onClick={nft.location === NftLocation.PROFILE ? onPresentProfileNftModal : onPresentModal}\n    >\n      <RoundedImage src={nft.image.thumbnail} width={64} height={64} mx=\"16px\" />\n      <Grid gridTemplateColumns=\"1fr 1fr\">\n        <Text bold>{nft.name}</Text>\n        <Text fontSize=\"12px\" color=\"textSubtle\" textAlign=\"right\">\n          {nft.collectionName}\n        </Text>\n        {lowestPrice && (\n          <>\n            <Text small color=\"textSubtle\">\n              {t('Lowest price')}\n            </Text>\n            <Flex justifySelf=\"flex-end\" width=\"max-content\">\n              <BinanceIcon width=\"16px\" height=\"16px\" mr=\"4px\" />\n              <Text small>{lowestPrice}</Text>\n            </Flex>\n          </>\n        )}\n        {nft.location === NftLocation.FORSALE ? (\n          <>\n            <Text small color=\"textSubtle\">\n              {t('Your price')}\n            </Text>\n            <Flex justifySelf=\"flex-end\" width=\"max-content\">\n              <BinanceIcon width=\"16px\" height=\"16px\" mr=\"4px\" />\n              <Text small>{nft.marketData.currentAskPrice}</Text>\n            </Flex>\n          </>\n        ) : (\n          <Text small color=\"textDisabled\">\n            {t('Not on sale')}\n          </Text>\n        )}\n      </Grid>\n    </CollectibleRowContainer>\n  )\n}\n\ninterface CollectiblesByLocationProps {\n  location: NftLocation\n  nfts: NftToken[]\n  lowestPrice: string\n}\n\nconst CollectiblesByLocation: React.FC<CollectiblesByLocationProps> = ({ location, nfts, lowestPrice }) => {\n  const { t } = useTranslation()\n  const IconComponent = LocationIcons[location]\n  return (\n    <Flex flexDirection=\"column\">\n      <Grid gridTemplateColumns=\"32px 1fr\" px=\"16px\" pb=\"8px\">\n        <IconComponent color={LocationColors[location]} width=\"24px\" height=\"24px\" />\n        <Text display=\"inline\" bold color={LocationColors[location]}>\n          {t(location)}\n        </Text>\n      </Grid>\n      <ScrollableContainer>\n        {nfts.map((nft) => (\n          <CollectibleRow key={nft.tokenId} nft={nft} lowestPrice={lowestPrice} />\n        ))}\n      </ScrollableContainer>\n    </Flex>\n  )\n}\n\ninterface ManageCardProps {\n  bunnyId: string\n  lowestPrice?: string\n}\n\nconst ManageCard: React.FC<ManageCardProps> = ({ bunnyId, lowestPrice }) => {\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  const { userNftsInitializationState, nfts: userNfts } = useUserNfts()\n  useFetchUserNfts(account)\n\n  const bunniesInWallet = userNfts.filter(\n    (nft) => nft.attributes[0].value === bunnyId && nft.location === NftLocation.WALLET,\n  )\n  const bunniesForSale = userNfts.filter(\n    (nft) => nft.attributes[0].value === bunnyId && nft.location === NftLocation.FORSALE,\n  )\n  const profilePicBunny = userNfts.filter(\n    (nft) => nft.attributes[0].value === bunnyId && nft.location === NftLocation.PROFILE,\n  )\n\n  const loading = userNftsInitializationState !== UserNftInitializationState.INITIALIZED\n  const useHasNoBunnies =\n    !loading && bunniesInWallet.length === 0 && bunniesForSale.length === 0 && profilePicBunny.length === 0\n\n  const content = (\n    <Box pt=\"16px\">\n      {useHasNoBunnies && (\n        <Text px=\"16px\" pb=\"16px\" color=\"textSubtle\">\n          {t('You don’t have any of this item.')}\n        </Text>\n      )}\n      {loading && (\n        <Box px=\"16px\" pb=\"8px\">\n          <Skeleton mb=\"8px\" />\n          <Skeleton mb=\"8px\" />\n          <Skeleton mb=\"8px\" />\n        </Box>\n      )}\n      {bunniesForSale.length > 0 && (\n        <CollectiblesByLocation location={NftLocation.FORSALE} nfts={bunniesForSale} lowestPrice={lowestPrice} />\n      )}\n      {bunniesInWallet.length > 0 && (\n        <>\n          {bunniesForSale.length > 0 && <Divider />}\n          <CollectiblesByLocation location={NftLocation.WALLET} nfts={bunniesInWallet} lowestPrice={lowestPrice} />\n        </>\n      )}\n      {profilePicBunny.length > 0 && (\n        <>\n          {(bunniesForSale.length > 0 || bunniesInWallet.length > 0) && <Divider />}\n          <CollectiblesByLocation location={NftLocation.PROFILE} nfts={profilePicBunny} lowestPrice={lowestPrice} />\n        </>\n      )}\n    </Box>\n  )\n  return <ExpandableCard title={t('Manage Yours')} icon={<CogIcon width=\"24px\" height=\"24px\" />} content={content} />\n}\n\nexport default ManageCard\n"]},"metadata":{},"sourceType":"module"}