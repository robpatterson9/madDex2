{"ast":null,"code":"import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useRef,useEffect}from'react';import styled from'styled-components';import{Box,Flex,Text,Input,CheckmarkIcon,PencilIcon,IconButton}from'@pancakeswap/uikit';import{useTranslation}from'contexts/Localization';import{CalculatorMode}from'./useRoiCalculatorReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MILLION=1000000;var TRILLION=1000000000000;var RoiCardWrapper=styled(Box)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background: linear-gradient(180deg, #53dee9, #7645d9);\\n  padding: 1px;\\n  width: 100%;\\n  border-radius: \",\";\\n\"])),function(_ref){var theme=_ref.theme;return theme.radii.default;});var RoiCardInner=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  height: 120px;\\n  padding: 24px;\\n  border-radius: \",\";\\n  background: \",\";\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.radii.default;},function(_ref3){var theme=_ref3.theme;return theme.colors.gradients.bubblegum;});var RoiInputContainer=styled(Box)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: relative;\\n  & > input {\\n    padding-left: 28px;\\n    max-width: 70%;\\n  }\\n  &:before {\\n    position: absolute;\\n    content: '$';\\n    color: \",\";\\n    left: 16px;\\n    top: 8px;\\n  }\\n\"])),function(_ref4){var theme=_ref4.theme;return theme.colors.textSubtle;});var RoiDisplayContainer=styled(Flex)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  max-width: 82%;\\n  margin-right: 8px;\\n\"])));var RoiDollarAmount=styled(Text)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  position: relative;\\n  overflow-x: auto;\\n  &::-webkit-scrollbar {\\n    height: 0px;\\n  }\\n\\n  \",\"\\n\"])),function(_ref5){var fadeOut=_ref5.fadeOut,theme=_ref5.theme;return fadeOut&&\"\\n      &:after {\\n        background: linear-gradient(\\n          to right,\\n          \".concat(theme.colors.background,\"00,\\n          \").concat(theme.colors.background,\"E6\\n        );\\n        content: '';\\n        height: 100%;\\n        pointer-events: none;\\n        position: absolute;\\n        right: 0;\\n        top: 0;\\n        width: 40px;\\n      }\\n  \");});var RoiCard=function RoiCard(_ref6){var earningTokenSymbol=_ref6.earningTokenSymbol,calculatorState=_ref6.calculatorState,setTargetRoi=_ref6.setTargetRoi,setCalculatorMode=_ref6.setCalculatorMode;var inputRef=useRef(null);var _calculatorState$data=calculatorState.data,roiUSD=_calculatorState$data.roiUSD,roiTokens=_calculatorState$data.roiTokens,roiPercentage=_calculatorState$data.roiPercentage;var mode=calculatorState.controls.mode;var _useTranslation=useTranslation(),t=_useTranslation.t;useEffect(function(){if(mode===CalculatorMode.PRINCIPAL_BASED_ON_ROI&&inputRef.current){inputRef.current.focus();}},[mode]);var onEnterEditing=function onEnterEditing(){setCalculatorMode(CalculatorMode.PRINCIPAL_BASED_ON_ROI);};var onExitRoiEditing=function onExitRoiEditing(){setCalculatorMode(CalculatorMode.ROI_BASED_ON_PRINCIPAL);};var handleExpectedRoiChange=function handleExpectedRoiChange(event){setTargetRoi(event.currentTarget.value);};return/*#__PURE__*/_jsx(RoiCardWrapper,{children:/*#__PURE__*/_jsxs(RoiCardInner,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"12px\",color:\"secondary\",bold:true,textTransform:\"uppercase\",children:t('ROI at current rates')}),/*#__PURE__*/_jsx(Flex,{justifyContent:\"space-between\",mt:\"4px\",height:\"36px\",children:mode===CalculatorMode.PRINCIPAL_BASED_ON_ROI?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RoiInputContainer,{children:/*#__PURE__*/_jsx(Input,{ref:inputRef,type:\"number\",inputMode:\"decimal\",pattern:\"\\\\d*\",scale:\"sm\",value:roiUSD,placeholder:\"0.0\",onChange:handleExpectedRoiChange})}),/*#__PURE__*/_jsx(IconButton,{scale:\"sm\",variant:\"text\",onClick:onExitRoiEditing,children:/*#__PURE__*/_jsx(CheckmarkIcon,{color:\"primary\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(RoiDisplayContainer,{onClick:onEnterEditing,children:[/*#__PURE__*/_jsx(Text,{fontSize:\"24px\",bold:true,children:\"$\"}),/*#__PURE__*/_jsx(RoiDollarAmount,{fontSize:\"24px\",bold:true,fadeOut:roiUSD>TRILLION,children:roiUSD.toLocaleString('en',{minimumFractionDigits:roiUSD>MILLION?0:2,maximumFractionDigits:roiUSD>MILLION?0:2})})]}),/*#__PURE__*/_jsx(IconButton,{scale:\"sm\",variant:\"text\",onClick:onEnterEditing,children:/*#__PURE__*/_jsx(PencilIcon,{color:\"primary\"})})]})}),/*#__PURE__*/_jsxs(Text,{fontSize:\"12px\",color:\"textSubtle\",children:[\"~ \",roiTokens,\" \",earningTokenSymbol,\" (\",roiPercentage.toLocaleString('en',{minimumFractionDigits:2,maximumFractionDigits:2}),\"%)\"]})]})});};export default RoiCard;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/components/RoiCalculatorModal/RoiCard.tsx"],"names":["React","useRef","useEffect","styled","Box","Flex","Text","Input","CheckmarkIcon","PencilIcon","IconButton","useTranslation","CalculatorMode","MILLION","TRILLION","RoiCardWrapper","theme","radii","default","RoiCardInner","colors","gradients","bubblegum","RoiInputContainer","textSubtle","RoiDisplayContainer","RoiDollarAmount","fadeOut","background","RoiCard","earningTokenSymbol","calculatorState","setTargetRoi","setCalculatorMode","inputRef","data","roiUSD","roiTokens","roiPercentage","mode","controls","t","PRINCIPAL_BASED_ON_ROI","current","focus","onEnterEditing","onExitRoiEditing","ROI_BASED_ON_PRINCIPAL","handleExpectedRoiChange","event","currentTarget","value","toLocaleString","minimumFractionDigits","maximumFractionDigits"],"mappings":"gQAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,SAAxB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,GAAT,CAAcC,IAAd,CAAoBC,IAApB,CAA0BC,KAA1B,CAAiCC,aAAjC,CAAgDC,UAAhD,CAA4DC,UAA5D,KAA8E,oBAA9E,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,OAASC,cAAT,KAA0D,2BAA1D,C,6IAEA,GAAMC,CAAAA,OAAO,CAAG,OAAhB,CACA,GAAMC,CAAAA,QAAQ,CAAG,aAAjB,CAEA,GAAMC,CAAAA,cAAc,CAAGZ,MAAM,CAACC,GAAD,CAAT,qLAID,kBAAGY,CAAAA,KAAH,MAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,KAAN,CAAYC,OAA3B,EAJC,CAApB,CAOA,GAAMC,CAAAA,YAAY,CAAGhB,MAAM,CAACC,GAAD,CAAT,oJAGC,mBAAGY,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,KAAN,CAAYC,OAA3B,EAHD,CAIF,mBAAGF,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACI,MAAN,CAAaC,SAAb,CAAuBC,SAAtC,EAJE,CAAlB,CAOA,GAAMC,CAAAA,iBAAiB,CAAGpB,MAAM,CAACC,GAAD,CAAT,8QASV,mBAAGY,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACI,MAAN,CAAaI,UAA5B,EATU,CAAvB,CAeA,GAAMC,CAAAA,mBAAmB,CAAGtB,MAAM,CAACE,IAAD,CAAT,8GAAzB,CAKA,GAAMqB,CAAAA,eAAe,CAAGvB,MAAM,CAACG,IAAD,CAAT,2KAOjB,mBAAGqB,CAAAA,OAAH,OAAGA,OAAH,CAAYX,KAAZ,OAAYA,KAAZ,OACAW,CAAAA,OAAO,oGAKCX,KAAK,CAACI,MAAN,CAAaQ,UALd,2BAMCZ,KAAK,CAACI,MAAN,CAAaQ,UANd,kMADP,EAPiB,CAArB,CAkCA,GAAMC,CAAAA,OAA+B,CAAG,QAAlCA,CAAAA,OAAkC,OAA8E,IAA3EC,CAAAA,kBAA2E,OAA3EA,kBAA2E,CAAvDC,eAAuD,OAAvDA,eAAuD,CAAtCC,YAAsC,OAAtCA,YAAsC,CAAxBC,iBAAwB,OAAxBA,iBAAwB,CACpH,GAAMC,CAAAA,QAAQ,CAAGjC,MAAM,CAA0B,IAA1B,CAAvB,CACA,0BAA6C8B,eAAe,CAACI,IAA7D,CAAQC,MAAR,uBAAQA,MAAR,CAAgBC,SAAhB,uBAAgBA,SAAhB,CAA2BC,aAA3B,uBAA2BA,aAA3B,CACA,GAAQC,CAAAA,IAAR,CAAiBR,eAAe,CAACS,QAAjC,CAAQD,IAAR,CAEA,oBAAc5B,cAAc,EAA5B,CAAQ8B,CAAR,iBAAQA,CAAR,CAEAvC,SAAS,CAAC,UAAM,CACd,GAAIqC,IAAI,GAAK3B,cAAc,CAAC8B,sBAAxB,EAAkDR,QAAQ,CAACS,OAA/D,CAAwE,CACtET,QAAQ,CAACS,OAAT,CAAiBC,KAAjB,GACD,CACF,CAJQ,CAIN,CAACL,IAAD,CAJM,CAAT,CAMA,GAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BZ,iBAAiB,CAACrB,cAAc,CAAC8B,sBAAhB,CAAjB,CACD,CAFD,CAIA,GAAMI,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7Bb,iBAAiB,CAACrB,cAAc,CAACmC,sBAAhB,CAAjB,CACD,CAFD,CAGA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACC,KAAD,CAAgD,CAC9EjB,YAAY,CAACiB,KAAK,CAACC,aAAN,CAAoBC,KAArB,CAAZ,CACD,CAFD,CAGA,mBACE,KAAC,cAAD,wBACE,MAAC,YAAD,yBACE,KAAC,IAAD,EAAM,QAAQ,CAAC,MAAf,CAAsB,KAAK,CAAC,WAA5B,CAAwC,IAAI,KAA5C,CAA6C,aAAa,CAAC,WAA3D,UACGV,CAAC,CAAC,sBAAD,CADJ,EADF,cAIE,KAAC,IAAD,EAAM,cAAc,CAAC,eAArB,CAAqC,EAAE,CAAC,KAAxC,CAA8C,MAAM,CAAC,MAArD,UACGF,IAAI,GAAK3B,cAAc,CAAC8B,sBAAxB,cACC,wCACE,KAAC,iBAAD,wBACE,KAAC,KAAD,EACE,GAAG,CAAER,QADP,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,SAHZ,CAIE,OAAO,CAAC,MAJV,CAKE,KAAK,CAAC,IALR,CAME,KAAK,CAAEE,MANT,CAOE,WAAW,CAAC,KAPd,CAQE,QAAQ,CAAEY,uBARZ,EADF,EADF,cAaE,KAAC,UAAD,EAAY,KAAK,CAAC,IAAlB,CAAuB,OAAO,CAAC,MAA/B,CAAsC,OAAO,CAAEF,gBAA/C,uBACE,KAAC,aAAD,EAAe,KAAK,CAAC,SAArB,EADF,EAbF,GADD,cAmBC,wCACE,MAAC,mBAAD,EAAqB,OAAO,CAAED,cAA9B,wBAEE,KAAC,IAAD,EAAM,QAAQ,CAAC,MAAf,CAAsB,IAAI,KAA1B,eAFF,cAKE,KAAC,eAAD,EAAiB,QAAQ,CAAC,MAA1B,CAAiC,IAAI,KAArC,CAAsC,OAAO,CAAET,MAAM,CAAGtB,QAAxD,UACGsB,MAAM,CAACgB,cAAP,CAAsB,IAAtB,CAA4B,CAC3BC,qBAAqB,CAAEjB,MAAM,CAAGvB,OAAT,CAAmB,CAAnB,CAAuB,CADnB,CAE3ByC,qBAAqB,CAAElB,MAAM,CAAGvB,OAAT,CAAmB,CAAnB,CAAuB,CAFnB,CAA5B,CADH,EALF,GADF,cAaE,KAAC,UAAD,EAAY,KAAK,CAAC,IAAlB,CAAuB,OAAO,CAAC,MAA/B,CAAsC,OAAO,CAAEgC,cAA/C,uBACE,KAAC,UAAD,EAAY,KAAK,CAAC,SAAlB,EADF,EAbF,GApBJ,EAJF,cA2CE,MAAC,IAAD,EAAM,QAAQ,CAAC,MAAf,CAAsB,KAAK,CAAC,YAA5B,gBACKR,SADL,KACiBP,kBADjB,MAEGQ,aAAa,CAACc,cAAd,CAA6B,IAA7B,CAAmC,CAAEC,qBAAqB,CAAE,CAAzB,CAA4BC,qBAAqB,CAAE,CAAnD,CAAnC,CAFH,QA3CF,GADF,EADF,CAqDD,CA5ED,CA8EA,cAAezB,CAAAA,OAAf","sourcesContent":["import React, { useRef, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Box, Flex, Text, Input, CheckmarkIcon, PencilIcon, IconButton } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { CalculatorMode, RoiCalculatorReducerState } from './useRoiCalculatorReducer'\n\nconst MILLION = 1000000\nconst TRILLION = 1000000000000\n\nconst RoiCardWrapper = styled(Box)`\n  background: linear-gradient(180deg, #53dee9, #7645d9);\n  padding: 1px;\n  width: 100%;\n  border-radius: ${({ theme }) => theme.radii.default};\n`\n\nconst RoiCardInner = styled(Box)`\n  height: 120px;\n  padding: 24px;\n  border-radius: ${({ theme }) => theme.radii.default};\n  background: ${({ theme }) => theme.colors.gradients.bubblegum};\n`\n\nconst RoiInputContainer = styled(Box)`\n  position: relative;\n  & > input {\n    padding-left: 28px;\n    max-width: 70%;\n  }\n  &:before {\n    position: absolute;\n    content: '$';\n    color: ${({ theme }) => theme.colors.textSubtle};\n    left: 16px;\n    top: 8px;\n  }\n`\n\nconst RoiDisplayContainer = styled(Flex)`\n  max-width: 82%;\n  margin-right: 8px;\n`\n\nconst RoiDollarAmount = styled(Text)<{ fadeOut: boolean }>`\n  position: relative;\n  overflow-x: auto;\n  &::-webkit-scrollbar {\n    height: 0px;\n  }\n\n  ${({ fadeOut, theme }) =>\n    fadeOut &&\n    `\n      &:after {\n        background: linear-gradient(\n          to right,\n          ${theme.colors.background}00,\n          ${theme.colors.background}E6\n        );\n        content: '';\n        height: 100%;\n        pointer-events: none;\n        position: absolute;\n        right: 0;\n        top: 0;\n        width: 40px;\n      }\n  `}\n`\n\ninterface RoiCardProps {\n  earningTokenSymbol: string\n  calculatorState: RoiCalculatorReducerState\n  setTargetRoi: (amount: string) => void\n  setCalculatorMode: (mode: CalculatorMode) => void\n}\n\nconst RoiCard: React.FC<RoiCardProps> = ({ earningTokenSymbol, calculatorState, setTargetRoi, setCalculatorMode }) => {\n  const inputRef = useRef<HTMLInputElement | null>(null)\n  const { roiUSD, roiTokens, roiPercentage } = calculatorState.data\n  const { mode } = calculatorState.controls\n\n  const { t } = useTranslation()\n\n  useEffect(() => {\n    if (mode === CalculatorMode.PRINCIPAL_BASED_ON_ROI && inputRef.current) {\n      inputRef.current.focus()\n    }\n  }, [mode])\n\n  const onEnterEditing = () => {\n    setCalculatorMode(CalculatorMode.PRINCIPAL_BASED_ON_ROI)\n  }\n\n  const onExitRoiEditing = () => {\n    setCalculatorMode(CalculatorMode.ROI_BASED_ON_PRINCIPAL)\n  }\n  const handleExpectedRoiChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setTargetRoi(event.currentTarget.value)\n  }\n  return (\n    <RoiCardWrapper>\n      <RoiCardInner>\n        <Text fontSize=\"12px\" color=\"secondary\" bold textTransform=\"uppercase\">\n          {t('ROI at current rates')}\n        </Text>\n        <Flex justifyContent=\"space-between\" mt=\"4px\" height=\"36px\">\n          {mode === CalculatorMode.PRINCIPAL_BASED_ON_ROI ? (\n            <>\n              <RoiInputContainer>\n                <Input\n                  ref={inputRef}\n                  type=\"number\"\n                  inputMode=\"decimal\"\n                  pattern=\"\\d*\"\n                  scale=\"sm\"\n                  value={roiUSD}\n                  placeholder=\"0.0\"\n                  onChange={handleExpectedRoiChange}\n                />\n              </RoiInputContainer>\n              <IconButton scale=\"sm\" variant=\"text\" onClick={onExitRoiEditing}>\n                <CheckmarkIcon color=\"primary\" />\n              </IconButton>\n            </>\n          ) : (\n            <>\n              <RoiDisplayContainer onClick={onEnterEditing}>\n                {/* Dollar sign is separate cause its not supposed to scroll with a number if number is huge */}\n                <Text fontSize=\"24px\" bold>\n                  $\n                </Text>\n                <RoiDollarAmount fontSize=\"24px\" bold fadeOut={roiUSD > TRILLION}>\n                  {roiUSD.toLocaleString('en', {\n                    minimumFractionDigits: roiUSD > MILLION ? 0 : 2,\n                    maximumFractionDigits: roiUSD > MILLION ? 0 : 2,\n                  })}\n                </RoiDollarAmount>\n              </RoiDisplayContainer>\n              <IconButton scale=\"sm\" variant=\"text\" onClick={onEnterEditing}>\n                <PencilIcon color=\"primary\" />\n              </IconButton>\n            </>\n          )}\n        </Flex>\n        <Text fontSize=\"12px\" color=\"textSubtle\">\n          ~ {roiTokens} {earningTokenSymbol} (\n          {roiPercentage.toLocaleString('en', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n          %)\n        </Text>\n      </RoiCardInner>\n    </RoiCardWrapper>\n  )\n}\n\nexport default RoiCard\n"]},"metadata":{},"sourceType":"module"}