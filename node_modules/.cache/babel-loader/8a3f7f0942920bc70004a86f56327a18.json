{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _asyncToGenerator from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import React,{useState}from'react';import{Box,ChevronDownIcon,ChevronUpIcon,Flex,IconButton,InfoIcon,PlayCircleOutlineIcon,Text,useTooltip,WaitIcon}from'@pancakeswap/uikit';import{useWeb3React}from'@web3-react/core';import styled from'styled-components';import{useAppDispatch}from'state';import{PredictionStatus}from'state/types';import{REWARD_RATE}from'state/predictions/config';import{useGetCurrentEpoch,useGetIsClaimable,useGetPredictionsStatus}from'state/predictions/hooks';import{fetchLedgerData,markAsCollected}from'state/predictions';import{getRoundResult,Result}from'state/predictions/helpers';import{useTranslation}from'contexts/Localization';import{formatBnb,getNetPayout}from'./helpers';import CollectWinningsButton from'../CollectWinningsButton';import ReclaimPositionButton from'../ReclaimPositionButton';import BetDetails from'./BetDetails';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledBet=styled(Flex).attrs({alignItems:'center',p:'16px'})(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  border-bottom: 2px solid \",\";\\n  cursor: pointer;\\n\"])),function(_ref){var theme=_ref.theme;return theme.card.background;},function(_ref2){var theme=_ref2.theme;return theme.colors.cardBorder;});var YourResult=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  flex: 1;\\n\"])));var HistoricalBet=function HistoricalBet(_ref3){var bet=_ref3.bet;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var amount=bet.amount,round=bet.round;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useTooltip=useTooltip(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{bold:true,mb:\"4px\",children:t('Neither side wins this round')}),/*#__PURE__*/_jsx(Text,{children:t('The Locked Price & Closed Price are exactly the same (within 8 decimals), so neither side wins. All funds entered into UP and DOWN positions will go to the weekly CAKE burn.')})]}),{placement:'right'}),targetRef=_useTooltip.targetRef,tooltip=_useTooltip.tooltip,tooltipVisible=_useTooltip.tooltipVisible;var currentEpoch=useGetCurrentEpoch();var status=useGetPredictionsStatus();var canClaim=useGetIsClaimable(bet.round.epoch);var dispatch=useAppDispatch();var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var toggleOpen=function toggleOpen(){return setIsOpen(!isOpen);};var getRoundColor=function getRoundColor(result){switch(result){case Result.WIN:return'success';case Result.LOSE:return'failure';case Result.CANCELED:return'textDisabled';case Result.HOUSE:return'textDisabled';default:return'text';}};var getRoundPrefix=function getRoundPrefix(result){if(result===Result.LOSE){return'-';}if(result===Result.WIN){return'+';}return'';};var roundResult=getRoundResult(bet,currentEpoch);var resultTextColor=getRoundColor(roundResult);var resultTextPrefix=getRoundPrefix(roundResult);var isOpenRound=round.epoch===currentEpoch;var isLiveRound=status===PredictionStatus.LIVE&&round.epoch===currentEpoch-1;// Winners get the payout, otherwise the claim what they put it if it was canceled\nvar payout=roundResult===Result.WIN?getNetPayout(bet,REWARD_RATE):amount;var renderBetLabel=function renderBetLabel(){if(isOpenRound){return/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",children:[/*#__PURE__*/_jsx(WaitIcon,{color:\"primary\",mr:\"6px\",width:\"24px\"}),/*#__PURE__*/_jsx(Text,{color:\"primary\",bold:true,children:t('Starting Soon')})]});}if(isLiveRound){return/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",children:[/*#__PURE__*/_jsx(PlayCircleOutlineIcon,{color:\"secondary\",mr:\"6px\",width:\"24px\"}),/*#__PURE__*/_jsx(Text,{color:\"secondary\",bold:true,children:t('Live Now')})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"12px\",color:\"textSubtle\",children:t('Your Result')}),/*#__PURE__*/_jsx(Text,{bold:true,color:resultTextColor,lineHeight:1,children:roundResult===Result.CANCELED?t('Canceled'):roundResult===Result.HOUSE?/*#__PURE__*/_jsxs(_Fragment,{children:[tooltipVisible&&tooltip,/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",ref:targetRef,children:[t('To Burn'),/*#__PURE__*/_jsx(InfoIcon,{width:\"16px\",ml:\"4px\",color:\"secondary\"})]})]}):\"\".concat(resultTextPrefix).concat(formatBnb(payout))})]});};var handleSuccess=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// We have to mark the bet as claimed immediately because it does not update fast enough\ndispatch(markAsCollected(_defineProperty({},bet.round.epoch,true)));dispatch(fetchLedgerData({account:account,epochs:[bet.round.epoch]}));case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSuccess(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(StyledBet,{onClick:toggleOpen,role:\"button\",children:[/*#__PURE__*/_jsx(Box,{width:\"48px\",children:/*#__PURE__*/_jsxs(Text,{textAlign:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"12px\",color:\"textSubtle\",children:t('Round')}),/*#__PURE__*/_jsx(Text,{bold:true,lineHeight:1,children:round.epoch.toLocaleString()})]})}),/*#__PURE__*/_jsx(YourResult,{px:\"24px\",children:renderBetLabel()}),roundResult===Result.WIN&&canClaim&&/*#__PURE__*/_jsx(CollectWinningsButton,{hasClaimed:!canClaim,onSuccess:handleSuccess,scale:\"sm\",mr:\"8px\",children:t('Collect')}),roundResult===Result.CANCELED&&canClaim&&/*#__PURE__*/_jsx(ReclaimPositionButton,{epoch:bet.round.epoch,scale:\"sm\",mr:\"8px\",children:t('Reclaim')}),!isOpenRound&&!isLiveRound&&/*#__PURE__*/_jsx(IconButton,{variant:\"text\",scale:\"sm\",children:isOpen?/*#__PURE__*/_jsx(ChevronUpIcon,{}):/*#__PURE__*/_jsx(ChevronDownIcon,{})})]}),isOpen&&/*#__PURE__*/_jsx(BetDetails,{bet:bet,result:getRoundResult(bet,currentEpoch)})]});};export default HistoricalBet;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Predictions/components/History/HistoricalBet.tsx"],"names":["React","useState","Box","ChevronDownIcon","ChevronUpIcon","Flex","IconButton","InfoIcon","PlayCircleOutlineIcon","Text","useTooltip","WaitIcon","useWeb3React","styled","useAppDispatch","PredictionStatus","REWARD_RATE","useGetCurrentEpoch","useGetIsClaimable","useGetPredictionsStatus","fetchLedgerData","markAsCollected","getRoundResult","Result","useTranslation","formatBnb","getNetPayout","CollectWinningsButton","ReclaimPositionButton","BetDetails","StyledBet","attrs","alignItems","p","theme","card","background","colors","cardBorder","YourResult","HistoricalBet","bet","isOpen","setIsOpen","amount","round","t","placement","targetRef","tooltip","tooltipVisible","currentEpoch","status","canClaim","epoch","dispatch","account","toggleOpen","getRoundColor","result","WIN","LOSE","CANCELED","HOUSE","getRoundPrefix","roundResult","resultTextColor","resultTextPrefix","isOpenRound","isLiveRound","LIVE","payout","renderBetLabel","handleSuccess","epochs","toLocaleString"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport {\n  Box,\n  ChevronDownIcon,\n  ChevronUpIcon,\n  Flex,\n  IconButton,\n  InfoIcon,\n  PlayCircleOutlineIcon,\n  Text,\n  useTooltip,\n  WaitIcon,\n} from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport styled from 'styled-components'\nimport { useAppDispatch } from 'state'\nimport { Bet, PredictionStatus } from 'state/types'\nimport { REWARD_RATE } from 'state/predictions/config'\nimport { useGetCurrentEpoch, useGetIsClaimable, useGetPredictionsStatus } from 'state/predictions/hooks'\nimport { fetchLedgerData, markAsCollected } from 'state/predictions'\nimport { getRoundResult, Result } from 'state/predictions/helpers'\nimport { useTranslation } from 'contexts/Localization'\nimport { formatBnb, getNetPayout } from './helpers'\nimport CollectWinningsButton from '../CollectWinningsButton'\nimport ReclaimPositionButton from '../ReclaimPositionButton'\nimport BetDetails from './BetDetails'\n\ninterface BetProps {\n  bet: Bet\n}\n\nconst StyledBet = styled(Flex).attrs({ alignItems: 'center', p: '16px' })`\n  background-color: ${({ theme }) => theme.card.background};\n  border-bottom: 2px solid ${({ theme }) => theme.colors.cardBorder};\n  cursor: pointer;\n`\n\nconst YourResult = styled(Box)`\n  flex: 1;\n`\n\nconst HistoricalBet: React.FC<BetProps> = ({ bet }) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const { amount, round } = bet\n  const { t } = useTranslation()\n  const { targetRef, tooltip, tooltipVisible } = useTooltip(\n    <>\n      <Text bold mb=\"4px\">\n        {t('Neither side wins this round')}\n      </Text>\n      <Text>\n        {t(\n          'The Locked Price & Closed Price are exactly the same (within 8 decimals), so neither side wins. All funds entered into UP and DOWN positions will go to the weekly CAKE burn.',\n        )}\n      </Text>\n    </>,\n    { placement: 'right' },\n  )\n\n  const currentEpoch = useGetCurrentEpoch()\n  const status = useGetPredictionsStatus()\n  const canClaim = useGetIsClaimable(bet.round.epoch)\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n\n  const toggleOpen = () => setIsOpen(!isOpen)\n\n  const getRoundColor = (result) => {\n    switch (result) {\n      case Result.WIN:\n        return 'success'\n      case Result.LOSE:\n        return 'failure'\n      case Result.CANCELED:\n        return 'textDisabled'\n      case Result.HOUSE:\n        return 'textDisabled'\n      default:\n        return 'text'\n    }\n  }\n\n  const getRoundPrefix = (result) => {\n    if (result === Result.LOSE) {\n      return '-'\n    }\n\n    if (result === Result.WIN) {\n      return '+'\n    }\n\n    return ''\n  }\n\n  const roundResult = getRoundResult(bet, currentEpoch)\n  const resultTextColor = getRoundColor(roundResult)\n  const resultTextPrefix = getRoundPrefix(roundResult)\n  const isOpenRound = round.epoch === currentEpoch\n  const isLiveRound = status === PredictionStatus.LIVE && round.epoch === currentEpoch - 1\n\n  // Winners get the payout, otherwise the claim what they put it if it was canceled\n  const payout = roundResult === Result.WIN ? getNetPayout(bet, REWARD_RATE) : amount\n\n  const renderBetLabel = () => {\n    if (isOpenRound) {\n      return (\n        <Flex alignItems=\"center\">\n          <WaitIcon color=\"primary\" mr=\"6px\" width=\"24px\" />\n          <Text color=\"primary\" bold>\n            {t('Starting Soon')}\n          </Text>\n        </Flex>\n      )\n    }\n\n    if (isLiveRound) {\n      return (\n        <Flex alignItems=\"center\">\n          <PlayCircleOutlineIcon color=\"secondary\" mr=\"6px\" width=\"24px\" />\n          <Text color=\"secondary\" bold>\n            {t('Live Now')}\n          </Text>\n        </Flex>\n      )\n    }\n\n    return (\n      <>\n        <Text fontSize=\"12px\" color=\"textSubtle\">\n          {t('Your Result')}\n        </Text>\n        <Text bold color={resultTextColor} lineHeight={1}>\n          {roundResult === Result.CANCELED ? (\n            t('Canceled')\n          ) : roundResult === Result.HOUSE ? (\n            <>\n              {tooltipVisible && tooltip}\n              <Flex alignItems=\"center\" ref={targetRef}>\n                {t('To Burn')}\n                <InfoIcon width=\"16px\" ml=\"4px\" color=\"secondary\" />\n              </Flex>\n            </>\n          ) : (\n            `${resultTextPrefix}${formatBnb(payout)}`\n          )}\n        </Text>\n      </>\n    )\n  }\n\n  const handleSuccess = async () => {\n    // We have to mark the bet as claimed immediately because it does not update fast enough\n    dispatch(markAsCollected({ [bet.round.epoch]: true }))\n    dispatch(fetchLedgerData({ account, epochs: [bet.round.epoch] }))\n  }\n\n  return (\n    <>\n      <StyledBet onClick={toggleOpen} role=\"button\">\n        <Box width=\"48px\">\n          <Text textAlign=\"center\">\n            <Text fontSize=\"12px\" color=\"textSubtle\">\n              {t('Round')}\n            </Text>\n            <Text bold lineHeight={1}>\n              {round.epoch.toLocaleString()}\n            </Text>\n          </Text>\n        </Box>\n        <YourResult px=\"24px\">{renderBetLabel()}</YourResult>\n        {roundResult === Result.WIN && canClaim && (\n          <CollectWinningsButton hasClaimed={!canClaim} onSuccess={handleSuccess} scale=\"sm\" mr=\"8px\">\n            {t('Collect')}\n          </CollectWinningsButton>\n        )}\n        {roundResult === Result.CANCELED && canClaim && (\n          <ReclaimPositionButton epoch={bet.round.epoch} scale=\"sm\" mr=\"8px\">\n            {t('Reclaim')}\n          </ReclaimPositionButton>\n        )}\n        {!isOpenRound && !isLiveRound && (\n          <IconButton variant=\"text\" scale=\"sm\">\n            {isOpen ? <ChevronUpIcon /> : <ChevronDownIcon />}\n          </IconButton>\n        )}\n      </StyledBet>\n      {isOpen && <BetDetails bet={bet} result={getRoundResult(bet, currentEpoch)} />}\n    </>\n  )\n}\n\nexport default HistoricalBet\n"]},"metadata":{},"sourceType":"module"}