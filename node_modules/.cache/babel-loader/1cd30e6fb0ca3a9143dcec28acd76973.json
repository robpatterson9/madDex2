{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState}from'react';import styled from'styled-components';import{Box,Flex,Heading,Skeleton}from'@pancakeswap/uikit';import{LotteryStatus}from'config/constants/types';import PageSection from'components/PageSection';import{useTranslation}from'contexts/Localization';import useTheme from'hooks/useTheme';import{useFetchLottery,useLottery}from'state/lottery/hooks';import{TITLE_BG,GET_TICKETS_BG,FINISHED_ROUNDS_BG,FINISHED_ROUNDS_BG_DARK,CHECK_PRIZES_BG}from'./pageSectionStyles';import useGetNextLotteryEvent from'./hooks/useGetNextLotteryEvent';import useStatusTransitions from'./hooks/useStatusTransitions';import Hero from'./components/Hero';import NextDrawCard from'./components/NextDrawCard';import Countdown from'./components/Countdown';import HistoryTabMenu from'./components/HistoryTabMenu';import YourHistoryCard from'./components/YourHistoryCard';import AllHistoryCard from'./components/AllHistoryCard';import CheckPrizesSection from'./components/CheckPrizesSection';import HowToPlay from'./components/HowToPlay';import useShowMoreUserHistory from'./hooks/useShowMoreUserRounds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LotteryPage=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  min-height: calc(100vh - 64px);\\n\"])));var Lottery=function Lottery(){useFetchLottery();useStatusTransitions();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useTheme=useTheme(),isDark=_useTheme.isDark,theme=_useTheme.theme;var _useLottery=useLottery(),_useLottery$currentRo=_useLottery.currentRound,status=_useLottery$currentRo.status,endTime=_useLottery$currentRo.endTime;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),historyTabMenuIndex=_useState2[0],setHistoryTabMenuIndex=_useState2[1];var endTimeAsInt=parseInt(endTime,10);var _useGetNextLotteryEve=useGetNextLotteryEvent(endTimeAsInt,status),nextEventTime=_useGetNextLotteryEve.nextEventTime,postCountdownText=_useGetNextLotteryEve.postCountdownText,preCountdownText=_useGetNextLotteryEve.preCountdownText;var _useShowMoreUserHisto=useShowMoreUserHistory(),numUserRoundsRequested=_useShowMoreUserHisto.numUserRoundsRequested,handleShowMoreUserRounds=_useShowMoreUserHisto.handleShowMoreUserRounds;return/*#__PURE__*/_jsxs(LotteryPage,{children:[/*#__PURE__*/_jsx(PageSection,{background:TITLE_BG,index:1,hasCurvedDivider:false,children:/*#__PURE__*/_jsx(Hero,{})}),/*#__PURE__*/_jsx(PageSection,{containerProps:{style:{marginTop:'-30px'}},background:GET_TICKETS_BG,concaveDivider:true,clipFill:{light:'#7645D9'},dividerPosition:\"top\",index:2,children:/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justifyContent:\"center\",flexDirection:\"column\",pt:\"24px\",children:[status===LotteryStatus.OPEN&&/*#__PURE__*/_jsx(Heading,{scale:\"xl\",color:\"#ffffff\",mb:\"24px\",textAlign:\"center\",children:t('Get your tickets now!')}),/*#__PURE__*/_jsx(Flex,{alignItems:\"center\",justifyContent:\"center\",mb:\"48px\",children:nextEventTime&&(postCountdownText||preCountdownText)?/*#__PURE__*/_jsx(Countdown,{nextEventTime:nextEventTime,postCountdownText:postCountdownText,preCountdownText:preCountdownText}):/*#__PURE__*/_jsx(Skeleton,{height:\"41px\",width:\"250px\"})}),/*#__PURE__*/_jsx(NextDrawCard,{})]})}),/*#__PURE__*/_jsx(PageSection,{background:CHECK_PRIZES_BG,hasCurvedDivider:false,index:2,children:/*#__PURE__*/_jsx(CheckPrizesSection,{})}),/*#__PURE__*/_jsx(PageSection,{innerProps:{style:{margin:'0',width:'100%'}},background:isDark?FINISHED_ROUNDS_BG_DARK:FINISHED_ROUNDS_BG,hasCurvedDivider:false,index:2,children:/*#__PURE__*/_jsxs(Flex,{width:\"100%\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",children:[/*#__PURE__*/_jsx(Heading,{mb:\"24px\",scale:\"xl\",children:t('Finished Rounds')}),/*#__PURE__*/_jsx(Box,{mb:\"24px\",children:/*#__PURE__*/_jsx(HistoryTabMenu,{activeIndex:historyTabMenuIndex,setActiveIndex:function setActiveIndex(index){return setHistoryTabMenuIndex(index);}})}),historyTabMenuIndex===0?/*#__PURE__*/_jsx(AllHistoryCard,{}):/*#__PURE__*/_jsx(YourHistoryCard,{handleShowMoreClick:handleShowMoreUserRounds,numUserRoundsRequested:numUserRoundsRequested})]})}),/*#__PURE__*/_jsx(PageSection,{dividerPosition:\"top\",dividerFill:{light:theme.colors.background},clipFill:{light:'#9A9FD0',dark:'#66578D'},index:2,children:/*#__PURE__*/_jsx(HowToPlay,{})})]});};export default Lottery;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Lottery/index.tsx"],"names":["React","useState","styled","Box","Flex","Heading","Skeleton","LotteryStatus","PageSection","useTranslation","useTheme","useFetchLottery","useLottery","TITLE_BG","GET_TICKETS_BG","FINISHED_ROUNDS_BG","FINISHED_ROUNDS_BG_DARK","CHECK_PRIZES_BG","useGetNextLotteryEvent","useStatusTransitions","Hero","NextDrawCard","Countdown","HistoryTabMenu","YourHistoryCard","AllHistoryCard","CheckPrizesSection","HowToPlay","useShowMoreUserHistory","LotteryPage","div","Lottery","t","isDark","theme","currentRound","status","endTime","historyTabMenuIndex","setHistoryTabMenuIndex","endTimeAsInt","parseInt","nextEventTime","postCountdownText","preCountdownText","numUserRoundsRequested","handleShowMoreUserRounds","style","marginTop","light","OPEN","margin","width","index","colors","background","dark"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Box, Flex, Heading, Skeleton } from '@pancakeswap/uikit'\nimport { LotteryStatus } from 'config/constants/types'\nimport PageSection from 'components/PageSection'\nimport { useTranslation } from 'contexts/Localization'\nimport useTheme from 'hooks/useTheme'\nimport { useFetchLottery, useLottery } from 'state/lottery/hooks'\nimport {\n  TITLE_BG,\n  GET_TICKETS_BG,\n  FINISHED_ROUNDS_BG,\n  FINISHED_ROUNDS_BG_DARK,\n  CHECK_PRIZES_BG,\n} from './pageSectionStyles'\nimport useGetNextLotteryEvent from './hooks/useGetNextLotteryEvent'\nimport useStatusTransitions from './hooks/useStatusTransitions'\nimport Hero from './components/Hero'\nimport NextDrawCard from './components/NextDrawCard'\nimport Countdown from './components/Countdown'\nimport HistoryTabMenu from './components/HistoryTabMenu'\nimport YourHistoryCard from './components/YourHistoryCard'\nimport AllHistoryCard from './components/AllHistoryCard'\nimport CheckPrizesSection from './components/CheckPrizesSection'\nimport HowToPlay from './components/HowToPlay'\nimport useShowMoreUserHistory from './hooks/useShowMoreUserRounds'\n\nconst LotteryPage = styled.div`\n  min-height: calc(100vh - 64px);\n`\n\nconst Lottery = () => {\n  useFetchLottery()\n  useStatusTransitions()\n  const { t } = useTranslation()\n  const { isDark, theme } = useTheme()\n  const {\n    currentRound: { status, endTime },\n  } = useLottery()\n  const [historyTabMenuIndex, setHistoryTabMenuIndex] = useState(0)\n  const endTimeAsInt = parseInt(endTime, 10)\n  const { nextEventTime, postCountdownText, preCountdownText } = useGetNextLotteryEvent(endTimeAsInt, status)\n  const { numUserRoundsRequested, handleShowMoreUserRounds } = useShowMoreUserHistory()\n\n  return (\n    <LotteryPage>\n      <PageSection background={TITLE_BG} index={1} hasCurvedDivider={false}>\n        <Hero />\n      </PageSection>\n      <PageSection\n        containerProps={{ style: { marginTop: '-30px' } }}\n        background={GET_TICKETS_BG}\n        concaveDivider\n        clipFill={{ light: '#7645D9' }}\n        dividerPosition=\"top\"\n        index={2}\n      >\n        <Flex alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\" pt=\"24px\">\n          {status === LotteryStatus.OPEN && (\n            <Heading scale=\"xl\" color=\"#ffffff\" mb=\"24px\" textAlign=\"center\">\n              {t('Get your tickets now!')}\n            </Heading>\n          )}\n          <Flex alignItems=\"center\" justifyContent=\"center\" mb=\"48px\">\n            {nextEventTime && (postCountdownText || preCountdownText) ? (\n              <Countdown\n                nextEventTime={nextEventTime}\n                postCountdownText={postCountdownText}\n                preCountdownText={preCountdownText}\n              />\n            ) : (\n              <Skeleton height=\"41px\" width=\"250px\" />\n            )}\n          </Flex>\n          <NextDrawCard />\n        </Flex>\n      </PageSection>\n      <PageSection background={CHECK_PRIZES_BG} hasCurvedDivider={false} index={2}>\n        <CheckPrizesSection />\n      </PageSection>\n      <PageSection\n        innerProps={{ style: { margin: '0', width: '100%' } }}\n        background={isDark ? FINISHED_ROUNDS_BG_DARK : FINISHED_ROUNDS_BG}\n        hasCurvedDivider={false}\n        index={2}\n      >\n        <Flex width=\"100%\" flexDirection=\"column\" alignItems=\"center\" justifyContent=\"center\">\n          <Heading mb=\"24px\" scale=\"xl\">\n            {t('Finished Rounds')}\n          </Heading>\n          <Box mb=\"24px\">\n            <HistoryTabMenu\n              activeIndex={historyTabMenuIndex}\n              setActiveIndex={(index) => setHistoryTabMenuIndex(index)}\n            />\n          </Box>\n          {historyTabMenuIndex === 0 ? (\n            <AllHistoryCard />\n          ) : (\n            <YourHistoryCard\n              handleShowMoreClick={handleShowMoreUserRounds}\n              numUserRoundsRequested={numUserRoundsRequested}\n            />\n          )}\n        </Flex>\n      </PageSection>\n      <PageSection\n        dividerPosition=\"top\"\n        dividerFill={{ light: theme.colors.background }}\n        clipFill={{ light: '#9A9FD0', dark: '#66578D' }}\n        index={2}\n      >\n        <HowToPlay />\n      </PageSection>\n    </LotteryPage>\n  )\n}\n\nexport default Lottery\n"]},"metadata":{},"sourceType":"module"}