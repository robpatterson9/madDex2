{"ast":null,"code":"import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useEffect}from'react';import styled from'styled-components';import{Heading,ModalContainer,ModalHeader,ModalTitle,ModalBody,ModalCloseButton}from'@pancakeswap/uikit';import{useWeb3React}from'@web3-react/core';import{useTranslation}from'contexts/Localization';import{delay}from'lodash';import confetti from'canvas-confetti';import{useAppDispatch}from'state';import{useLottery}from'state/lottery/hooks';import{fetchUserLotteries}from'state/lottery';import ClaimPrizesInner from'./ClaimPrizesInner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledModal=styled(ModalContainer)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: relative;\\n  overflow: visible;\\n\\n  \",\" {\\n    min-width: 380px;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.mediaQueries.sm;});var StyledModalHeader=styled(ModalHeader)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  border-top-right-radius: 32px;\\n  border-top-left-radius: 32px;\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.colors.gradients.cardHeader;});var BunnyDecoration=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: -116px; // line up bunny at the top of the modal\\n  left: 0px;\\n  text-align: center;\\n  width: 100%;\\n\"])));var showConfetti=function showConfetti(){confetti({particleCount:200,startVelocity:30,gravity:0.5,spread:350,origin:{x:0.5,y:0.3}});};var ClaimPrizesModal=function ClaimPrizesModal(_ref3){var onDismiss=_ref3.onDismiss,roundsToClaim=_ref3.roundsToClaim;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var _useLottery=useLottery(),currentLotteryId=_useLottery.currentLotteryId;var dispatch=useAppDispatch();useEffect(function(){delay(showConfetti,100);},[]);return/*#__PURE__*/_jsxs(StyledModal,{minWidth:\"280px\",children:[/*#__PURE__*/_jsx(BunnyDecoration,{children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/decorations/prize-bunny.png\",alt:\"bunny decoration\",height:\"124px\",width:\"168px\"})}),/*#__PURE__*/_jsxs(StyledModalHeader,{children:[/*#__PURE__*/_jsx(ModalTitle,{children:/*#__PURE__*/_jsx(Heading,{children:t('Collect Winnings')})}),/*#__PURE__*/_jsx(ModalCloseButton,{onDismiss:onDismiss})]}),/*#__PURE__*/_jsx(ModalBody,{p:\"24px\",children:/*#__PURE__*/_jsx(ClaimPrizesInner,{onSuccess:function onSuccess(){dispatch(fetchUserLotteries({account:account,currentLotteryId:currentLotteryId}));onDismiss();},roundsToClaim:roundsToClaim})})]});};export default ClaimPrizesModal;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Lottery/components/ClaimPrizesModal/index.tsx"],"names":["React","useEffect","styled","Heading","ModalContainer","ModalHeader","ModalTitle","ModalBody","ModalCloseButton","useWeb3React","useTranslation","delay","confetti","useAppDispatch","useLottery","fetchUserLotteries","ClaimPrizesInner","StyledModal","theme","mediaQueries","sm","StyledModalHeader","colors","gradients","cardHeader","BunnyDecoration","div","showConfetti","particleCount","startVelocity","gravity","spread","origin","x","y","ClaimPrizesModal","onDismiss","roundsToClaim","t","account","currentLotteryId","dispatch"],"mappings":"8NAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,OAAT,CAAkBC,cAAlB,CAAkCC,WAAlC,CAA+CC,UAA/C,CAA2DC,SAA3D,CAAsEC,gBAAtE,KAA8F,oBAA9F,CACA,OAASC,YAAT,KAA6B,kBAA7B,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,OAASC,KAAT,KAAsB,QAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CAEA,OAASC,cAAT,KAA+B,OAA/B,CACA,OAASC,UAAT,KAA2B,qBAA3B,CACA,OAASC,kBAAT,KAAmC,eAAnC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,C,wFAEA,GAAMC,CAAAA,WAAW,CAAGf,MAAM,CAACE,cAAD,CAAT,uJAIb,kBAAGc,CAAAA,KAAH,MAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,YAAN,CAAmBC,EAAlC,EAJa,CAAjB,CASA,GAAMC,CAAAA,iBAAiB,CAAGnB,MAAM,CAACG,WAAD,CAAT,4JACP,mBAAGa,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACI,MAAN,CAAaC,SAAb,CAAuBC,UAAtC,EADO,CAAvB,CAMA,GAAMC,CAAAA,eAAe,CAAGvB,MAAM,CAACwB,GAAV,0MAArB,CAQA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBf,QAAQ,CAAC,CACPgB,aAAa,CAAE,GADR,CAEPC,aAAa,CAAE,EAFR,CAGPC,OAAO,CAAE,GAHF,CAIPC,MAAM,CAAE,GAJD,CAKPC,MAAM,CAAE,CACNC,CAAC,CAAE,GADG,CAENC,CAAC,CAAE,GAFG,CALD,CAAD,CAAR,CAUD,CAXD,CAkBA,GAAMC,CAAAA,gBAAsD,CAAG,QAAzDA,CAAAA,gBAAyD,OAAkC,IAA/BC,CAAAA,SAA+B,OAA/BA,SAA+B,CAApBC,aAAoB,OAApBA,aAAoB,CAC/F,oBAAc3B,cAAc,EAA5B,CAAQ4B,CAAR,iBAAQA,CAAR,CACA,kBAAoB7B,YAAY,EAAhC,CAAQ8B,OAAR,eAAQA,OAAR,CACA,gBAA6BzB,UAAU,EAAvC,CAAQ0B,gBAAR,aAAQA,gBAAR,CACA,GAAMC,CAAAA,QAAQ,CAAG5B,cAAc,EAA/B,CAEAZ,SAAS,CAAC,UAAM,CACdU,KAAK,CAACgB,YAAD,CAAe,GAAf,CAAL,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,MAAC,WAAD,EAAa,QAAQ,CAAC,OAAtB,wBACE,KAAC,eAAD,wBACE,YAAK,GAAG,CAAC,qCAAT,CAA+C,GAAG,CAAC,kBAAnD,CAAsE,MAAM,CAAC,OAA7E,CAAqF,KAAK,CAAC,OAA3F,EADF,EADF,cAIE,MAAC,iBAAD,yBACE,KAAC,UAAD,wBACE,KAAC,OAAD,WAAUW,CAAC,CAAC,kBAAD,CAAX,EADF,EADF,cAIE,KAAC,gBAAD,EAAkB,SAAS,CAAEF,SAA7B,EAJF,GAJF,cAUE,KAAC,SAAD,EAAW,CAAC,CAAC,MAAb,uBACE,KAAC,gBAAD,EACE,SAAS,CAAE,oBAAM,CACfK,QAAQ,CAAC1B,kBAAkB,CAAC,CAAEwB,OAAO,CAAPA,OAAF,CAAWC,gBAAgB,CAAhBA,gBAAX,CAAD,CAAnB,CAAR,CACAJ,SAAS,GACV,CAJH,CAKE,aAAa,CAAEC,aALjB,EADF,EAVF,GADF,CAsBD,CAhCD,CAkCA,cAAeF,CAAAA,gBAAf","sourcesContent":["import React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Heading, ModalContainer, ModalHeader, ModalTitle, ModalBody, ModalCloseButton } from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport { useTranslation } from 'contexts/Localization'\nimport { delay } from 'lodash'\nimport confetti from 'canvas-confetti'\nimport { LotteryTicketClaimData } from 'config/constants/types'\nimport { useAppDispatch } from 'state'\nimport { useLottery } from 'state/lottery/hooks'\nimport { fetchUserLotteries } from 'state/lottery'\nimport ClaimPrizesInner from './ClaimPrizesInner'\n\nconst StyledModal = styled(ModalContainer)`\n  position: relative;\n  overflow: visible;\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    min-width: 380px;\n  }\n`\n\nconst StyledModalHeader = styled(ModalHeader)`\n  background: ${({ theme }) => theme.colors.gradients.cardHeader};\n  border-top-right-radius: 32px;\n  border-top-left-radius: 32px;\n`\n\nconst BunnyDecoration = styled.div`\n  position: absolute;\n  top: -116px; // line up bunny at the top of the modal\n  left: 0px;\n  text-align: center;\n  width: 100%;\n`\n\nconst showConfetti = () => {\n  confetti({\n    particleCount: 200,\n    startVelocity: 30,\n    gravity: 0.5,\n    spread: 350,\n    origin: {\n      x: 0.5,\n      y: 0.3,\n    },\n  })\n}\n\ninterface ClaimPrizesModalModalProps {\n  roundsToClaim: LotteryTicketClaimData[]\n  onDismiss?: () => void\n}\n\nconst ClaimPrizesModal: React.FC<ClaimPrizesModalModalProps> = ({ onDismiss, roundsToClaim }) => {\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  const { currentLotteryId } = useLottery()\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    delay(showConfetti, 100)\n  }, [])\n\n  return (\n    <StyledModal minWidth=\"280px\">\n      <BunnyDecoration>\n        <img src=\"/images/decorations/prize-bunny.png\" alt=\"bunny decoration\" height=\"124px\" width=\"168px\" />\n      </BunnyDecoration>\n      <StyledModalHeader>\n        <ModalTitle>\n          <Heading>{t('Collect Winnings')}</Heading>\n        </ModalTitle>\n        <ModalCloseButton onDismiss={onDismiss} />\n      </StyledModalHeader>\n      <ModalBody p=\"24px\">\n        <ClaimPrizesInner\n          onSuccess={() => {\n            dispatch(fetchUserLotteries({ account, currentLotteryId }))\n            onDismiss()\n          }}\n          roundsToClaim={roundsToClaim}\n        />\n      </ModalBody>\n    </StyledModal>\n  )\n}\n\nexport default ClaimPrizesModal\n"]},"metadata":{},"sourceType":"module"}