{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';// endpoint to check asset exists and get url to CMC page\n// returns 400 status code if token is not on CMC\nvar CMC_ENDPOINT='https://3rdparty-apis.coinmarketcap.com/v1/cryptocurrency/contract?address=';/**\n * Check if asset exists on CMC, if exists\n * return  url, if not return undefined\n * @param address token address (all lowercase, checksummed are not supported by CMC)\n */var useCMCLink=function useCMCLink(address){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),cmcPageUrl=_useState2[0],setCMCPageUrl=_useState2[1];useEffect(function(){var fetchLink=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(CMC_ENDPOINT).concat(address));case 2:result=_context.sent;// if link exists, format the url\nif(result.status===200){result.json().then(function(_ref2){var data=_ref2.data;setCMCPageUrl(data.url);});}case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchLink(){return _ref.apply(this,arguments);};}();if(address){fetchLink();}},[address]);return cmcPageUrl;};export default useCMCLink;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Info/hooks/useCMCLink.ts"],"names":["useState","useEffect","CMC_ENDPOINT","useCMCLink","address","undefined","cmcPageUrl","setCMCPageUrl","fetchLink","fetch","result","status","json","then","data","url"],"mappings":"qcAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA;AACA;AACA,GAAMC,CAAAA,YAAY,CAAG,6EAArB,CAEA;AACA;AACA;AACA;AACA,GACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,OAAD,CAAyC,CAC1D,cAAoCJ,QAAQ,CAAqBK,SAArB,CAA5C,wCAAOC,UAAP,eAAmBC,aAAnB,eAEAN,SAAS,CAAC,UAAM,CACd,GAAMO,CAAAA,SAAS,0FAAG,oKACKC,CAAAA,KAAK,WAAIP,YAAJ,SAAmBE,OAAnB,EADV,QACVM,MADU,eAEhB;AACA,GAAIA,MAAM,CAACC,MAAP,GAAkB,GAAtB,CAA2B,CACzBD,MAAM,CAACE,IAAP,GAAcC,IAAd,CAAmB,eAAc,IAAXC,CAAAA,IAAW,OAAXA,IAAW,CAC/BP,aAAa,CAACO,IAAI,CAACC,GAAN,CAAb,CACD,CAFD,EAGD,CAPe,sDAAH,kBAATP,CAAAA,SAAS,0CAAf,CASA,GAAIJ,OAAJ,CAAa,CACXI,SAAS,GACV,CACF,CAbQ,CAaN,CAACJ,OAAD,CAbM,CAAT,CAeA,MAAOE,CAAAA,UAAP,CACD,CAnBD,CAqBA,cAAeH,CAAAA,UAAf","sourcesContent":["import { useState, useEffect } from 'react'\n\n// endpoint to check asset exists and get url to CMC page\n// returns 400 status code if token is not on CMC\nconst CMC_ENDPOINT = 'https://3rdparty-apis.coinmarketcap.com/v1/cryptocurrency/contract?address='\n\n/**\n * Check if asset exists on CMC, if exists\n * return  url, if not return undefined\n * @param address token address (all lowercase, checksummed are not supported by CMC)\n */\nconst useCMCLink = (address: string): string | undefined => {\n  const [cmcPageUrl, setCMCPageUrl] = useState<string | undefined>(undefined)\n\n  useEffect(() => {\n    const fetchLink = async () => {\n      const result = await fetch(`${CMC_ENDPOINT}${address}`)\n      // if link exists, format the url\n      if (result.status === 200) {\n        result.json().then(({ data }) => {\n          setCMCPageUrl(data.url)\n        })\n      }\n    }\n    if (address) {\n      fetchLink()\n    }\n  }, [address])\n\n  return cmcPageUrl\n}\n\nexport default useCMCLink\n"]},"metadata":{},"sourceType":"module"}