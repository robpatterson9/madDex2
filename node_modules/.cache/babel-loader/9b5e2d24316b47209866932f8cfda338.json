{"ast":null,"code":"var _jsxFileName = \"/Volumes/evo970/lou/madDex-master/src/components/Menu/GlobalSettings/TransactionSettings.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Text, Button, Input, Flex, Box } from '@pancakeswap/uikit';\nimport { useTranslation } from 'contexts/Localization';\nimport { useUserSlippageTolerance, useUserTransactionTTL } from 'state/user/hooks';\nimport QuestionHelper from '../../QuestionHelper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar SlippageError;\n\n(function (SlippageError) {\n  SlippageError[\"InvalidInput\"] = \"InvalidInput\";\n  SlippageError[\"RiskyLow\"] = \"RiskyLow\";\n  SlippageError[\"RiskyHigh\"] = \"RiskyHigh\";\n})(SlippageError || (SlippageError = {}));\n\nvar DeadlineError;\n\n(function (DeadlineError) {\n  DeadlineError[\"InvalidInput\"] = \"InvalidInput\";\n})(DeadlineError || (DeadlineError = {}));\n\nconst SlippageTabs = () => {\n  _s();\n\n  const [userSlippageTolerance, setUserSlippageTolerance] = useUserSlippageTolerance();\n  const [ttl, setTtl] = useUserTransactionTTL();\n  const [slippageInput, setSlippageInput] = useState('');\n  const [deadlineInput, setDeadlineInput] = useState('');\n  const {\n    t\n  } = useTranslation();\n  const slippageInputIsValid = slippageInput === '' || (userSlippageTolerance / 100).toFixed(2) === Number.parseFloat(slippageInput).toFixed(2);\n  const deadlineInputIsValid = deadlineInput === '' || (ttl / 60).toString() === deadlineInput;\n  let slippageError;\n\n  if (slippageInput !== '' && !slippageInputIsValid) {\n    slippageError = SlippageError.InvalidInput;\n  } else if (slippageInputIsValid && userSlippageTolerance < 50) {\n    slippageError = SlippageError.RiskyLow;\n  } else if (slippageInputIsValid && userSlippageTolerance > 500) {\n    slippageError = SlippageError.RiskyHigh;\n  } else {\n    slippageError = undefined;\n  }\n\n  let deadlineError;\n\n  if (deadlineInput !== '' && !deadlineInputIsValid) {\n    deadlineError = DeadlineError.InvalidInput;\n  } else {\n    deadlineError = undefined;\n  }\n\n  const parseCustomSlippage = value => {\n    setSlippageInput(value);\n\n    try {\n      const valueAsIntFromRoundedFloat = Number.parseInt((Number.parseFloat(value) * 100).toString());\n\n      if (!Number.isNaN(valueAsIntFromRoundedFloat) && valueAsIntFromRoundedFloat < 5000) {\n        setUserSlippageTolerance(valueAsIntFromRoundedFloat);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const parseCustomDeadline = value => {\n    setDeadlineInput(value);\n\n    try {\n      const valueAsInt = Number.parseInt(value) * 60;\n\n      if (!Number.isNaN(valueAsInt) && valueAsInt > 0) {\n        setTtl(valueAsInt);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    flexDirection: \"column\",\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      flexDirection: \"column\",\n      mb: \"24px\",\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        mb: \"12px\",\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          children: t('Slippage Tolerance')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(QuestionHelper, {\n          text: t('Setting a high slippage tolerance can help transactions succeed, but you may not get such a good price. Use with caution.'),\n          placement: \"top-start\",\n          ml: \"4px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        flexWrap: \"wrap\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          mt: \"4px\",\n          mr: \"4px\",\n          scale: \"sm\",\n          onClick: () => {\n            setSlippageInput('');\n            setUserSlippageTolerance(50);\n          },\n          variant: userSlippageTolerance === 50 ? 'primary' : 'tertiary',\n          children: \"0.5%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          mt: \"4px\",\n          mr: \"4px\",\n          scale: \"sm\",\n          onClick: () => {\n            setSlippageInput('');\n            setUserSlippageTolerance(100);\n          },\n          variant: userSlippageTolerance === 100 ? 'primary' : 'tertiary',\n          children: \"1.0%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          mr: \"4px\",\n          mt: \"4px\",\n          scale: \"sm\",\n          onClick: () => {\n            setSlippageInput('');\n            setUserSlippageTolerance(1200);\n          },\n          variant: userSlippageTolerance === 1200 ? 'primary' : 'tertiary',\n          children: \"12.0%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Flex, {\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            width: \"76px\",\n            mt: \"4px\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              scale: \"sm\",\n              placeholder: (userSlippageTolerance / 100).toFixed(2),\n              value: slippageInput,\n              onBlur: () => {\n                parseCustomSlippage((userSlippageTolerance / 100).toFixed(2));\n              },\n              onChange: e => parseCustomSlippage(e.target.value),\n              isWarning: !slippageInputIsValid,\n              isSuccess: ![10, 50, 1200].includes(userSlippageTolerance)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            color: \"primary\",\n            bold: true,\n            ml: \"2px\",\n            children: \"%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), !!slippageError && /*#__PURE__*/_jsxDEV(Text, {\n        fontSize: \"14px\",\n        color: slippageError === SlippageError.InvalidInput ? 'red' : '#F3841E',\n        mt: \"8px\",\n        children: slippageError === SlippageError.InvalidInput ? t('Enter a valid slippage percentage') : slippageError === SlippageError.RiskyLow ? t('Your transaction may fail') : t('')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Flex, {\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: \"24px\",\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          children: t('Tx deadline (mins)')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(QuestionHelper, {\n          text: t('Your transaction will revert if it is left confirming for longer than this time.'),\n          placement: \"top-start\",\n          ml: \"4px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          width: \"52px\",\n          mt: \"4px\",\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            scale: \"sm\",\n            color: deadlineError ? 'red' : undefined,\n            onBlur: () => {\n              parseCustomDeadline((ttl / 60).toString());\n            },\n            placeholder: (ttl / 60).toString(),\n            value: deadlineInput,\n            onChange: e => parseCustomDeadline(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SlippageTabs, \"OCLnPMrRbm4dXYwsCyzd3T+GKKE=\", false, function () {\n  return [useUserSlippageTolerance, useUserTransactionTTL, useTranslation];\n});\n\n_c = SlippageTabs;\nexport default SlippageTabs;\n\nvar _c;\n\n$RefreshReg$(_c, \"SlippageTabs\");","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/components/Menu/GlobalSettings/TransactionSettings.tsx"],"names":["React","useState","Text","Button","Input","Flex","Box","useTranslation","useUserSlippageTolerance","useUserTransactionTTL","QuestionHelper","SlippageError","DeadlineError","SlippageTabs","userSlippageTolerance","setUserSlippageTolerance","ttl","setTtl","slippageInput","setSlippageInput","deadlineInput","setDeadlineInput","t","slippageInputIsValid","toFixed","Number","parseFloat","deadlineInputIsValid","toString","slippageError","InvalidInput","RiskyLow","RiskyHigh","undefined","deadlineError","parseCustomSlippage","value","valueAsIntFromRoundedFloat","parseInt","isNaN","error","console","parseCustomDeadline","valueAsInt","e","target","includes"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Text, Button, Input, Flex, Box } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { useUserSlippageTolerance, useUserTransactionTTL } from 'state/user/hooks'\nimport QuestionHelper from '../../QuestionHelper'\n\nenum SlippageError {\n  InvalidInput = 'InvalidInput',\n  RiskyLow = 'RiskyLow',\n  RiskyHigh = 'RiskyHigh',\n}\n\nenum DeadlineError {\n  InvalidInput = 'InvalidInput',\n}\n\nconst SlippageTabs = () => {\n  const [userSlippageTolerance, setUserSlippageTolerance] = useUserSlippageTolerance()\n  const [ttl, setTtl] = useUserTransactionTTL()\n  const [slippageInput, setSlippageInput] = useState('')\n  const [deadlineInput, setDeadlineInput] = useState('')\n\n  const { t } = useTranslation()\n\n  const slippageInputIsValid =\n    slippageInput === '' || (userSlippageTolerance / 100).toFixed(2) === Number.parseFloat(slippageInput).toFixed(2)\n  const deadlineInputIsValid = deadlineInput === '' || (ttl / 60).toString() === deadlineInput\n\n  let slippageError: SlippageError | undefined\n  if (slippageInput !== '' && !slippageInputIsValid) {\n    slippageError = SlippageError.InvalidInput\n  } else if (slippageInputIsValid && userSlippageTolerance < 50) {\n    slippageError = SlippageError.RiskyLow\n  } else if (slippageInputIsValid && userSlippageTolerance > 500) {\n    slippageError = SlippageError.RiskyHigh\n  } else {\n    slippageError = undefined\n  }\n\n  let deadlineError: DeadlineError | undefined\n  if (deadlineInput !== '' && !deadlineInputIsValid) {\n    deadlineError = DeadlineError.InvalidInput\n  } else {\n    deadlineError = undefined\n  }\n\n  const parseCustomSlippage = (value: string) => {\n    setSlippageInput(value)\n\n    try {\n      const valueAsIntFromRoundedFloat = Number.parseInt((Number.parseFloat(value) * 100).toString())\n      if (!Number.isNaN(valueAsIntFromRoundedFloat) && valueAsIntFromRoundedFloat < 5000) {\n        setUserSlippageTolerance(valueAsIntFromRoundedFloat)\n      }\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  const parseCustomDeadline = (value: string) => {\n    setDeadlineInput(value)\n\n    try {\n      const valueAsInt: number = Number.parseInt(value) * 60\n      if (!Number.isNaN(valueAsInt) && valueAsInt > 0) {\n        setTtl(valueAsInt)\n      }\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  return (\n    <Flex flexDirection=\"column\">\n      <Flex flexDirection=\"column\" mb=\"24px\">\n        <Flex mb=\"12px\">\n          <Text>{t('Slippage Tolerance')}</Text>\n          <QuestionHelper\n            text={t(\n              'Setting a high slippage tolerance can help transactions succeed, but you may not get such a good price. Use with caution.',\n            )}\n            placement=\"top-start\"\n            ml=\"4px\"\n          />\n        </Flex>\n        <Flex flexWrap=\"wrap\">\n         \n          <Button\n            mt=\"4px\"\n            mr=\"4px\"\n            scale=\"sm\"\n            onClick={() => {\n              setSlippageInput('')\n              setUserSlippageTolerance(50)\n            }}\n            variant={userSlippageTolerance === 50 ? 'primary' : 'tertiary'}\n          >\n            0.5%\n          </Button>\n          <Button\n            mt=\"4px\"\n            mr=\"4px\"\n            scale=\"sm\"\n            onClick={() => {\n              setSlippageInput('')\n              setUserSlippageTolerance(100)\n            }}\n            variant={userSlippageTolerance === 100 ? 'primary' : 'tertiary'}\n          >\n            1.0%\n          </Button>\n          <Button\n            mr=\"4px\"\n            mt=\"4px\"\n            scale=\"sm\"\n            onClick={() => {\n              setSlippageInput('')\n              setUserSlippageTolerance(1200)\n            }}\n            variant={userSlippageTolerance === 1200 ? 'primary' : 'tertiary'}\n          >\n            12.0%\n          </Button>\n          <Flex alignItems=\"center\">\n            <Box width=\"76px\" mt=\"4px\">\n              <Input\n                scale=\"sm\"\n                placeholder={(userSlippageTolerance / 100).toFixed(2)}\n                value={slippageInput}\n                onBlur={() => {\n                  parseCustomSlippage((userSlippageTolerance / 100).toFixed(2))\n                }}\n                onChange={(e) => parseCustomSlippage(e.target.value)}\n                isWarning={!slippageInputIsValid}\n                isSuccess={![10, 50, 1200].includes(userSlippageTolerance)}\n              />\n            </Box>\n            <Text color=\"primary\" bold ml=\"2px\">\n              %\n            </Text>\n          </Flex>\n        </Flex>\n        {!!slippageError && (\n          <Text fontSize=\"14px\" color={slippageError === SlippageError.InvalidInput ? 'red' : '#F3841E'} mt=\"8px\">\n            {slippageError === SlippageError.InvalidInput\n              ? t('Enter a valid slippage percentage')\n              : slippageError === SlippageError.RiskyLow\n              ? t('Your transaction may fail')\n              : t('')}\n          </Text>\n        )}\n      </Flex>\n      <Flex justifyContent=\"space-between\" alignItems=\"center\" mb=\"24px\">\n        <Flex alignItems=\"center\">\n          <Text>{t('Tx deadline (mins)')}</Text>\n          <QuestionHelper\n            text={t('Your transaction will revert if it is left confirming for longer than this time.')}\n            placement=\"top-start\"\n            ml=\"4px\"\n          />\n        </Flex>\n        <Flex>\n          <Box width=\"52px\" mt=\"4px\">\n            <Input\n              scale=\"sm\"\n              color={deadlineError ? 'red' : undefined}\n              onBlur={() => {\n                parseCustomDeadline((ttl / 60).toString())\n              }}\n              placeholder={(ttl / 60).toString()}\n              value={deadlineInput}\n              onChange={(e) => parseCustomDeadline(e.target.value)}\n            />\n          </Box>\n        </Flex>\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default SlippageTabs\n"]},"metadata":{},"sourceType":"module"}