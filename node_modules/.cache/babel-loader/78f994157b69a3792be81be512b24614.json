{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState}from'react';import styled from'styled-components';import{Text,Card,Flex,Box,Spinner}from'@pancakeswap/uikit';import{useTranslation}from'contexts/Localization';import{AuctionStatus}from'config/constants/types';import{TabToggleGroup,TabToggle}from'components/TabToggle';import AuctionHistory from'../AuctionHistory';import AuctionProgress from'./AuctionProgress';import AuctionRibbon from'./AuctionRibbon';import AuctionLeaderboardTable from'./AuctionLeaderboardTable';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AuctionLeaderboardCard=styled(Card)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  flex: 2;\\n\"])));var Tabs;(function(Tabs){Tabs[Tabs[\"Latest\"]=0]=\"Latest\";Tabs[Tabs[\"Archive\"]=1]=\"Archive\";})(Tabs||(Tabs={}));var getMostRecentClosedAuctionId=function getMostRecentClosedAuctionId(latestAuctionId,latestAuctionStatus){if(latestAuctionStatus===AuctionStatus.Closed){return latestAuctionId;}if(latestAuctionId===0){return null;}return latestAuctionId-1;};var CurrentAuctionCard=function CurrentAuctionCard(_ref){var auction=_ref.auction,bidders=_ref.bidders;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState(Tabs.Latest),_useState2=_slicedToArray(_useState,2),activeTab=_useState2[0],setActiveTab=_useState2[1];if(!auction||!bidders){return/*#__PURE__*/_jsxs(AuctionLeaderboardCard,{children:[/*#__PURE__*/_jsxs(TabToggleGroup,{children:[/*#__PURE__*/_jsx(TabToggle,{isActive:activeTab===Tabs.Latest,onClick:function onClick(){return setActiveTab(Tabs.Latest);},children:t('Latest')}),/*#__PURE__*/_jsx(TabToggle,{isActive:activeTab===Tabs.Archive,onClick:function onClick(){return setActiveTab(Tabs.Archive);},children:t('Archive')})]}),/*#__PURE__*/_jsx(Flex,{justifyContent:\"center\",alignItems:\"center\",flexDirection:\"column\",height:\"320px\",children:/*#__PURE__*/_jsx(Spinner,{})})]});}var id=auction.id,status=auction.status;return/*#__PURE__*/_jsxs(AuctionLeaderboardCard,{children:[/*#__PURE__*/_jsxs(TabToggleGroup,{children:[/*#__PURE__*/_jsx(TabToggle,{isActive:activeTab===Tabs.Latest,onClick:function onClick(){return setActiveTab(Tabs.Latest);},children:t('Latest')}),/*#__PURE__*/_jsx(TabToggle,{isActive:activeTab===Tabs.Archive,onClick:function onClick(){return setActiveTab(Tabs.Archive);},children:t('Archive')})]}),activeTab===Tabs.Latest?/*#__PURE__*/_jsxs(Box,{position:\"relative\",children:[/*#__PURE__*/_jsx(Text,{bold:true,fontSize:\"20px\",py:\"24px\",px:['12px','24px'],children:t('Auction #%auctionId%',{auctionId:id})}),/*#__PURE__*/_jsx(AuctionRibbon,{auction:auction,noAuctionHistory:getMostRecentClosedAuctionId(id,status)===null}),/*#__PURE__*/_jsx(AuctionProgress,{auction:auction}),/*#__PURE__*/_jsx(AuctionLeaderboardTable,{bidders:bidders,noBidsText:\"No bids yet\"})]}):/*#__PURE__*/_jsx(AuctionHistory,{mostRecentClosedAuctionId:getMostRecentClosedAuctionId(id,status)})]});};export default CurrentAuctionCard;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/FarmAuction/components/AuctionLeaderboard/index.tsx"],"names":["React","useState","styled","Text","Card","Flex","Box","Spinner","useTranslation","AuctionStatus","TabToggleGroup","TabToggle","AuctionHistory","AuctionProgress","AuctionRibbon","AuctionLeaderboardTable","AuctionLeaderboardCard","Tabs","getMostRecentClosedAuctionId","latestAuctionId","latestAuctionStatus","Closed","CurrentAuctionCard","auction","bidders","t","Latest","activeTab","setActiveTab","Archive","id","status","auctionId"],"mappings":"oVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,IAAT,CAAeC,IAAf,CAAqBC,IAArB,CAA2BC,GAA3B,CAAgCC,OAAhC,KAA+C,oBAA/C,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,OAAkBC,aAAlB,KAA+C,wBAA/C,CACA,OAASC,cAAT,CAAyBC,SAAzB,KAA0C,sBAA1C,CACA,MAAOC,CAAAA,cAAP,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,uBAAP,KAAoC,2BAApC,C,wFAEA,GAAMC,CAAAA,sBAAsB,CAAGd,MAAM,CAACE,IAAD,CAAT,+FAA5B,C,GAUKa,CAAAA,I,WAAAA,I,EAAAA,I,CAAAA,I,uBAAAA,I,CAAAA,I,4BAAAA,I,GAAAA,I,MAKL,GAAMC,CAAAA,4BAA4B,CAAG,QAA/BA,CAAAA,4BAA+B,CAACC,eAAD,CAA0BC,mBAA1B,CAAiE,CACpG,GAAIA,mBAAmB,GAAKX,aAAa,CAACY,MAA1C,CAAkD,CAChD,MAAOF,CAAAA,eAAP,CACD,CACD,GAAIA,eAAe,GAAK,CAAxB,CAA2B,CACzB,MAAO,KAAP,CACD,CACD,MAAOA,CAAAA,eAAe,CAAG,CAAzB,CACD,CARD,CAUA,GAAMG,CAAAA,kBAAqD,CAAG,QAAxDA,CAAAA,kBAAwD,MAA0B,IAAvBC,CAAAA,OAAuB,MAAvBA,OAAuB,CAAdC,OAAc,MAAdA,OAAc,CACtF,oBAAchB,cAAc,EAA5B,CAAQiB,CAAR,iBAAQA,CAAR,CACA,cAAkCxB,QAAQ,CAACgB,IAAI,CAACS,MAAN,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eAEA,GAAI,CAACL,OAAD,EAAY,CAACC,OAAjB,CAA0B,CACxB,mBACE,MAAC,sBAAD,yBACE,MAAC,cAAD,yBACE,KAAC,SAAD,EAAW,QAAQ,CAAEG,SAAS,GAAKV,IAAI,CAACS,MAAxC,CAAgD,OAAO,CAAE,yBAAME,CAAAA,YAAY,CAACX,IAAI,CAACS,MAAN,CAAlB,EAAzD,UACGD,CAAC,CAAC,QAAD,CADJ,EADF,cAIE,KAAC,SAAD,EAAW,QAAQ,CAAEE,SAAS,GAAKV,IAAI,CAACY,OAAxC,CAAiD,OAAO,CAAE,yBAAMD,CAAAA,YAAY,CAACX,IAAI,CAACY,OAAN,CAAlB,EAA1D,UACGJ,CAAC,CAAC,SAAD,CADJ,EAJF,GADF,cASE,KAAC,IAAD,EAAM,cAAc,CAAC,QAArB,CAA8B,UAAU,CAAC,QAAzC,CAAkD,aAAa,CAAC,QAAhE,CAAyE,MAAM,CAAC,OAAhF,uBACE,KAAC,OAAD,IADF,EATF,GADF,CAeD,CACD,GAAQK,CAAAA,EAAR,CAAuBP,OAAvB,CAAQO,EAAR,CAAYC,MAAZ,CAAuBR,OAAvB,CAAYQ,MAAZ,CAEA,mBACE,MAAC,sBAAD,yBACE,MAAC,cAAD,yBACE,KAAC,SAAD,EAAW,QAAQ,CAAEJ,SAAS,GAAKV,IAAI,CAACS,MAAxC,CAAgD,OAAO,CAAE,yBAAME,CAAAA,YAAY,CAACX,IAAI,CAACS,MAAN,CAAlB,EAAzD,UACGD,CAAC,CAAC,QAAD,CADJ,EADF,cAIE,KAAC,SAAD,EAAW,QAAQ,CAAEE,SAAS,GAAKV,IAAI,CAACY,OAAxC,CAAiD,OAAO,CAAE,yBAAMD,CAAAA,YAAY,CAACX,IAAI,CAACY,OAAN,CAAlB,EAA1D,UACGJ,CAAC,CAAC,SAAD,CADJ,EAJF,GADF,CASGE,SAAS,GAAKV,IAAI,CAACS,MAAnB,cACC,MAAC,GAAD,EAAK,QAAQ,CAAC,UAAd,wBACE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,QAAQ,CAAC,MAApB,CAA2B,EAAE,CAAC,MAA9B,CAAqC,EAAE,CAAE,CAAC,MAAD,CAAS,MAAT,CAAzC,UACGD,CAAC,CAAC,sBAAD,CAAyB,CAAEO,SAAS,CAAEF,EAAb,CAAzB,CADJ,EADF,cAIE,KAAC,aAAD,EAAe,OAAO,CAAEP,OAAxB,CAAiC,gBAAgB,CAAEL,4BAA4B,CAACY,EAAD,CAAKC,MAAL,CAA5B,GAA6C,IAAhG,EAJF,cAKE,KAAC,eAAD,EAAiB,OAAO,CAAER,OAA1B,EALF,cAME,KAAC,uBAAD,EAAyB,OAAO,CAAEC,OAAlC,CAA2C,UAAU,CAAC,aAAtD,EANF,GADD,cAUC,KAAC,cAAD,EAAgB,yBAAyB,CAAEN,4BAA4B,CAACY,EAAD,CAAKC,MAAL,CAAvE,EAnBJ,GADF,CAwBD,CA/CD,CAiDA,cAAeT,CAAAA,kBAAf","sourcesContent":["import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Text, Card, Flex, Box, Spinner } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { Auction, AuctionStatus, Bidder } from 'config/constants/types'\nimport { TabToggleGroup, TabToggle } from 'components/TabToggle'\nimport AuctionHistory from '../AuctionHistory'\nimport AuctionProgress from './AuctionProgress'\nimport AuctionRibbon from './AuctionRibbon'\nimport AuctionLeaderboardTable from './AuctionLeaderboardTable'\n\nconst AuctionLeaderboardCard = styled(Card)`\n  width: 100%;\n  flex: 2;\n`\n\ninterface AuctionLeaderboardProps {\n  auction: Auction\n  bidders: Bidder[]\n}\n\nenum Tabs {\n  Latest,\n  Archive,\n}\n\nconst getMostRecentClosedAuctionId = (latestAuctionId: number, latestAuctionStatus: AuctionStatus) => {\n  if (latestAuctionStatus === AuctionStatus.Closed) {\n    return latestAuctionId\n  }\n  if (latestAuctionId === 0) {\n    return null\n  }\n  return latestAuctionId - 1\n}\n\nconst CurrentAuctionCard: React.FC<AuctionLeaderboardProps> = ({ auction, bidders }) => {\n  const { t } = useTranslation()\n  const [activeTab, setActiveTab] = useState(Tabs.Latest)\n\n  if (!auction || !bidders) {\n    return (\n      <AuctionLeaderboardCard>\n        <TabToggleGroup>\n          <TabToggle isActive={activeTab === Tabs.Latest} onClick={() => setActiveTab(Tabs.Latest)}>\n            {t('Latest')}\n          </TabToggle>\n          <TabToggle isActive={activeTab === Tabs.Archive} onClick={() => setActiveTab(Tabs.Archive)}>\n            {t('Archive')}\n          </TabToggle>\n        </TabToggleGroup>\n        <Flex justifyContent=\"center\" alignItems=\"center\" flexDirection=\"column\" height=\"320px\">\n          <Spinner />\n        </Flex>\n      </AuctionLeaderboardCard>\n    )\n  }\n  const { id, status } = auction\n\n  return (\n    <AuctionLeaderboardCard>\n      <TabToggleGroup>\n        <TabToggle isActive={activeTab === Tabs.Latest} onClick={() => setActiveTab(Tabs.Latest)}>\n          {t('Latest')}\n        </TabToggle>\n        <TabToggle isActive={activeTab === Tabs.Archive} onClick={() => setActiveTab(Tabs.Archive)}>\n          {t('Archive')}\n        </TabToggle>\n      </TabToggleGroup>\n      {activeTab === Tabs.Latest ? (\n        <Box position=\"relative\">\n          <Text bold fontSize=\"20px\" py=\"24px\" px={['12px', '24px']}>\n            {t('Auction #%auctionId%', { auctionId: id })}\n          </Text>\n          <AuctionRibbon auction={auction} noAuctionHistory={getMostRecentClosedAuctionId(id, status) === null} />\n          <AuctionProgress auction={auction} />\n          <AuctionLeaderboardTable bidders={bidders} noBidsText=\"No bids yet\" />\n        </Box>\n      ) : (\n        <AuctionHistory mostRecentClosedAuctionId={getMostRecentClosedAuctionId(id, status)} />\n      )}\n    </AuctionLeaderboardCard>\n  )\n}\n\nexport default CurrentAuctionCard\n"]},"metadata":{},"sourceType":"module"}