{"ast":null,"code":"import React,{useCallback}from'react';import useActiveWeb3React from'hooks/useActiveWeb3React';import{useDispatch}from'react-redux';import{Modal,ModalBody,Text,Button,Flex}from'@pancakeswap/uikit';import{useTranslation}from'contexts/Localization';import{orderBy}from'lodash';import{isTransactionRecent,useAllTransactions}from'state/transactions/hooks';import{clearAllTransactions}from'state/transactions/actions';import{AutoRow}from'../../Layout/Row';import Transaction from'./Transaction';import ConnectWalletButton from'../../ConnectWalletButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function renderTransactions(transactions){return/*#__PURE__*/_jsx(Flex,{flexDirection:\"column\",children:transactions.map(function(tx){return/*#__PURE__*/_jsx(Transaction,{tx:tx},tx.hash+tx.addedTime);})});}var TransactionsModal=function TransactionsModal(_ref){var onDismiss=_ref.onDismiss;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account,chainId=_useActiveWeb3React.chainId;var dispatch=useDispatch();var allTransactions=useAllTransactions();var _useTranslation=useTranslation(),t=_useTranslation.t;var sortedRecentTransactions=orderBy(Object.values(allTransactions).filter(isTransactionRecent),'addedTime','desc');var pending=sortedRecentTransactions.filter(function(tx){return!tx.receipt;});var confirmed=sortedRecentTransactions.filter(function(tx){return tx.receipt;});var clearAllTransactionsCallback=useCallback(function(){if(chainId)dispatch(clearAllTransactions({chainId:chainId}));},[dispatch,chainId]);return/*#__PURE__*/_jsx(Modal,{title:t('Recent Transactions'),headerBackground:\"gradients.cardHeader\",onDismiss:onDismiss,children:account?/*#__PURE__*/_jsx(ModalBody,{children:!!pending.length||!!confirmed.length?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(AutoRow,{mb:\"1rem\",style:{justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(Text,{children:t('Recent Transactions')}),/*#__PURE__*/_jsx(Button,{variant:\"tertiary\",scale:\"xs\",onClick:clearAllTransactionsCallback,children:t('clear all')})]}),renderTransactions(pending),renderTransactions(confirmed)]}):/*#__PURE__*/_jsx(Text,{children:t('No recent transactions')})}):/*#__PURE__*/_jsx(ConnectWalletButton,{})});};export default TransactionsModal;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/components/App/Transactions/TransactionsModal.tsx"],"names":["React","useCallback","useActiveWeb3React","useDispatch","Modal","ModalBody","Text","Button","Flex","useTranslation","orderBy","isTransactionRecent","useAllTransactions","clearAllTransactions","AutoRow","Transaction","ConnectWalletButton","renderTransactions","transactions","map","tx","hash","addedTime","TransactionsModal","onDismiss","account","chainId","dispatch","allTransactions","t","sortedRecentTransactions","Object","values","filter","pending","receipt","confirmed","clearAllTransactionsCallback","length","justifyContent"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useDispatch } from 'react-redux'\nimport { Modal, ModalBody, Text, Button, Flex, InjectedModalProps } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { orderBy } from 'lodash'\nimport { isTransactionRecent, useAllTransactions } from 'state/transactions/hooks'\nimport { TransactionDetails } from 'state/transactions/reducer'\nimport { AppDispatch } from 'state'\nimport { clearAllTransactions } from 'state/transactions/actions'\nimport { AutoRow } from '../../Layout/Row'\nimport Transaction from './Transaction'\nimport ConnectWalletButton from '../../ConnectWalletButton'\n\nfunction renderTransactions(transactions: TransactionDetails[]) {\n  return (\n    <Flex flexDirection=\"column\">\n      {transactions.map((tx) => {\n        return <Transaction key={tx.hash + tx.addedTime} tx={tx} />\n      })}\n    </Flex>\n  )\n}\n\nconst TransactionsModal: React.FC<InjectedModalProps> = ({ onDismiss }) => {\n  const { account, chainId } = useActiveWeb3React()\n  const dispatch = useDispatch<AppDispatch>()\n  const allTransactions = useAllTransactions()\n\n  const { t } = useTranslation()\n\n  const sortedRecentTransactions = orderBy(\n    Object.values(allTransactions).filter(isTransactionRecent),\n    'addedTime',\n    'desc',\n  )\n\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt)\n  const confirmed = sortedRecentTransactions.filter((tx) => tx.receipt)\n\n  const clearAllTransactionsCallback = useCallback(() => {\n    if (chainId) dispatch(clearAllTransactions({ chainId }))\n  }, [dispatch, chainId])\n\n  return (\n    <Modal title={t('Recent Transactions')} headerBackground=\"gradients.cardHeader\" onDismiss={onDismiss}>\n      {account ? (\n        <ModalBody>\n          {!!pending.length || !!confirmed.length ? (\n            <>\n              <AutoRow mb=\"1rem\" style={{ justifyContent: 'space-between' }}>\n                <Text>{t('Recent Transactions')}</Text>\n                <Button variant=\"tertiary\" scale=\"xs\" onClick={clearAllTransactionsCallback}>\n                  {t('clear all')}\n                </Button>\n              </AutoRow>\n              {renderTransactions(pending)}\n              {renderTransactions(confirmed)}\n            </>\n          ) : (\n            <Text>{t('No recent transactions')}</Text>\n          )}\n        </ModalBody>\n      ) : (\n        <ConnectWalletButton />\n      )}\n    </Modal>\n  )\n}\n\nexport default TransactionsModal\n"]},"metadata":{},"sourceType":"module"}