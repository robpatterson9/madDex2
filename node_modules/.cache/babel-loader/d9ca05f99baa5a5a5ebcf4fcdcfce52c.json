{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback } from 'react';\nimport { useGasPrice } from 'state/user/hooks';\nimport { get } from 'lodash';\n/**\n * Perform a contract call with a gas price returned from useGasPrice\n * @param contract Used to perform the call\n * @param methodName The name of the method called\n * @param methodArgs An array of arguments to pass to the method\n * @param overrides An overrides object to pass to the method. gasPrice passed in here will take priority over the price returned by useGasPrice\n * @returns https://docs.ethers.io/v5/api/providers/types/#providers-TransactionReceipt\n */\n\nexport function useCallWithGasPrice() {\n  _s();\n\n  const gasPrice = useGasPrice();\n  const callWithGasPrice = useCallback(async (contract, methodName, methodArgs = [], overrides = null) => {\n    const contractMethod = get(contract, methodName);\n    const hasManualGasPriceOverride = overrides === null || overrides === void 0 ? void 0 : overrides.gasPrice;\n    const tx = await contractMethod(...methodArgs, hasManualGasPriceOverride ? { ...overrides\n    } : { ...overrides,\n      gasPrice\n    });\n    return tx;\n  }, [gasPrice]);\n  return {\n    callWithGasPrice\n  };\n}\n\n_s(useCallWithGasPrice, \"bQmpZYzInD9JRE8XZL4gkLQBD6Q=\", false, function () {\n  return [useGasPrice];\n});","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/hooks/useCallWithGasPrice.ts"],"names":["useCallback","useGasPrice","get","useCallWithGasPrice","gasPrice","callWithGasPrice","contract","methodName","methodArgs","overrides","contractMethod","hasManualGasPriceOverride","tx"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,OAA5B;AAEA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,GAAT,QAAoB,QAApB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,mBAAT,GAA+B;AAAA;;AACpC,QAAMC,QAAQ,GAAGH,WAAW,EAA5B;AAEA,QAAMI,gBAAgB,GAAGL,WAAW,CAClC,OACEM,QADF,EAEEC,UAFF,EAGEC,UAAiB,GAAG,EAHtB,EAIEC,SAAwB,GAAG,IAJ7B,KAKoD;AAClD,UAAMC,cAAc,GAAGR,GAAG,CAACI,QAAD,EAAWC,UAAX,CAA1B;AACA,UAAMI,yBAAyB,GAAGF,SAAH,aAAGA,SAAH,uBAAGA,SAAS,CAAEL,QAA7C;AAEA,UAAMQ,EAAE,GAAG,MAAMF,cAAc,CAC7B,GAAGF,UAD0B,EAE7BG,yBAAyB,GAAG,EAAE,GAAGF;AAAL,KAAH,GAAsB,EAAE,GAAGA,SAAL;AAAgBL,MAAAA;AAAhB,KAFlB,CAA/B;AAKA,WAAOQ,EAAP;AACD,GAhBiC,EAiBlC,CAACR,QAAD,CAjBkC,CAApC;AAoBA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD;;GAxBeF,mB;UACGF,W","sourcesContent":["import { useCallback } from 'react'\nimport ethers, { Contract, CallOverrides } from 'ethers'\nimport { useGasPrice } from 'state/user/hooks'\nimport { get } from 'lodash'\n\n/**\n * Perform a contract call with a gas price returned from useGasPrice\n * @param contract Used to perform the call\n * @param methodName The name of the method called\n * @param methodArgs An array of arguments to pass to the method\n * @param overrides An overrides object to pass to the method. gasPrice passed in here will take priority over the price returned by useGasPrice\n * @returns https://docs.ethers.io/v5/api/providers/types/#providers-TransactionReceipt\n */\nexport function useCallWithGasPrice() {\n  const gasPrice = useGasPrice()\n\n  const callWithGasPrice = useCallback(\n    async (\n      contract: Contract,\n      methodName: string,\n      methodArgs: any[] = [],\n      overrides: CallOverrides = null,\n    ): Promise<ethers.providers.TransactionResponse> => {\n      const contractMethod = get(contract, methodName)\n      const hasManualGasPriceOverride = overrides?.gasPrice\n\n      const tx = await contractMethod(\n        ...methodArgs,\n        hasManualGasPriceOverride ? { ...overrides } : { ...overrides, gasPrice },\n      )\n\n      return tx\n    },\n    [gasPrice],\n  )\n\n  return { callWithGasPrice }\n}\n"]},"metadata":{},"sourceType":"module"}