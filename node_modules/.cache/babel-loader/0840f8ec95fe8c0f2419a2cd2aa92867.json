{"ast":null,"code":"import _defineProperty from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useCallback,useState}from'react';import{ModalContainer,ModalHeader,ModalTitle,ModalBackButton,ModalCloseButton,ModalBody,Heading,Button}from'@pancakeswap/uikit';import styled from'styled-components';import usePrevious from'hooks/usePreviousValue';import{useTranslation}from'contexts/Localization';import CurrencySearch from'./CurrencySearch';import ImportToken from'./ImportToken';import Manage from'./Manage';import ImportList from'./ImportList';import{CurrencyModalView}from'./types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Footer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  background-color: \",\";\\n  text-align: center;\\n\"])),function(_ref){var theme=_ref.theme;return theme.colors.backgroundAlt;});var StyledModalContainer=styled(ModalContainer)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  max-width: 420px;\\n  width: 100%;\\n\"])));var StyledModalBody=styled(ModalBody)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  padding: 24px;\\n  overflow-y: auto;\\n  -ms-overflow-style: none;\\n  scrollbar-width: none;\\n  &::-webkit-scrollbar {\\n    display: none;\\n  }\\n\"])));export default function CurrencySearchModal(_ref2){var _config;var _ref2$onDismiss=_ref2.onDismiss,onDismiss=_ref2$onDismiss===void 0?function(){return null;}:_ref2$onDismiss,onCurrencySelect=_ref2.onCurrencySelect,selectedCurrency=_ref2.selectedCurrency,otherSelectedCurrency=_ref2.otherSelectedCurrency,_ref2$showCommonBases=_ref2.showCommonBases,showCommonBases=_ref2$showCommonBases===void 0?false:_ref2$showCommonBases;var _useState=useState(CurrencyModalView.search),_useState2=_slicedToArray(_useState,2),modalView=_useState2[0],setModalView=_useState2[1];var handleCurrencySelect=useCallback(function(currency){onDismiss();onCurrencySelect(currency);},[onDismiss,onCurrencySelect]);// for token import view\nvar prevView=usePrevious(modalView);// used for import token flow\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),importToken=_useState4[0],setImportToken=_useState4[1];// used for import list\nvar _useState5=useState(),_useState6=_slicedToArray(_useState5,2),importList=_useState6[0],setImportList=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),listURL=_useState8[0],setListUrl=_useState8[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var config=(_config={},_defineProperty(_config,CurrencyModalView.search,{title:t('Select a Token'),onBack:undefined}),_defineProperty(_config,CurrencyModalView.manage,{title:t('Manage'),onBack:function onBack(){return setModalView(CurrencyModalView.search);}}),_defineProperty(_config,CurrencyModalView.importToken,{title:t('Import Tokens'),onBack:function onBack(){return setModalView(prevView&&prevView!==CurrencyModalView.importToken?prevView:CurrencyModalView.search);}}),_defineProperty(_config,CurrencyModalView.importList,{title:t('Import List'),onBack:function onBack(){return setModalView(CurrencyModalView.search);}}),_config);return/*#__PURE__*/_jsxs(StyledModalContainer,{minWidth:\"320px\",children:[/*#__PURE__*/_jsxs(ModalHeader,{children:[/*#__PURE__*/_jsxs(ModalTitle,{children:[config[modalView].onBack&&/*#__PURE__*/_jsx(ModalBackButton,{onBack:config[modalView].onBack}),/*#__PURE__*/_jsx(Heading,{children:config[modalView].title})]}),/*#__PURE__*/_jsx(ModalCloseButton,{onDismiss:onDismiss})]}),/*#__PURE__*/_jsxs(StyledModalBody,{children:[modalView===CurrencyModalView.search?/*#__PURE__*/_jsx(CurrencySearch,{onCurrencySelect:handleCurrencySelect,selectedCurrency:selectedCurrency,otherSelectedCurrency:otherSelectedCurrency,showCommonBases:showCommonBases,showImportView:function showImportView(){return setModalView(CurrencyModalView.importToken);},setImportToken:setImportToken}):modalView===CurrencyModalView.importToken&&importToken?/*#__PURE__*/_jsx(ImportToken,{tokens:[importToken],handleCurrencySelect:handleCurrencySelect}):modalView===CurrencyModalView.importList&&importList&&listURL?/*#__PURE__*/_jsx(ImportList,{list:importList,listURL:listURL,onImport:function onImport(){return setModalView(CurrencyModalView.manage);}}):modalView===CurrencyModalView.manage?/*#__PURE__*/_jsx(Manage,{setModalView:setModalView,setImportToken:setImportToken,setImportList:setImportList,setListUrl:setListUrl}):'',modalView===CurrencyModalView.search&&/*#__PURE__*/_jsx(Footer,{children:/*#__PURE__*/_jsx(Button,{scale:\"sm\",variant:\"text\",onClick:function onClick(){return setModalView(CurrencyModalView.manage);},className:\"list-token-manage-button\",children:t('Manage Tokens')})})]})]});}","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/components/SearchModal/CurrencySearchModal.tsx"],"names":["React","useCallback","useState","ModalContainer","ModalHeader","ModalTitle","ModalBackButton","ModalCloseButton","ModalBody","Heading","Button","styled","usePrevious","useTranslation","CurrencySearch","ImportToken","Manage","ImportList","CurrencyModalView","Footer","div","theme","colors","backgroundAlt","StyledModalContainer","StyledModalBody","CurrencySearchModal","onDismiss","onCurrencySelect","selectedCurrency","otherSelectedCurrency","showCommonBases","search","modalView","setModalView","handleCurrencySelect","currency","prevView","importToken","setImportToken","importList","setImportList","listURL","setListUrl","t","config","title","onBack","undefined","manage"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from 'react'\nimport { Currency, Token } from '@pancakeswap/sdk'\nimport {\n  ModalContainer,\n  ModalHeader,\n  ModalTitle,\n  ModalBackButton,\n  ModalCloseButton,\n  ModalBody,\n  InjectedModalProps,\n  Heading,\n  Button,\n} from '@pancakeswap/uikit'\nimport styled from 'styled-components'\nimport usePrevious from 'hooks/usePreviousValue'\nimport { TokenList } from '@uniswap/token-lists'\nimport { useTranslation } from 'contexts/Localization'\nimport CurrencySearch from './CurrencySearch'\nimport ImportToken from './ImportToken'\nimport Manage from './Manage'\nimport ImportList from './ImportList'\nimport { CurrencyModalView } from './types'\n\nconst Footer = styled.div`\n  width: 100%;\n  background-color: ${({ theme }) => theme.colors.backgroundAlt};\n  text-align: center;\n`\n\nconst StyledModalContainer = styled(ModalContainer)`\n  max-width: 420px;\n  width: 100%;\n`\n\nconst StyledModalBody = styled(ModalBody)`\n  padding: 24px;\n  overflow-y: auto;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`\n\ninterface CurrencySearchModalProps extends InjectedModalProps {\n  selectedCurrency?: Currency | null\n  onCurrencySelect: (currency: Currency) => void\n  otherSelectedCurrency?: Currency | null\n  showCommonBases?: boolean\n}\n\nexport default function CurrencySearchModal({\n  onDismiss = () => null,\n  onCurrencySelect,\n  selectedCurrency,\n  otherSelectedCurrency,\n  showCommonBases = false,\n}: CurrencySearchModalProps) {\n  const [modalView, setModalView] = useState<CurrencyModalView>(CurrencyModalView.search)\n\n  const handleCurrencySelect = useCallback(\n    (currency: Currency) => {\n      onDismiss()\n      onCurrencySelect(currency)\n    },\n    [onDismiss, onCurrencySelect],\n  )\n\n  // for token import view\n  const prevView = usePrevious(modalView)\n\n  // used for import token flow\n  const [importToken, setImportToken] = useState<Token | undefined>()\n\n  // used for import list\n  const [importList, setImportList] = useState<TokenList | undefined>()\n  const [listURL, setListUrl] = useState<string | undefined>()\n\n  const { t } = useTranslation()\n\n  const config = {\n    [CurrencyModalView.search]: { title: t('Select a Token'), onBack: undefined },\n    [CurrencyModalView.manage]: { title: t('Manage'), onBack: () => setModalView(CurrencyModalView.search) },\n    [CurrencyModalView.importToken]: {\n      title: t('Import Tokens'),\n      onBack: () =>\n        setModalView(prevView && prevView !== CurrencyModalView.importToken ? prevView : CurrencyModalView.search),\n    },\n    [CurrencyModalView.importList]: { title: t('Import List'), onBack: () => setModalView(CurrencyModalView.search) },\n  }\n\n  return (\n    <StyledModalContainer minWidth=\"320px\">\n      <ModalHeader>\n        <ModalTitle>\n          {config[modalView].onBack && <ModalBackButton onBack={config[modalView].onBack} />}\n          <Heading>{config[modalView].title}</Heading>\n        </ModalTitle>\n        <ModalCloseButton onDismiss={onDismiss} />\n      </ModalHeader>\n      <StyledModalBody>\n        {modalView === CurrencyModalView.search ? (\n          <CurrencySearch\n            onCurrencySelect={handleCurrencySelect}\n            selectedCurrency={selectedCurrency}\n            otherSelectedCurrency={otherSelectedCurrency}\n            showCommonBases={showCommonBases}\n            showImportView={() => setModalView(CurrencyModalView.importToken)}\n            setImportToken={setImportToken}\n          />\n        ) : modalView === CurrencyModalView.importToken && importToken ? (\n          <ImportToken tokens={[importToken]} handleCurrencySelect={handleCurrencySelect} />\n        ) : modalView === CurrencyModalView.importList && importList && listURL ? (\n          <ImportList list={importList} listURL={listURL} onImport={() => setModalView(CurrencyModalView.manage)} />\n        ) : modalView === CurrencyModalView.manage ? (\n          <Manage\n            setModalView={setModalView}\n            setImportToken={setImportToken}\n            setImportList={setImportList}\n            setListUrl={setListUrl}\n          />\n        ) : (\n          ''\n        )}\n        {modalView === CurrencyModalView.search && (\n          <Footer>\n            <Button\n              scale=\"sm\"\n              variant=\"text\"\n              onClick={() => setModalView(CurrencyModalView.manage)}\n              className=\"list-token-manage-button\"\n            >\n              {t('Manage Tokens')}\n            </Button>\n          </Footer>\n        )}\n      </StyledModalBody>\n    </StyledModalContainer>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}