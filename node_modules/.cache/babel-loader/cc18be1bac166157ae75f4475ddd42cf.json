{"ast":null,"code":"import React,{useCallback,useMemo}from'react';import{currencyEquals}from'@pancakeswap/sdk';import{useTranslation}from'contexts/Localization';import TransactionConfirmationModal,{ConfirmationModalContent,TransactionErrorContent}from'components/TransactionConfirmationModal';import SwapModalFooter from'./SwapModalFooter';import SwapModalHeader from'./SwapModalHeader';/**\n * Returns true if the trade requires a confirmation of details before we can submit it\n * @param tradeA trade A\n * @param tradeB trade B\n */import{jsx as _jsx}from\"react/jsx-runtime\";function tradeMeaningfullyDiffers(tradeA,tradeB){return tradeA.tradeType!==tradeB.tradeType||!currencyEquals(tradeA.inputAmount.currency,tradeB.inputAmount.currency)||!tradeA.inputAmount.equalTo(tradeB.inputAmount)||!currencyEquals(tradeA.outputAmount.currency,tradeB.outputAmount.currency)||!tradeA.outputAmount.equalTo(tradeB.outputAmount);}var ConfirmSwapModal=function ConfirmSwapModal(_ref){var _trade$inputAmount$to,_trade$inputAmount,_trade$inputAmount$cu,_trade$inputAmount2,_trade$inputAmount2$c,_trade$outputAmount$t,_trade$outputAmount,_trade$outputAmount$c,_trade$outputAmount2,_trade$outputAmount2$;var trade=_ref.trade,originalTrade=_ref.originalTrade,onAcceptChanges=_ref.onAcceptChanges,allowedSlippage=_ref.allowedSlippage,onConfirm=_ref.onConfirm,onDismiss=_ref.onDismiss,customOnDismiss=_ref.customOnDismiss,recipient=_ref.recipient,swapErrorMessage=_ref.swapErrorMessage,attemptingTxn=_ref.attemptingTxn,txHash=_ref.txHash;var showAcceptChanges=useMemo(function(){return Boolean(trade&&originalTrade&&tradeMeaningfullyDiffers(trade,originalTrade));},[originalTrade,trade]);var _useTranslation=useTranslation(),t=_useTranslation.t;var modalHeader=useCallback(function(){return trade?/*#__PURE__*/_jsx(SwapModalHeader,{trade:trade,allowedSlippage:allowedSlippage,recipient:recipient,showAcceptChanges:showAcceptChanges,onAcceptChanges:onAcceptChanges}):null;},[allowedSlippage,onAcceptChanges,recipient,showAcceptChanges,trade]);var modalBottom=useCallback(function(){return trade?/*#__PURE__*/_jsx(SwapModalFooter,{onConfirm:onConfirm,trade:trade,disabledConfirm:showAcceptChanges,swapErrorMessage:swapErrorMessage,allowedSlippage:allowedSlippage}):null;},[allowedSlippage,onConfirm,showAcceptChanges,swapErrorMessage,trade]);// text to show while loading\nvar pendingText=t('Swapping %amountA% %symbolA% for %amountB% %symbolB%',{amountA:(_trade$inputAmount$to=trade===null||trade===void 0?void 0:(_trade$inputAmount=trade.inputAmount)===null||_trade$inputAmount===void 0?void 0:_trade$inputAmount.toSignificant(6))!==null&&_trade$inputAmount$to!==void 0?_trade$inputAmount$to:'',symbolA:(_trade$inputAmount$cu=trade===null||trade===void 0?void 0:(_trade$inputAmount2=trade.inputAmount)===null||_trade$inputAmount2===void 0?void 0:(_trade$inputAmount2$c=_trade$inputAmount2.currency)===null||_trade$inputAmount2$c===void 0?void 0:_trade$inputAmount2$c.symbol)!==null&&_trade$inputAmount$cu!==void 0?_trade$inputAmount$cu:'',amountB:(_trade$outputAmount$t=trade===null||trade===void 0?void 0:(_trade$outputAmount=trade.outputAmount)===null||_trade$outputAmount===void 0?void 0:_trade$outputAmount.toSignificant(6))!==null&&_trade$outputAmount$t!==void 0?_trade$outputAmount$t:'',symbolB:(_trade$outputAmount$c=trade===null||trade===void 0?void 0:(_trade$outputAmount2=trade.outputAmount)===null||_trade$outputAmount2===void 0?void 0:(_trade$outputAmount2$=_trade$outputAmount2.currency)===null||_trade$outputAmount2$===void 0?void 0:_trade$outputAmount2$.symbol)!==null&&_trade$outputAmount$c!==void 0?_trade$outputAmount$c:''});var confirmationContent=useCallback(function(){return swapErrorMessage?/*#__PURE__*/_jsx(TransactionErrorContent,{onDismiss:onDismiss,message:swapErrorMessage}):/*#__PURE__*/_jsx(ConfirmationModalContent,{topContent:modalHeader,bottomContent:modalBottom});},[onDismiss,modalBottom,modalHeader,swapErrorMessage]);return/*#__PURE__*/_jsx(TransactionConfirmationModal,{title:t('Confirm Swap'),onDismiss:onDismiss,customOnDismiss:customOnDismiss,attemptingTxn:attemptingTxn,hash:txHash,content:confirmationContent,pendingText:pendingText,currencyToAdd:trade===null||trade===void 0?void 0:trade.outputAmount.currency});};export default ConfirmSwapModal;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Swap/components/ConfirmSwapModal.tsx"],"names":["React","useCallback","useMemo","currencyEquals","useTranslation","TransactionConfirmationModal","ConfirmationModalContent","TransactionErrorContent","SwapModalFooter","SwapModalHeader","tradeMeaningfullyDiffers","tradeA","tradeB","tradeType","inputAmount","currency","equalTo","outputAmount","ConfirmSwapModal","trade","originalTrade","onAcceptChanges","allowedSlippage","onConfirm","onDismiss","customOnDismiss","recipient","swapErrorMessage","attemptingTxn","txHash","showAcceptChanges","Boolean","t","modalHeader","modalBottom","pendingText","amountA","toSignificant","symbolA","symbol","amountB","symbolB","confirmationContent"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo } from 'react'\nimport { currencyEquals, Trade } from '@pancakeswap/sdk'\nimport { InjectedModalProps } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport TransactionConfirmationModal, {\n  ConfirmationModalContent,\n  TransactionErrorContent,\n} from 'components/TransactionConfirmationModal'\nimport SwapModalFooter from './SwapModalFooter'\nimport SwapModalHeader from './SwapModalHeader'\n\n/**\n * Returns true if the trade requires a confirmation of details before we can submit it\n * @param tradeA trade A\n * @param tradeB trade B\n */\nfunction tradeMeaningfullyDiffers(tradeA: Trade, tradeB: Trade): boolean {\n  return (\n    tradeA.tradeType !== tradeB.tradeType ||\n    !currencyEquals(tradeA.inputAmount.currency, tradeB.inputAmount.currency) ||\n    !tradeA.inputAmount.equalTo(tradeB.inputAmount) ||\n    !currencyEquals(tradeA.outputAmount.currency, tradeB.outputAmount.currency) ||\n    !tradeA.outputAmount.equalTo(tradeB.outputAmount)\n  )\n}\ninterface ConfirmSwapModalProps {\n  trade?: Trade\n  originalTrade?: Trade\n  attemptingTxn: boolean\n  txHash?: string\n  recipient: string | null\n  allowedSlippage: number\n  onAcceptChanges: () => void\n  onConfirm: () => void\n  swapErrorMessage?: string\n  customOnDismiss?: () => void\n}\n\nconst ConfirmSwapModal: React.FC<InjectedModalProps & ConfirmSwapModalProps> = ({\n  trade,\n  originalTrade,\n  onAcceptChanges,\n  allowedSlippage,\n  onConfirm,\n  onDismiss,\n  customOnDismiss,\n  recipient,\n  swapErrorMessage,\n  attemptingTxn,\n  txHash,\n}) => {\n  const showAcceptChanges = useMemo(\n    () => Boolean(trade && originalTrade && tradeMeaningfullyDiffers(trade, originalTrade)),\n    [originalTrade, trade],\n  )\n\n  const { t } = useTranslation()\n\n  const modalHeader = useCallback(() => {\n    return trade ? (\n      <SwapModalHeader\n        trade={trade}\n        allowedSlippage={allowedSlippage}\n        recipient={recipient}\n        showAcceptChanges={showAcceptChanges}\n        onAcceptChanges={onAcceptChanges}\n      />\n    ) : null\n  }, [allowedSlippage, onAcceptChanges, recipient, showAcceptChanges, trade])\n\n  const modalBottom = useCallback(() => {\n    return trade ? (\n      <SwapModalFooter\n        onConfirm={onConfirm}\n        trade={trade}\n        disabledConfirm={showAcceptChanges}\n        swapErrorMessage={swapErrorMessage}\n        allowedSlippage={allowedSlippage}\n      />\n    ) : null\n  }, [allowedSlippage, onConfirm, showAcceptChanges, swapErrorMessage, trade])\n\n  // text to show while loading\n  const pendingText = t('Swapping %amountA% %symbolA% for %amountB% %symbolB%', {\n    amountA: trade?.inputAmount?.toSignificant(6) ?? '',\n    symbolA: trade?.inputAmount?.currency?.symbol ?? '',\n    amountB: trade?.outputAmount?.toSignificant(6) ?? '',\n    symbolB: trade?.outputAmount?.currency?.symbol ?? '',\n  })\n\n  const confirmationContent = useCallback(\n    () =>\n      swapErrorMessage ? (\n        <TransactionErrorContent onDismiss={onDismiss} message={swapErrorMessage} />\n      ) : (\n        <ConfirmationModalContent topContent={modalHeader} bottomContent={modalBottom} />\n      ),\n    [onDismiss, modalBottom, modalHeader, swapErrorMessage],\n  )\n\n  return (\n    <TransactionConfirmationModal\n      title={t('Confirm Swap')}\n      onDismiss={onDismiss}\n      customOnDismiss={customOnDismiss}\n      attemptingTxn={attemptingTxn}\n      hash={txHash}\n      content={confirmationContent}\n      pendingText={pendingText}\n      currencyToAdd={trade?.outputAmount.currency}\n    />\n  )\n}\n\nexport default ConfirmSwapModal\n"]},"metadata":{},"sourceType":"module"}