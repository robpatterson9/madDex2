{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import React,{useState}from'react';import styled from'styled-components';import{Flex,Box,Text,ExpandableLabel,LinkExternal,Grid,HelpIcon,useTooltip}from'@pancakeswap/uikit';import{useTranslation}from'contexts/Localization';import{getApy}from'utils/compoundApyHelpers';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Footer=styled(Flex)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  background: \",\";\\n\"])),function(_ref){var theme=_ref.theme;return theme.colors.dropdown;});var BulletList=styled.ul(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  list-style-type: none;\\n  margin-top: 16px;\\n  padding: 0;\\n  li {\\n    margin: 0;\\n    padding: 0;\\n  }\\n  li::before {\\n    content: '\\u2022';\\n    margin-right: 4px;\\n    color: \",\";\\n  }\\n  li::marker {\\n    font-size: 12px;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.colors.textSubtle;});var RoiCalculatorFooter=function RoiCalculatorFooter(_ref3){var isFarm=_ref3.isFarm,apr=_ref3.apr,displayApr=_ref3.displayApr,autoCompoundFrequency=_ref3.autoCompoundFrequency,multiplier=_ref3.multiplier,linkLabel=_ref3.linkLabel,linkHref=_ref3.linkHref,performanceFee=_ref3.performanceFee;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isExpanded=_useState2[0],setIsExpanded=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var _useTooltip=useTooltip(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{children:t('The Multiplier represents the proportion of CAKE rewards each farm receives, as a proportion of the CAKE produced each block.')}),/*#__PURE__*/_jsx(Text,{my:\"24px\",children:t('For example, if a 1x farm received 1 CAKE per block, a 40x farm would receive 40 CAKE per block.')}),/*#__PURE__*/_jsx(Text,{children:t('This amount is already included in all APR calculations for the farm.')})]}),{placement:'top-end',tooltipOffset:[20,10]}),multiplierRef=_useTooltip.targetRef,multiplierTooltip=_useTooltip.tooltip,multiplierTooltipVisible=_useTooltip.tooltipVisible;var gridRowCount=isFarm?4:2;var apy=(getApy(apr,autoCompoundFrequency>0?autoCompoundFrequency:1,365,performanceFee)*100).toFixed(2);return/*#__PURE__*/_jsxs(Footer,{p:\"16px\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(ExpandableLabel,{expanded:isExpanded,onClick:function onClick(){return setIsExpanded(function(prev){return!prev;});},children:isExpanded?t('Hide'):t('Details')}),isExpanded&&/*#__PURE__*/_jsxs(Box,{px:\"8px\",children:[/*#__PURE__*/_jsxs(Grid,{gridTemplateColumns:\"2.5fr 1fr\",gridRowGap:\"8px\",gridTemplateRows:\"repeat(\".concat(gridRowCount,\", auto)\"),children:[isFarm&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{color:\"textSubtle\",small:true,children:t('APR (incl. LP rewards)')}),/*#__PURE__*/_jsxs(Text,{small:true,textAlign:\"right\",children:[displayApr,\"%\"]})]}),/*#__PURE__*/_jsx(Text,{color:\"textSubtle\",small:true,children:isFarm?t('Base APR (CAKE yield only)'):t('APR')}),/*#__PURE__*/_jsxs(Text,{small:true,textAlign:\"right\",children:[apr.toFixed(2),\"%\"]}),/*#__PURE__*/_jsx(Text,{color:\"textSubtle\",small:true,children:t('APY (%compoundTimes%x daily compound)',{compoundTimes:autoCompoundFrequency>0?autoCompoundFrequency:1})}),/*#__PURE__*/_jsxs(Text,{small:true,textAlign:\"right\",children:[apy,\"%\"]}),isFarm&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{color:\"textSubtle\",small:true,children:t('Farm Multiplier')}),/*#__PURE__*/_jsxs(Flex,{justifyContent:\"flex-end\",alignItems:\"flex-end\",children:[/*#__PURE__*/_jsx(Text,{small:true,textAlign:\"right\",mr:\"4px\",children:multiplier}),/*#__PURE__*/_jsx(\"span\",{ref:multiplierRef,children:/*#__PURE__*/_jsx(HelpIcon,{color:\"textSubtle\",width:\"16px\",height:\"16px\"})}),multiplierTooltipVisible&&multiplierTooltip]})]})]}),/*#__PURE__*/_jsxs(BulletList,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Text,{fontSize:\"12px\",textAlign:\"center\",color:\"textSubtle\",display:\"inline\",children:t('Calculated based on current rates.')})}),isFarm&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Text,{fontSize:\"12px\",textAlign:\"center\",color:\"textSubtle\",display:\"inline\",children:t('LP rewards: 0.17% trading fees, distributed proportionally among LP token holders.')})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Text,{fontSize:\"12px\",textAlign:\"center\",color:\"textSubtle\",display:\"inline\",children:t('All figures are estimates provided for your convenience only, and by no means represent guaranteed returns.')})}),performanceFee>0&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Text,{mt:\"14px\",fontSize:\"12px\",textAlign:\"center\",color:\"textSubtle\",display:\"inline\",children:t('All estimated rates take into account this pool’s %fee%% performance fee',{fee:performanceFee})})})]}),/*#__PURE__*/_jsx(Flex,{justifyContent:\"center\",mt:\"24px\",children:/*#__PURE__*/_jsx(LinkExternal,{href:linkHref,children:linkLabel})})]})]});};export default RoiCalculatorFooter;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/components/RoiCalculatorModal/RoiCalculatorFooter.tsx"],"names":["React","useState","styled","Flex","Box","Text","ExpandableLabel","LinkExternal","Grid","HelpIcon","useTooltip","useTranslation","getApy","Footer","theme","colors","dropdown","BulletList","ul","textSubtle","RoiCalculatorFooter","isFarm","apr","displayApr","autoCompoundFrequency","multiplier","linkLabel","linkHref","performanceFee","isExpanded","setIsExpanded","t","placement","tooltipOffset","multiplierRef","targetRef","multiplierTooltip","tooltip","multiplierTooltipVisible","tooltipVisible","gridRowCount","apy","toFixed","prev","compoundTimes","fee"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Flex, Box, Text, ExpandableLabel, LinkExternal, Grid, HelpIcon, useTooltip } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { getApy } from 'utils/compoundApyHelpers'\n\nconst Footer = styled(Flex)`\n  width: 100%;\n  background: ${({ theme }) => theme.colors.dropdown};\n`\n\nconst BulletList = styled.ul`\n  list-style-type: none;\n  margin-top: 16px;\n  padding: 0;\n  li {\n    margin: 0;\n    padding: 0;\n  }\n  li::before {\n    content: '•';\n    margin-right: 4px;\n    color: ${({ theme }) => theme.colors.textSubtle};\n  }\n  li::marker {\n    font-size: 12px;\n  }\n`\n\ninterface RoiCalculatorFooterProps {\n  isFarm: boolean\n  apr: number\n  displayApr: string\n  autoCompoundFrequency: number\n  multiplier: string\n  linkLabel: string\n  linkHref: string\n  performanceFee: number\n}\n\nconst RoiCalculatorFooter: React.FC<RoiCalculatorFooterProps> = ({\n  isFarm,\n  apr,\n  displayApr,\n  autoCompoundFrequency,\n  multiplier,\n  linkLabel,\n  linkHref,\n  performanceFee,\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false)\n  const { t } = useTranslation()\n  const {\n    targetRef: multiplierRef,\n    tooltip: multiplierTooltip,\n    tooltipVisible: multiplierTooltipVisible,\n  } = useTooltip(\n    <>\n      <Text>\n        {t(\n          'The Multiplier represents the proportion of CAKE rewards each farm receives, as a proportion of the CAKE produced each block.',\n        )}\n      </Text>\n      <Text my=\"24px\">\n        {t('For example, if a 1x farm received 1 CAKE per block, a 40x farm would receive 40 CAKE per block.')}\n      </Text>\n      <Text>{t('This amount is already included in all APR calculations for the farm.')}</Text>\n    </>,\n    { placement: 'top-end', tooltipOffset: [20, 10] },\n  )\n\n  const gridRowCount = isFarm ? 4 : 2\n  const apy = (getApy(apr, autoCompoundFrequency > 0 ? autoCompoundFrequency : 1, 365, performanceFee) * 100).toFixed(2)\n\n  return (\n    <Footer p=\"16px\" flexDirection=\"column\">\n      <ExpandableLabel expanded={isExpanded} onClick={() => setIsExpanded((prev) => !prev)}>\n        {isExpanded ? t('Hide') : t('Details')}\n      </ExpandableLabel>\n      {isExpanded && (\n        <Box px=\"8px\">\n          <Grid gridTemplateColumns=\"2.5fr 1fr\" gridRowGap=\"8px\" gridTemplateRows={`repeat(${gridRowCount}, auto)`}>\n            {isFarm && (\n              <>\n                <Text color=\"textSubtle\" small>\n                  {t('APR (incl. LP rewards)')}\n                </Text>\n                <Text small textAlign=\"right\">\n                  {displayApr}%\n                </Text>\n              </>\n            )}\n            <Text color=\"textSubtle\" small>\n              {isFarm ? t('Base APR (CAKE yield only)') : t('APR')}\n            </Text>\n            <Text small textAlign=\"right\">\n              {apr.toFixed(2)}%\n            </Text>\n            <Text color=\"textSubtle\" small>\n              {t('APY (%compoundTimes%x daily compound)', {\n                compoundTimes: autoCompoundFrequency > 0 ? autoCompoundFrequency : 1,\n              })}\n            </Text>\n            <Text small textAlign=\"right\">\n              {apy}%\n            </Text>\n            {isFarm && (\n              <>\n                <Text color=\"textSubtle\" small>\n                  {t('Farm Multiplier')}\n                </Text>\n                <Flex justifyContent=\"flex-end\" alignItems=\"flex-end\">\n                  <Text small textAlign=\"right\" mr=\"4px\">\n                    {multiplier}\n                  </Text>\n                  <span ref={multiplierRef}>\n                    <HelpIcon color=\"textSubtle\" width=\"16px\" height=\"16px\" />\n                  </span>\n                  {multiplierTooltipVisible && multiplierTooltip}\n                </Flex>\n              </>\n            )}\n          </Grid>\n          <BulletList>\n            <li>\n              <Text fontSize=\"12px\" textAlign=\"center\" color=\"textSubtle\" display=\"inline\">\n                {t('Calculated based on current rates.')}\n              </Text>\n            </li>\n            {isFarm && (\n              <li>\n                <Text fontSize=\"12px\" textAlign=\"center\" color=\"textSubtle\" display=\"inline\">\n                  {t('LP rewards: 0.17% trading fees, distributed proportionally among LP token holders.')}\n                </Text>\n              </li>\n            )}\n            <li>\n              <Text fontSize=\"12px\" textAlign=\"center\" color=\"textSubtle\" display=\"inline\">\n                {t(\n                  'All figures are estimates provided for your convenience only, and by no means represent guaranteed returns.',\n                )}\n              </Text>\n            </li>\n            {performanceFee > 0 && (\n              <li>\n                <Text mt=\"14px\" fontSize=\"12px\" textAlign=\"center\" color=\"textSubtle\" display=\"inline\">\n                  {t('All estimated rates take into account this pool’s %fee%% performance fee', {\n                    fee: performanceFee,\n                  })}\n                </Text>\n              </li>\n            )}\n          </BulletList>\n          <Flex justifyContent=\"center\" mt=\"24px\">\n            <LinkExternal href={linkHref}>{linkLabel}</LinkExternal>\n          </Flex>\n        </Box>\n      )}\n    </Footer>\n  )\n}\n\nexport default RoiCalculatorFooter\n"]},"metadata":{},"sourceType":"module"}