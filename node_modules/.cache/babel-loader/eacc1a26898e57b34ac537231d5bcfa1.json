{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useEffect,useState}from'react';import{AutoRenewIcon,Box,Button,Flex,Modal,Text}from'@pancakeswap/uikit';import styled from'styled-components';import confetti from'canvas-confetti';import{useTranslation}from'contexts/Localization';import{useAnniversaryAchievementContract}from'hooks/useContract';import{delay}from'lodash';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AnniversaryImage=styled.img(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  border-radius: 50%;\\n  height: 128px;\\n  margin-bottom: 24px;\\n  margin-right: 8px;\\n  width: 128px;\\n\"])));var showConfetti=function showConfetti(){confetti({particleCount:200,startVelocity:30,gravity:0.5,spread:350,origin:{x:0.5,y:0.3}});};var AnniversaryAchievementModal=function AnniversaryAchievementModal(_ref){var onDismiss=_ref.onDismiss;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useAnniversaryAchiev=useAnniversaryAchievementContract(),claimAnniversaryPoints=_useAnniversaryAchiev.claimAnniversaryPoints;var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.prev=1;_context.next=4;return claimAnniversaryPoints();case 4:_context.prev=4;onDismiss();return _context.finish(4);case 7:case\"end\":return _context.stop();}}},_callee,null,[[1,,4,7]]);}));return function handleClick(){return _ref2.apply(this,arguments);};}();useEffect(function(){delay(showConfetti,100);},[]);return/*#__PURE__*/_jsx(Modal,{title:t('Congratulations!'),onDismiss:onDismiss,children:/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(AnniversaryImage,{src:\"/images/achievements/1-year.svg\"})}),/*#__PURE__*/_jsx(Text,{textAlign:\"center\",bold:true,color:\"secondary\",maxWidth:\"400px\",fontSize:\"16px\",mb:\"24px\",children:t('You won points for joining PancakeSwap during the first year of our journey!')}),/*#__PURE__*/_jsx(Button,{disabled:isLoading,onClick:handleClick,endIcon:isLoading?/*#__PURE__*/_jsx(AutoRenewIcon,{spin:true,color:\"currentColor\"}):undefined,children:isLoading?t('Claiming...'):t('Claim now')})]})});};export default AnniversaryAchievementModal;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/components/GlobalCheckClaimStatus/AnniversaryAchievementModal.tsx"],"names":["React","useEffect","useState","AutoRenewIcon","Box","Button","Flex","Modal","Text","styled","confetti","useTranslation","useAnniversaryAchievementContract","delay","AnniversaryImage","img","showConfetti","particleCount","startVelocity","gravity","spread","origin","x","y","AnniversaryAchievementModal","onDismiss","t","isLoading","setIsLoading","claimAnniversaryPoints","handleClick","undefined"],"mappings":"ioBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,aAAT,CAAwBC,GAAxB,CAA6BC,MAA7B,CAAqCC,IAArC,CAA+DC,KAA/D,CAAsEC,IAAtE,KAAkF,oBAAlF,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,OAASC,iCAAT,KAAkD,mBAAlD,CACA,OAASC,KAAT,KAAsB,QAAtB,C,wFAEA,GAAMC,CAAAA,gBAAgB,CAAGL,MAAM,CAACM,GAAV,2KAAtB,CAQA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBN,QAAQ,CAAC,CACPO,aAAa,CAAE,GADR,CAEPC,aAAa,CAAE,EAFR,CAGPC,OAAO,CAAE,GAHF,CAIPC,MAAM,CAAE,GAJD,CAKPC,MAAM,CAAE,CACNC,CAAC,CAAE,GADG,CAENC,CAAC,CAAE,GAFG,CALD,CAAD,CAAR,CAUD,CAXD,CAaA,GAAMC,CAAAA,2BAAyD,CAAG,QAA5DA,CAAAA,2BAA4D,MAAmB,IAAhBC,CAAAA,SAAgB,MAAhBA,SAAgB,CACnF,oBAAcd,cAAc,EAA5B,CAAQe,CAAR,iBAAQA,CAAR,CACA,cAAkCxB,QAAQ,CAAC,KAAD,CAA1C,wCAAOyB,SAAP,eAAkBC,YAAlB,eACA,0BAAmChB,iCAAiC,EAApE,CAAQiB,sBAAR,uBAAQA,sBAAR,CAEA,GAAMC,CAAAA,WAAW,2FAAG,mIAClBF,YAAY,CAAC,IAAD,CAAZ,CADkB,sCAGVC,CAAAA,sBAAsB,EAHZ,wBAKhBJ,SAAS,GALO,gGAAH,kBAAXK,CAAAA,WAAW,2CAAjB,CASA7B,SAAS,CAAC,UAAM,CACdY,KAAK,CAACG,YAAD,CAAe,GAAf,CAAL,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,KAAC,KAAD,EAAO,KAAK,CAAEU,CAAC,CAAC,kBAAD,CAAf,CAAqC,SAAS,CAAED,SAAhD,uBACE,MAAC,IAAD,EAAM,aAAa,CAAC,QAApB,CAA6B,UAAU,CAAC,QAAxC,CAAiD,cAAc,CAAC,QAAhE,wBACE,KAAC,GAAD,wBACE,KAAC,gBAAD,EAAkB,GAAG,CAAC,iCAAtB,EADF,EADF,cAIE,KAAC,IAAD,EAAM,SAAS,CAAC,QAAhB,CAAyB,IAAI,KAA7B,CAA8B,KAAK,CAAC,WAApC,CAAgD,QAAQ,CAAC,OAAzD,CAAiE,QAAQ,CAAC,MAA1E,CAAiF,EAAE,CAAC,MAApF,UACGC,CAAC,CAAC,8EAAD,CADJ,EAJF,cAOE,KAAC,MAAD,EACE,QAAQ,CAAEC,SADZ,CAEE,OAAO,CAAEG,WAFX,CAGE,OAAO,CAAEH,SAAS,cAAG,KAAC,aAAD,EAAe,IAAI,KAAnB,CAAoB,KAAK,CAAC,cAA1B,EAAH,CAAiDI,SAHrE,UAKGJ,SAAS,CAAGD,CAAC,CAAC,aAAD,CAAJ,CAAsBA,CAAC,CAAC,WAAD,CALnC,EAPF,GADF,EADF,CAmBD,CArCD,CAuCA,cAAeF,CAAAA,2BAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { AutoRenewIcon, Box, Button, Flex, InjectedModalProps, Modal, Text } from '@pancakeswap/uikit'\nimport styled from 'styled-components'\nimport confetti from 'canvas-confetti'\nimport { useTranslation } from 'contexts/Localization'\nimport { useAnniversaryAchievementContract } from 'hooks/useContract'\nimport { delay } from 'lodash'\n\nconst AnniversaryImage = styled.img`\n  border-radius: 50%;\n  height: 128px;\n  margin-bottom: 24px;\n  margin-right: 8px;\n  width: 128px;\n`\n\nconst showConfetti = () => {\n  confetti({\n    particleCount: 200,\n    startVelocity: 30,\n    gravity: 0.5,\n    spread: 350,\n    origin: {\n      x: 0.5,\n      y: 0.3,\n    },\n  })\n}\n\nconst AnniversaryAchievementModal: React.FC<InjectedModalProps> = ({ onDismiss }) => {\n  const { t } = useTranslation()\n  const [isLoading, setIsLoading] = useState(false)\n  const { claimAnniversaryPoints } = useAnniversaryAchievementContract()\n\n  const handleClick = async () => {\n    setIsLoading(true)\n    try {\n      await claimAnniversaryPoints()\n    } finally {\n      onDismiss()\n    }\n  }\n\n  useEffect(() => {\n    delay(showConfetti, 100)\n  }, [])\n\n  return (\n    <Modal title={t('Congratulations!')} onDismiss={onDismiss}>\n      <Flex flexDirection=\"column\" alignItems=\"center\" justifyContent=\"center\">\n        <Box>\n          <AnniversaryImage src=\"/images/achievements/1-year.svg\" />\n        </Box>\n        <Text textAlign=\"center\" bold color=\"secondary\" maxWidth=\"400px\" fontSize=\"16px\" mb=\"24px\">\n          {t('You won points for joining PancakeSwap during the first year of our journey!')}\n        </Text>\n        <Button\n          disabled={isLoading}\n          onClick={handleClick}\n          endIcon={isLoading ? <AutoRenewIcon spin color=\"currentColor\" /> : undefined}\n        >\n          {isLoading ? t('Claiming...') : t('Claim now')}\n        </Button>\n      </Flex>\n    </Modal>\n  )\n}\n\nexport default AnniversaryAchievementModal\n"]},"metadata":{},"sourceType":"module"}