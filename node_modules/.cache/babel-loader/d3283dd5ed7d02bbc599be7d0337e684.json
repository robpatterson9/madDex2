{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useMemo,useState}from'react';import styled from'styled-components';import{TradeType}from'@pancakeswap/sdk';import{Button,Text,AutoRenewIcon}from'@pancakeswap/uikit';import{useTranslation}from'contexts/Localization';import{Field}from'state/swap/actions';import{computeSlippageAdjustedAmounts,computeTradePriceBreakdown,formatExecutionPrice,warningSeverity}from'utils/prices';import{AutoColumn}from'components/Layout/Column';import QuestionHelper from'components/QuestionHelper';import{AutoRow,RowBetween,RowFixed}from'components/Layout/Row';import FormattedPriceImpact from'./FormattedPriceImpact';import{StyledBalanceMaxMini,SwapCallbackError}from'./styleds';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SwapModalFooterContainer=styled(AutoColumn)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-top: 24px;\\n  padding: 16px;\\n  border-radius: \",\";\\n  border: 1px solid \",\";\\n  background-color: \",\";\\n\"])),function(_ref){var theme=_ref.theme;return theme.radii.default;},function(_ref2){var theme=_ref2.theme;return theme.colors.cardBorder;},function(_ref3){var theme=_ref3.theme;return theme.colors.background;});export default function SwapModalFooter(_ref4){var _slippageAdjustedAmou,_slippageAdjustedAmou2,_slippageAdjustedAmou3,_slippageAdjustedAmou4;var trade=_ref4.trade,onConfirm=_ref4.onConfirm,allowedSlippage=_ref4.allowedSlippage,swapErrorMessage=_ref4.swapErrorMessage,disabledConfirm=_ref4.disabledConfirm;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showInverted=_useState2[0],setShowInverted=_useState2[1];var slippageAdjustedAmounts=useMemo(function(){return computeSlippageAdjustedAmounts(trade,allowedSlippage);},[allowedSlippage,trade]);var _useMemo=useMemo(function(){return computeTradePriceBreakdown(trade);},[trade]),priceImpactWithoutFee=_useMemo.priceImpactWithoutFee,realizedLPFee=_useMemo.realizedLPFee;var severity=warningSeverity(priceImpactWithoutFee);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(SwapModalFooterContainer,{children:[/*#__PURE__*/_jsxs(RowBetween,{align:\"center\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:t('Price')}),/*#__PURE__*/_jsxs(Text,{fontSize:\"14px\",style:{justifyContent:'center',alignItems:'center',display:'flex',textAlign:'right',paddingLeft:'10px'},children:[formatExecutionPrice(trade,showInverted),/*#__PURE__*/_jsx(StyledBalanceMaxMini,{onClick:function onClick(){return setShowInverted(!showInverted);},children:/*#__PURE__*/_jsx(AutoRenewIcon,{width:\"14px\"})})]})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:trade.tradeType===TradeType.EXACT_INPUT?t('Minimum received'):t('Maximum sold')}),/*#__PURE__*/_jsx(QuestionHelper,{text:t('Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.'),ml:\"4px\"})]}),/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:trade.tradeType===TradeType.EXACT_INPUT?(_slippageAdjustedAmou=(_slippageAdjustedAmou2=slippageAdjustedAmounts[Field.OUTPUT])===null||_slippageAdjustedAmou2===void 0?void 0:_slippageAdjustedAmou2.toSignificant(4))!==null&&_slippageAdjustedAmou!==void 0?_slippageAdjustedAmou:'-':(_slippageAdjustedAmou3=(_slippageAdjustedAmou4=slippageAdjustedAmounts[Field.INPUT])===null||_slippageAdjustedAmou4===void 0?void 0:_slippageAdjustedAmou4.toSignificant(4))!==null&&_slippageAdjustedAmou3!==void 0?_slippageAdjustedAmou3:'-'}),/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",marginLeft:\"4px\",children:trade.tradeType===TradeType.EXACT_INPUT?trade.outputAmount.currency.symbol:trade.inputAmount.currency.symbol})]})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:t('Price Impact')}),/*#__PURE__*/_jsx(QuestionHelper,{text:t('The difference between the market price and your price due to trade size.'),ml:\"4px\"})]}),/*#__PURE__*/_jsx(FormattedPriceImpact,{priceImpact:priceImpactWithoutFee})]}),/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:t('Liquidity Provider Fee')}),/*#__PURE__*/_jsx(QuestionHelper,{text:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{mb:\"12px\",children:t('For each trade a %amount% fee is paid',{amount:'0.25%'})}),/*#__PURE__*/_jsxs(Text,{children:[\"- \",t('%amount% to LP token holders',{amount:'0.17%'})]}),/*#__PURE__*/_jsxs(Text,{children:[\"- \",t('%amount% to the Treasury',{amount:'0.03%'})]}),/*#__PURE__*/_jsxs(Text,{children:[\"- \",t('%amount% towards CAKE buyback and burn',{amount:'0.05%'})]})]}),ml:\"4px\"})]}),/*#__PURE__*/_jsx(Text,{fontSize:\"14px\",children:realizedLPFee?\"\".concat(realizedLPFee===null||realizedLPFee===void 0?void 0:realizedLPFee.toSignificant(6),\" \").concat(trade.inputAmount.currency.symbol):'-'})]})]}),/*#__PURE__*/_jsxs(AutoRow,{children:[/*#__PURE__*/_jsx(Button,{variant:severity>2?'danger':'primary',onClick:onConfirm,disabled:disabledConfirm,mt:\"12px\",id:\"confirm-swap-or-send\",width:\"100%\",children:severity>2?t('Swap Anyway'):t('Confirm Swap')}),swapErrorMessage?/*#__PURE__*/_jsx(SwapCallbackError,{error:swapErrorMessage}):null]})]});}","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Swap/components/SwapModalFooter.tsx"],"names":["React","useMemo","useState","styled","TradeType","Button","Text","AutoRenewIcon","useTranslation","Field","computeSlippageAdjustedAmounts","computeTradePriceBreakdown","formatExecutionPrice","warningSeverity","AutoColumn","QuestionHelper","AutoRow","RowBetween","RowFixed","FormattedPriceImpact","StyledBalanceMaxMini","SwapCallbackError","SwapModalFooterContainer","theme","radii","default","colors","cardBorder","background","SwapModalFooter","trade","onConfirm","allowedSlippage","swapErrorMessage","disabledConfirm","t","showInverted","setShowInverted","slippageAdjustedAmounts","priceImpactWithoutFee","realizedLPFee","severity","justifyContent","alignItems","display","textAlign","paddingLeft","tradeType","EXACT_INPUT","OUTPUT","toSignificant","INPUT","outputAmount","currency","symbol","inputAmount","amount"],"mappings":"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","sourcesContent":["import React, { useMemo, useState } from 'react'\nimport styled from 'styled-components'\nimport { Trade, TradeType } from '@pancakeswap/sdk'\nimport { Button, Text, AutoRenewIcon } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { Field } from 'state/swap/actions'\nimport {\n  computeSlippageAdjustedAmounts,\n  computeTradePriceBreakdown,\n  formatExecutionPrice,\n  warningSeverity,\n} from 'utils/prices'\nimport { AutoColumn } from 'components/Layout/Column'\nimport QuestionHelper from 'components/QuestionHelper'\nimport { AutoRow, RowBetween, RowFixed } from 'components/Layout/Row'\nimport FormattedPriceImpact from './FormattedPriceImpact'\nimport { StyledBalanceMaxMini, SwapCallbackError } from './styleds'\n\nconst SwapModalFooterContainer = styled(AutoColumn)`\n  margin-top: 24px;\n  padding: 16px;\n  border-radius: ${({ theme }) => theme.radii.default};\n  border: 1px solid ${({ theme }) => theme.colors.cardBorder};\n  background-color: ${({ theme }) => theme.colors.background};\n`\n\nexport default function SwapModalFooter({\n  trade,\n  onConfirm,\n  allowedSlippage,\n  swapErrorMessage,\n  disabledConfirm,\n}: {\n  trade: Trade\n  allowedSlippage: number\n  onConfirm: () => void\n  swapErrorMessage: string | undefined\n  disabledConfirm: boolean\n}) {\n  const { t } = useTranslation()\n  const [showInverted, setShowInverted] = useState<boolean>(false)\n  const slippageAdjustedAmounts = useMemo(\n    () => computeSlippageAdjustedAmounts(trade, allowedSlippage),\n    [allowedSlippage, trade],\n  )\n  const { priceImpactWithoutFee, realizedLPFee } = useMemo(() => computeTradePriceBreakdown(trade), [trade])\n  const severity = warningSeverity(priceImpactWithoutFee)\n\n  return (\n    <>\n      <SwapModalFooterContainer>\n        <RowBetween align=\"center\">\n          <Text fontSize=\"14px\">{t('Price')}</Text>\n          <Text\n            fontSize=\"14px\"\n            style={{\n              justifyContent: 'center',\n              alignItems: 'center',\n              display: 'flex',\n              textAlign: 'right',\n              paddingLeft: '10px',\n            }}\n          >\n            {formatExecutionPrice(trade, showInverted)}\n            <StyledBalanceMaxMini onClick={() => setShowInverted(!showInverted)}>\n              <AutoRenewIcon width=\"14px\" />\n            </StyledBalanceMaxMini>\n          </Text>\n        </RowBetween>\n\n        <RowBetween>\n          <RowFixed>\n            <Text fontSize=\"14px\">\n              {trade.tradeType === TradeType.EXACT_INPUT ? t('Minimum received') : t('Maximum sold')}\n            </Text>\n            <QuestionHelper\n              text={t(\n                'Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.',\n              )}\n              ml=\"4px\"\n            />\n          </RowFixed>\n          <RowFixed>\n            <Text fontSize=\"14px\">\n              {trade.tradeType === TradeType.EXACT_INPUT\n                ? slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(4) ?? '-'\n                : slippageAdjustedAmounts[Field.INPUT]?.toSignificant(4) ?? '-'}\n            </Text>\n            <Text fontSize=\"14px\" marginLeft=\"4px\">\n              {trade.tradeType === TradeType.EXACT_INPUT\n                ? trade.outputAmount.currency.symbol\n                : trade.inputAmount.currency.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n        <RowBetween>\n          <RowFixed>\n            <Text fontSize=\"14px\">{t('Price Impact')}</Text>\n            <QuestionHelper\n              text={t('The difference between the market price and your price due to trade size.')}\n              ml=\"4px\"\n            />\n          </RowFixed>\n          <FormattedPriceImpact priceImpact={priceImpactWithoutFee} />\n        </RowBetween>\n        <RowBetween>\n          <RowFixed>\n            <Text fontSize=\"14px\">{t('Liquidity Provider Fee')}</Text>\n            <QuestionHelper\n              text={\n                <>\n                  <Text mb=\"12px\">{t('For each trade a %amount% fee is paid', { amount: '0.25%' })}</Text>\n                  <Text>- {t('%amount% to LP token holders', { amount: '0.17%' })}</Text>\n                  <Text>- {t('%amount% to the Treasury', { amount: '0.03%' })}</Text>\n                  <Text>- {t('%amount% towards CAKE buyback and burn', { amount: '0.05%' })}</Text>\n                </>\n              }\n              ml=\"4px\"\n            />\n          </RowFixed>\n          <Text fontSize=\"14px\">\n            {realizedLPFee ? `${realizedLPFee?.toSignificant(6)} ${trade.inputAmount.currency.symbol}` : '-'}\n          </Text>\n        </RowBetween>\n      </SwapModalFooterContainer>\n\n      <AutoRow>\n        <Button\n          variant={severity > 2 ? 'danger' : 'primary'}\n          onClick={onConfirm}\n          disabled={disabledConfirm}\n          mt=\"12px\"\n          id=\"confirm-swap-or-send\"\n          width=\"100%\"\n        >\n          {severity > 2 ? t('Swap Anyway') : t('Confirm Swap')}\n        </Button>\n\n        {swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\n      </AutoRow>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}