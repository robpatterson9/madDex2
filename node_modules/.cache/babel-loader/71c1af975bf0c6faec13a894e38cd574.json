{"ast":null,"code":"var _jsxFileName = \"/Volumes/evo970/lou/madDex-master/src/views/Info/components/InfoSearch/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect, useMemo } from 'react';\nimport styled from 'styled-components';\nimport { Text, Input, Flex, Skeleton, useMatchBreakpoints } from '@pancakeswap/uikit';\nimport useFetchSearchResults from 'state/info/queries/search';\nimport { CurrencyLogo, DoubleCurrencyLogo } from 'views/Info/components/CurrencyLogo';\nimport { formatAmount } from 'views/Info/utils/formatInfoNumbers';\nimport { useWatchlistTokens, useWatchlistPools } from 'state/user/hooks';\nimport SaveIcon from 'views/Info/components/SaveIcon';\nimport { useHistory } from 'react-router-dom';\nimport { usePoolDatas, useTokenDatas } from 'state/info/hooks';\nimport { useTranslation } from 'contexts/Localization';\nimport useDebounce from 'hooks/useDebounce';\nimport { MINIMUM_SEARCH_CHARACTERS } from 'config/constants/info';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  position: relative;\n  z-index: 30;\n  width: 100%;\n`;\n_c = Container;\nconst StyledInput = styled(Input)`\n  z-index: 9999;\n  border: 1px solid ${({\n  theme\n}) => theme.colors.inputSecondary};\n`;\n_c2 = StyledInput;\nconst Menu = styled.div`\n  display: flex;\n  flex-direction: column;\n  z-index: 9999;\n  width: 100%;\n  top: 50px;\n  max-height: 400px;\n  overflow: auto;\n  right: 0;\n  padding: 1.5rem;\n  padding-bottom: 2.5rem;\n  position: absolute;\n  background: ${({\n  theme\n}) => theme.colors.background};\n  border-radius: 8px;\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.04);\n  display: ${({\n  hide\n}) => hide && 'none'};\n  border: 1px solid ${({\n  theme\n}) => theme.colors.secondary};\n  margin-top: 4px;\n  ${({\n  theme\n}) => theme.mediaQueries.sm} {\n    margin-top: 0;\n    width: 500px;\n    max-height: 600px;\n  }\n  ${({\n  theme\n}) => theme.mediaQueries.md} {\n    margin-top: 0;\n    width: 800px;\n    max-height: 600px;\n  }\n`;\n_c3 = Menu;\nconst Blackout = styled.div`\n  position: absolute;\n  min-height: 100vh;\n  width: 100vw;\n  z-index: 10;\n  background-color: black;\n  opacity: 0.7;\n  left: 0;\n  top: 0;\n`;\n_c4 = Blackout;\nconst ResponsiveGrid = styled.div`\n  display: grid;\n  grid-gap: 1em;\n  grid-template-columns: 1fr;\n  margin: 8px 0;\n  align-items: center;\n  ${({\n  theme\n}) => theme.mediaQueries.sm} {\n    grid-template-columns: 1.5fr repeat(3, 1fr);\n  }\n`;\n_c5 = ResponsiveGrid;\nconst Break = styled.div`\n  height: 1px;\n  background-color: ${({\n  theme\n}) => theme.colors.cardBorder};\n  width: 100%;\n  margin: 16px 0;\n`;\n_c6 = Break;\nconst HoverText = styled.div`\n  color: ${({\n  theme\n}) => theme.colors.secondary};\n  display: ${({\n  hide\n}) => hide ? 'none' : 'block'};\n  margin-top: 16px;\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`;\n_c7 = HoverText;\nconst HoverRowLink = styled.div`\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`;\n_c8 = HoverRowLink;\nconst OptionButton = styled.div`\n  width: fit-content;\n  padding: 4px 8px;\n  border-radius: 8px;\n  display: flex;\n  font-size: 12px;\n  font-weight: 600;\n  margin-right: 10px;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({\n  theme,\n  enabled\n}) => enabled ? theme.colors.primary : 'transparent'};\n  color: ${({\n  theme,\n  enabled\n}) => enabled ? theme.card.background : theme.colors.secondary};\n  :hover {\n    opacity: 0.6;\n    cursor: pointer;\n  }\n`;\n_c9 = OptionButton;\n\nconst tokenIncludesSearchTerm = (token, value) => {\n  return token.address.toLowerCase().includes(value.toLowerCase()) || token.symbol.toLowerCase().includes(value.toLowerCase()) || token.name.toLowerCase().includes(value.toLowerCase());\n};\n\nconst poolIncludesSearchTerm = (pool, value) => {\n  return pool.address.toLowerCase().includes(value.toLowerCase()) || tokenIncludesSearchTerm(pool.token0, value) || tokenIncludesSearchTerm(pool.token1, value);\n};\n\nconst Search = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    isXs,\n    isSm\n  } = useMatchBreakpoints();\n  const {\n    t\n  } = useTranslation();\n  const inputRef = useRef(null);\n  const menuRef = useRef(null);\n  const showMoreRef = useRef(null);\n  const [showMenu, setShowMenu] = useState(false);\n  const [value, setValue] = useState('');\n  const debouncedSearchTerm = useDebounce(value, 600);\n  const {\n    tokens,\n    pools,\n    tokensLoading,\n    poolsLoading,\n    error\n  } = useFetchSearchResults(debouncedSearchTerm);\n  const [tokensShown, setTokensShown] = useState(3);\n  const [poolsShown, setPoolsShown] = useState(3);\n  useEffect(() => {\n    setTokensShown(3);\n    setPoolsShown(3);\n  }, [debouncedSearchTerm]);\n\n  const handleOutsideClick = e => {\n    const menuClick = menuRef.current && menuRef.current.contains(e.target);\n    const inputCLick = inputRef.current && inputRef.current.contains(e.target);\n    const showMoreClick = showMoreRef.current && showMoreRef.current.contains(e.target);\n\n    if (!menuClick && !inputCLick && !showMoreClick) {\n      setPoolsShown(3);\n      setTokensShown(3);\n      setShowMenu(false);\n    }\n  };\n\n  useEffect(() => {\n    if (showMenu) {\n      document.addEventListener('click', handleOutsideClick);\n      document.querySelector('body').style.overflow = 'hidden';\n    } else {\n      document.removeEventListener('click', handleOutsideClick);\n      document.querySelector('body').style.overflow = 'visible';\n    }\n  }, [showMenu]); // watchlist\n\n  const [savedTokens, addSavedToken] = useWatchlistTokens();\n  const [savedPools, addSavedPool] = useWatchlistPools();\n\n  const handleItemClick = to => {\n    setShowMenu(false);\n    setPoolsShown(3);\n    setTokensShown(3);\n    history.push(to);\n  }; // get date for watchlist\n\n\n  const watchListTokenData = useTokenDatas(savedTokens);\n  const watchListTokenLoading = watchListTokenData.length !== savedTokens.length;\n  const watchListPoolData = usePoolDatas(savedPools);\n  const watchListPoolLoading = watchListPoolData.length !== savedPools.length; // filter on view\n\n  const [showWatchlist, setShowWatchlist] = useState(false);\n  const tokensForList = useMemo(() => {\n    if (showWatchlist) {\n      return watchListTokenData.filter(token => tokenIncludesSearchTerm(token, value));\n    }\n\n    return tokens.sort((t0, t1) => t0.volumeUSD > t1.volumeUSD ? -1 : 1);\n  }, [showWatchlist, tokens, watchListTokenData, value]);\n  const poolForList = useMemo(() => {\n    if (showWatchlist) {\n      return watchListPoolData.filter(pool => poolIncludesSearchTerm(pool, value));\n    }\n\n    return pools.sort((p0, p1) => p0.volumeUSD > p1.volumeUSD ? -1 : 1);\n  }, [pools, showWatchlist, watchListPoolData, value]);\n\n  const contentUnderTokenList = () => {\n    const isLoading = showWatchlist ? watchListTokenLoading : tokensLoading;\n    const noTokensFound = tokensForList.length === 0 && !isLoading && debouncedSearchTerm.length >= MINIMUM_SEARCH_CHARACTERS;\n    const noWatchlistTokens = tokensForList.length === 0 && !isLoading;\n    const showMessage = showWatchlist ? noWatchlistTokens : noTokensFound;\n    const noTokensMessage = showWatchlist ? t('Saved tokens will appear here') : t('No results');\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [isLoading && /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 23\n      }, this), showMessage && /*#__PURE__*/_jsxDEV(Text, {\n        children: noTokensMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 25\n      }, this), !showWatchlist && debouncedSearchTerm.length < MINIMUM_SEARCH_CHARACTERS && /*#__PURE__*/_jsxDEV(Text, {\n        children: t('Search pools or tokens')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  };\n\n  const contentUnderPoolList = () => {\n    const isLoading = showWatchlist ? watchListPoolLoading : poolsLoading;\n    const noPoolsFound = poolForList.length === 0 && !poolsLoading && debouncedSearchTerm.length >= MINIMUM_SEARCH_CHARACTERS;\n    const noWatchlistPools = poolForList.length === 0 && !isLoading;\n    const showMessage = showWatchlist ? noWatchlistPools : noPoolsFound;\n    const noPoolsMessage = showWatchlist ? t('Saved tokens will appear here') : t('No results');\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [isLoading && /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 23\n      }, this), showMessage && /*#__PURE__*/_jsxDEV(Text, {\n        children: noPoolsMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 25\n      }, this), !showWatchlist && debouncedSearchTerm.length < MINIMUM_SEARCH_CHARACTERS && /*#__PURE__*/_jsxDEV(Text, {\n        children: t('Search pools or tokens')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showMenu ? /*#__PURE__*/_jsxDEV(Blackout, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 19\n    }, this) : null, /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(StyledInput, {\n        type: \"text\",\n        value: value,\n        onChange: e => {\n          setValue(e.target.value);\n        },\n        placeholder: t('Search pools or tokens'),\n        ref: inputRef,\n        onFocus: () => {\n          setShowMenu(true);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Menu, {\n        hide: !showMenu,\n        ref: menuRef,\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          mb: \"16px\",\n          children: [/*#__PURE__*/_jsxDEV(OptionButton, {\n            enabled: !showWatchlist,\n            onClick: () => setShowWatchlist(false),\n            children: t('Search')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(OptionButton, {\n            enabled: showWatchlist,\n            onClick: () => setShowWatchlist(true),\n            children: t('Watchlist')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(Text, {\n          color: \"failure\",\n          children: t('Error occurred, please try again')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveGrid, {\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            bold: true,\n            color: \"secondary\",\n            children: t('Tokens')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n            textAlign: \"end\",\n            fontSize: \"12px\",\n            children: t('Price')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n            textAlign: \"end\",\n            fontSize: \"12px\",\n            children: t('Volume 24H')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n            textAlign: \"end\",\n            fontSize: \"12px\",\n            children: t('Liquidity')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), tokensForList.slice(0, tokensShown).map((token, i) => {\n          return (\n            /*#__PURE__*/\n            // eslint-disable-next-line react/no-array-index-key\n            _jsxDEV(HoverRowLink, {\n              onClick: () => handleItemClick(`/info/token/${token.address}`),\n              children: /*#__PURE__*/_jsxDEV(ResponsiveGrid, {\n                children: [/*#__PURE__*/_jsxDEV(Flex, {\n                  children: [/*#__PURE__*/_jsxDEV(CurrencyLogo, {\n                    address: token.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    ml: \"10px\",\n                    children: /*#__PURE__*/_jsxDEV(Text, {\n                      children: `${token.name} (${token.symbol})`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(SaveIcon, {\n                    id: \"watchlist-icon\",\n                    style: {\n                      marginLeft: '8px'\n                    },\n                    fill: savedTokens.includes(token.address),\n                    onClick: e => {\n                      e.stopPropagation();\n                      addSavedToken(token.address);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 19\n                }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n                  textAlign: \"end\",\n                  children: [\"$\", formatAmount(token.priceUSD)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 38\n                }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n                  textAlign: \"end\",\n                  children: [\"$\", formatAmount(token.volumeUSD)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 38\n                }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n                  textAlign: \"end\",\n                  children: [\"$\", formatAmount(token.liquidityUSD)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)\n          );\n        }), contentUnderTokenList(), /*#__PURE__*/_jsxDEV(HoverText, {\n          onClick: () => {\n            setTokensShown(tokensShown + 5);\n          },\n          hide: tokensForList.length <= tokensShown,\n          ref: showMoreRef,\n          children: t('See more...')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Break, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveGrid, {\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            bold: true,\n            color: \"secondary\",\n            mb: \"8px\",\n            children: t('Pools')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n            textAlign: \"end\",\n            fontSize: \"12px\",\n            children: t('Volume 24H')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n            textAlign: \"end\",\n            fontSize: \"12px\",\n            children: t('Volume 7D')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n            textAlign: \"end\",\n            fontSize: \"12px\",\n            children: t('Liquidity')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), poolForList.slice(0, poolsShown).map((p, i) => {\n          return (\n            /*#__PURE__*/\n            // eslint-disable-next-line react/no-array-index-key\n            _jsxDEV(HoverRowLink, {\n              onClick: () => handleItemClick(`/info/pool/${p.address}`),\n              children: /*#__PURE__*/_jsxDEV(ResponsiveGrid, {\n                children: [/*#__PURE__*/_jsxDEV(Flex, {\n                  children: [/*#__PURE__*/_jsxDEV(DoubleCurrencyLogo, {\n                    address0: p.token0.address,\n                    address1: p.token1.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    ml: \"10px\",\n                    style: {\n                      whiteSpace: 'nowrap'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Text, {\n                      children: `${p.token0.symbol} / ${p.token1.symbol}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(SaveIcon, {\n                    id: \"watchlist-icon\",\n                    style: {\n                      marginLeft: '10px'\n                    },\n                    fill: savedPools.includes(p.address),\n                    onClick: e => {\n                      e.stopPropagation();\n                      addSavedPool(p.address);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 19\n                }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n                  textAlign: \"end\",\n                  children: [\"$\", formatAmount(p.volumeUSD)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 38\n                }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n                  textAlign: \"end\",\n                  children: [\"$\", formatAmount(p.volumeUSDWeek)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 38\n                }, this), !isXs && !isSm && /*#__PURE__*/_jsxDEV(Text, {\n                  textAlign: \"end\",\n                  children: [\"$\", formatAmount(p.liquidityUSD)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this)\n          );\n        }), contentUnderPoolList(), /*#__PURE__*/_jsxDEV(HoverText, {\n          onClick: () => {\n            setPoolsShown(poolsShown + 5);\n          },\n          hide: poolForList.length <= poolsShown,\n          ref: showMoreRef,\n          children: t('See more...')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Search, \"++VdDtKLmbup6gn63Bh7DVdFteE=\", false, function () {\n  return [useHistory, useMatchBreakpoints, useTranslation, useDebounce, useFetchSearchResults, useWatchlistTokens, useWatchlistPools, useTokenDatas, usePoolDatas];\n});\n\n_c10 = Search;\nexport default Search;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"StyledInput\");\n$RefreshReg$(_c3, \"Menu\");\n$RefreshReg$(_c4, \"Blackout\");\n$RefreshReg$(_c5, \"ResponsiveGrid\");\n$RefreshReg$(_c6, \"Break\");\n$RefreshReg$(_c7, \"HoverText\");\n$RefreshReg$(_c8, \"HoverRowLink\");\n$RefreshReg$(_c9, \"OptionButton\");\n$RefreshReg$(_c10, \"Search\");","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Info/components/InfoSearch/index.tsx"],"names":["React","useRef","useState","useEffect","useMemo","styled","Text","Input","Flex","Skeleton","useMatchBreakpoints","useFetchSearchResults","CurrencyLogo","DoubleCurrencyLogo","formatAmount","useWatchlistTokens","useWatchlistPools","SaveIcon","useHistory","usePoolDatas","useTokenDatas","useTranslation","useDebounce","MINIMUM_SEARCH_CHARACTERS","Container","div","StyledInput","theme","colors","inputSecondary","Menu","background","hide","secondary","mediaQueries","sm","md","Blackout","ResponsiveGrid","Break","cardBorder","HoverText","HoverRowLink","OptionButton","enabled","primary","card","tokenIncludesSearchTerm","token","value","address","toLowerCase","includes","symbol","name","poolIncludesSearchTerm","pool","token0","token1","Search","history","isXs","isSm","t","inputRef","menuRef","showMoreRef","showMenu","setShowMenu","setValue","debouncedSearchTerm","tokens","pools","tokensLoading","poolsLoading","error","tokensShown","setTokensShown","poolsShown","setPoolsShown","handleOutsideClick","e","menuClick","current","contains","target","inputCLick","showMoreClick","document","addEventListener","querySelector","style","overflow","removeEventListener","savedTokens","addSavedToken","savedPools","addSavedPool","handleItemClick","to","push","watchListTokenData","watchListTokenLoading","length","watchListPoolData","watchListPoolLoading","showWatchlist","setShowWatchlist","tokensForList","filter","sort","t0","t1","volumeUSD","poolForList","p0","p1","contentUnderTokenList","isLoading","noTokensFound","noWatchlistTokens","showMessage","noTokensMessage","contentUnderPoolList","noPoolsFound","noWatchlistPools","noPoolsMessage","slice","map","i","marginLeft","stopPropagation","priceUSD","liquidityUSD","p","whiteSpace","volumeUSDWeek"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect, useMemo } from 'react'\nimport styled from 'styled-components'\nimport { Text, Input, Flex, Skeleton, useMatchBreakpoints } from '@pancakeswap/uikit'\nimport useFetchSearchResults from 'state/info/queries/search'\nimport { CurrencyLogo, DoubleCurrencyLogo } from 'views/Info/components/CurrencyLogo'\nimport { formatAmount } from 'views/Info/utils/formatInfoNumbers'\nimport { useWatchlistTokens, useWatchlistPools } from 'state/user/hooks'\nimport SaveIcon from 'views/Info/components/SaveIcon'\nimport { useHistory } from 'react-router-dom'\nimport { usePoolDatas, useTokenDatas } from 'state/info/hooks'\nimport { useTranslation } from 'contexts/Localization'\nimport useDebounce from 'hooks/useDebounce'\nimport { MINIMUM_SEARCH_CHARACTERS } from 'config/constants/info'\nimport { PoolData } from 'state/info/types'\n\nconst Container = styled.div`\n  position: relative;\n  z-index: 30;\n  width: 100%;\n`\n\nconst StyledInput = styled(Input)`\n  z-index: 9999;\n  border: 1px solid ${({ theme }) => theme.colors.inputSecondary};\n`\n\nconst Menu = styled.div<{ hide: boolean }>`\n  display: flex;\n  flex-direction: column;\n  z-index: 9999;\n  width: 100%;\n  top: 50px;\n  max-height: 400px;\n  overflow: auto;\n  right: 0;\n  padding: 1.5rem;\n  padding-bottom: 2.5rem;\n  position: absolute;\n  background: ${({ theme }) => theme.colors.background};\n  border-radius: 8px;\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.04);\n  display: ${({ hide }) => hide && 'none'};\n  border: 1px solid ${({ theme }) => theme.colors.secondary};\n  margin-top: 4px;\n  ${({ theme }) => theme.mediaQueries.sm} {\n    margin-top: 0;\n    width: 500px;\n    max-height: 600px;\n  }\n  ${({ theme }) => theme.mediaQueries.md} {\n    margin-top: 0;\n    width: 800px;\n    max-height: 600px;\n  }\n`\n\nconst Blackout = styled.div`\n  position: absolute;\n  min-height: 100vh;\n  width: 100vw;\n  z-index: 10;\n  background-color: black;\n  opacity: 0.7;\n  left: 0;\n  top: 0;\n`\n\nconst ResponsiveGrid = styled.div`\n  display: grid;\n  grid-gap: 1em;\n  grid-template-columns: 1fr;\n  margin: 8px 0;\n  align-items: center;\n  ${({ theme }) => theme.mediaQueries.sm} {\n    grid-template-columns: 1.5fr repeat(3, 1fr);\n  }\n`\n\nconst Break = styled.div`\n  height: 1px;\n  background-color: ${({ theme }) => theme.colors.cardBorder};\n  width: 100%;\n  margin: 16px 0;\n`\n\nconst HoverText = styled.div<{ hide: boolean }>`\n  color: ${({ theme }) => theme.colors.secondary};\n  display: ${({ hide }) => (hide ? 'none' : 'block')};\n  margin-top: 16px;\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\nconst HoverRowLink = styled.div`\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\nconst OptionButton = styled.div<{ enabled: boolean }>`\n  width: fit-content;\n  padding: 4px 8px;\n  border-radius: 8px;\n  display: flex;\n  font-size: 12px;\n  font-weight: 600;\n  margin-right: 10px;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ theme, enabled }) => (enabled ? theme.colors.primary : 'transparent')};\n  color: ${({ theme, enabled }) => (enabled ? theme.card.background : theme.colors.secondary)};\n  :hover {\n    opacity: 0.6;\n    cursor: pointer;\n  }\n`\ntype BasicTokenData = {\n  address: string\n  symbol: string\n  name: string\n}\nconst tokenIncludesSearchTerm = (token: BasicTokenData, value: string) => {\n  return (\n    token.address.toLowerCase().includes(value.toLowerCase()) ||\n    token.symbol.toLowerCase().includes(value.toLowerCase()) ||\n    token.name.toLowerCase().includes(value.toLowerCase())\n  )\n}\n\nconst poolIncludesSearchTerm = (pool: PoolData, value: string) => {\n  return (\n    pool.address.toLowerCase().includes(value.toLowerCase()) ||\n    tokenIncludesSearchTerm(pool.token0, value) ||\n    tokenIncludesSearchTerm(pool.token1, value)\n  )\n}\n\nconst Search = () => {\n  const history = useHistory()\n  const { isXs, isSm } = useMatchBreakpoints()\n  const { t } = useTranslation()\n\n  const inputRef = useRef<HTMLInputElement>(null)\n  const menuRef = useRef<HTMLDivElement>(null)\n  const showMoreRef = useRef<HTMLDivElement>(null)\n\n  const [showMenu, setShowMenu] = useState(false)\n  const [value, setValue] = useState('')\n  const debouncedSearchTerm = useDebounce(value, 600)\n\n  const { tokens, pools, tokensLoading, poolsLoading, error } = useFetchSearchResults(debouncedSearchTerm)\n\n  const [tokensShown, setTokensShown] = useState(3)\n  const [poolsShown, setPoolsShown] = useState(3)\n\n  useEffect(() => {\n    setTokensShown(3)\n    setPoolsShown(3)\n  }, [debouncedSearchTerm])\n\n  const handleOutsideClick = (e: any) => {\n    const menuClick = menuRef.current && menuRef.current.contains(e.target)\n    const inputCLick = inputRef.current && inputRef.current.contains(e.target)\n    const showMoreClick = showMoreRef.current && showMoreRef.current.contains(e.target)\n\n    if (!menuClick && !inputCLick && !showMoreClick) {\n      setPoolsShown(3)\n      setTokensShown(3)\n      setShowMenu(false)\n    }\n  }\n\n  useEffect(() => {\n    if (showMenu) {\n      document.addEventListener('click', handleOutsideClick)\n      document.querySelector('body').style.overflow = 'hidden'\n    } else {\n      document.removeEventListener('click', handleOutsideClick)\n      document.querySelector('body').style.overflow = 'visible'\n    }\n  }, [showMenu])\n\n  // watchlist\n  const [savedTokens, addSavedToken] = useWatchlistTokens()\n  const [savedPools, addSavedPool] = useWatchlistPools()\n\n  const handleItemClick = (to: string) => {\n    setShowMenu(false)\n    setPoolsShown(3)\n    setTokensShown(3)\n    history.push(to)\n  }\n\n  // get date for watchlist\n  const watchListTokenData = useTokenDatas(savedTokens)\n  const watchListTokenLoading = watchListTokenData.length !== savedTokens.length\n  const watchListPoolData = usePoolDatas(savedPools)\n  const watchListPoolLoading = watchListPoolData.length !== savedPools.length\n\n  // filter on view\n  const [showWatchlist, setShowWatchlist] = useState(false)\n  const tokensForList = useMemo(() => {\n    if (showWatchlist) {\n      return watchListTokenData.filter((token) => tokenIncludesSearchTerm(token, value))\n    }\n    return tokens.sort((t0, t1) => (t0.volumeUSD > t1.volumeUSD ? -1 : 1))\n  }, [showWatchlist, tokens, watchListTokenData, value])\n\n  const poolForList = useMemo(() => {\n    if (showWatchlist) {\n      return watchListPoolData.filter((pool) => poolIncludesSearchTerm(pool, value))\n    }\n    return pools.sort((p0, p1) => (p0.volumeUSD > p1.volumeUSD ? -1 : 1))\n  }, [pools, showWatchlist, watchListPoolData, value])\n\n  const contentUnderTokenList = () => {\n    const isLoading = showWatchlist ? watchListTokenLoading : tokensLoading\n    const noTokensFound =\n      tokensForList.length === 0 && !isLoading && debouncedSearchTerm.length >= MINIMUM_SEARCH_CHARACTERS\n    const noWatchlistTokens = tokensForList.length === 0 && !isLoading\n    const showMessage = showWatchlist ? noWatchlistTokens : noTokensFound\n    const noTokensMessage = showWatchlist ? t('Saved tokens will appear here') : t('No results')\n    return (\n      <>\n        {isLoading && <Skeleton />}\n        {showMessage && <Text>{noTokensMessage}</Text>}\n        {!showWatchlist && debouncedSearchTerm.length < MINIMUM_SEARCH_CHARACTERS && (\n          <Text>{t('Search pools or tokens')}</Text>\n        )}\n      </>\n    )\n  }\n\n  const contentUnderPoolList = () => {\n    const isLoading = showWatchlist ? watchListPoolLoading : poolsLoading\n    const noPoolsFound =\n      poolForList.length === 0 && !poolsLoading && debouncedSearchTerm.length >= MINIMUM_SEARCH_CHARACTERS\n    const noWatchlistPools = poolForList.length === 0 && !isLoading\n    const showMessage = showWatchlist ? noWatchlistPools : noPoolsFound\n    const noPoolsMessage = showWatchlist ? t('Saved tokens will appear here') : t('No results')\n    return (\n      <>\n        {isLoading && <Skeleton />}\n        {showMessage && <Text>{noPoolsMessage}</Text>}\n        {!showWatchlist && debouncedSearchTerm.length < MINIMUM_SEARCH_CHARACTERS && (\n          <Text>{t('Search pools or tokens')}</Text>\n        )}\n      </>\n    )\n  }\n\n  return (\n    <>\n      {showMenu ? <Blackout /> : null}\n      <Container>\n        <StyledInput\n          type=\"text\"\n          value={value}\n          onChange={(e) => {\n            setValue(e.target.value)\n          }}\n          placeholder={t('Search pools or tokens')}\n          ref={inputRef}\n          onFocus={() => {\n            setShowMenu(true)\n          }}\n        />\n        <Menu hide={!showMenu} ref={menuRef}>\n          <Flex mb=\"16px\">\n            <OptionButton enabled={!showWatchlist} onClick={() => setShowWatchlist(false)}>\n              {t('Search')}\n            </OptionButton>\n            <OptionButton enabled={showWatchlist} onClick={() => setShowWatchlist(true)}>\n              {t('Watchlist')}\n            </OptionButton>\n          </Flex>\n          {error && <Text color=\"failure\">{t('Error occurred, please try again')}</Text>}\n\n          <ResponsiveGrid>\n            <Text bold color=\"secondary\">\n              {t('Tokens')}\n            </Text>\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Price')}\n              </Text>\n            )}\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Volume 24H')}\n              </Text>\n            )}\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Liquidity')}\n              </Text>\n            )}\n          </ResponsiveGrid>\n          {tokensForList.slice(0, tokensShown).map((token, i) => {\n            return (\n              // eslint-disable-next-line react/no-array-index-key\n              <HoverRowLink onClick={() => handleItemClick(`/info/token/${token.address}`)} key={i}>\n                <ResponsiveGrid>\n                  <Flex>\n                    <CurrencyLogo address={token.address} />\n                    <Text ml=\"10px\">\n                      <Text>{`${token.name} (${token.symbol})`}</Text>\n                    </Text>\n                    <SaveIcon\n                      id=\"watchlist-icon\"\n                      style={{ marginLeft: '8px' }}\n                      fill={savedTokens.includes(token.address)}\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        addSavedToken(token.address)\n                      }}\n                    />\n                  </Flex>\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(token.priceUSD)}</Text>}\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(token.volumeUSD)}</Text>}\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(token.liquidityUSD)}</Text>}\n                </ResponsiveGrid>\n              </HoverRowLink>\n            )\n          })}\n          {contentUnderTokenList()}\n          <HoverText\n            onClick={() => {\n              setTokensShown(tokensShown + 5)\n            }}\n            hide={tokensForList.length <= tokensShown}\n            ref={showMoreRef}\n          >\n            {t('See more...')}\n          </HoverText>\n\n          <Break />\n          <ResponsiveGrid>\n            <Text bold color=\"secondary\" mb=\"8px\">\n              {t('Pools')}\n            </Text>\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Volume 24H')}\n              </Text>\n            )}\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Volume 7D')}\n              </Text>\n            )}\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Liquidity')}\n              </Text>\n            )}\n          </ResponsiveGrid>\n          {poolForList.slice(0, poolsShown).map((p, i) => {\n            return (\n              // eslint-disable-next-line react/no-array-index-key\n              <HoverRowLink onClick={() => handleItemClick(`/info/pool/${p.address}`)} key={i}>\n                <ResponsiveGrid>\n                  <Flex>\n                    <DoubleCurrencyLogo address0={p.token0.address} address1={p.token1.address} />\n                    <Text ml=\"10px\" style={{ whiteSpace: 'nowrap' }}>\n                      <Text>{`${p.token0.symbol} / ${p.token1.symbol}`}</Text>\n                    </Text>\n                    <SaveIcon\n                      id=\"watchlist-icon\"\n                      style={{ marginLeft: '10px' }}\n                      fill={savedPools.includes(p.address)}\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        addSavedPool(p.address)\n                      }}\n                    />\n                  </Flex>\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(p.volumeUSD)}</Text>}\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(p.volumeUSDWeek)}</Text>}\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(p.liquidityUSD)}</Text>}\n                </ResponsiveGrid>\n              </HoverRowLink>\n            )\n          })}\n          {contentUnderPoolList()}\n          <HoverText\n            onClick={() => {\n              setPoolsShown(poolsShown + 5)\n            }}\n            hide={poolForList.length <= poolsShown}\n            ref={showMoreRef}\n          >\n            {t('See more...')}\n          </HoverText>\n        </Menu>\n      </Container>\n    </>\n  )\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}