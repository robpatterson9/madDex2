{"ast":null,"code":"import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useMemo,useRef,useEffect}from'react';import styled from'styled-components';import{Text,Flex,Box,Card}from'@pancakeswap/uikit';import{Link}from'react-router-dom';import{useAllTokenData}from'state/info/hooks';import{CurrencyLogo}from'views/Info/components/CurrencyLogo';import{formatAmount}from'views/Info/utils/formatInfoNumbers';import Percent from'views/Info/components/Percent';import{useTranslation}from'contexts/Localization';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CardWrapper=styled(Link)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  min-width: 190px;\\n  margin-left: 16px;\\n  :hover {\\n    cursor: pointer;\\n    opacity: 0.6;\\n  }\\n\"])));var TopMoverCard=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  border: 1px solid \",\";\\n  border-radius: \",\";\\n  padding: 16px;\\n\"])),function(_ref){var theme=_ref.theme;return theme.colors.cardBorder;},function(_ref2){var theme=_ref2.theme;return theme.radii.card;});export var ScrollableRow=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  overflow-x: auto;\\n  padding: 16px 0;\\n  white-space: nowrap;\\n  ::-webkit-scrollbar {\\n    display: none;\\n  }\\n\"])));var DataCard=function DataCard(_ref3){var tokenData=_ref3.tokenData;return/*#__PURE__*/_jsx(CardWrapper,{to:\"/info/token/\".concat(tokenData.address),children:/*#__PURE__*/_jsx(TopMoverCard,{children:/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(Box,{width:\"32px\",height:\"32px\",children:/*#__PURE__*/_jsx(CurrencyLogo,{address:tokenData.address,size:\"32px\"})}),/*#__PURE__*/_jsxs(Box,{ml:\"16px\",children:[/*#__PURE__*/_jsx(Text,{children:tokenData.symbol}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"14px\",mr:\"6px\",lineHeight:\"16px\",children:[\"$\",formatAmount(tokenData.priceUSD)]}),/*#__PURE__*/_jsx(Percent,{fontSize:\"14px\",value:tokenData.priceUSDChange})]})]})]})})});};var TopTokenMovers=function TopTokenMovers(){var allTokens=useAllTokenData();var _useTranslation=useTranslation(),t=_useTranslation.t;var topPriceIncrease=useMemo(function(){return Object.values(allTokens).sort(function(_ref4,_ref5){var a=_ref4.data;var b=_ref5.data;// eslint-disable-next-line no-nested-ternary\nreturn a&&b?Math.abs(a===null||a===void 0?void 0:a.priceUSDChange)>Math.abs(b===null||b===void 0?void 0:b.priceUSDChange)?-1:1:-1;}).slice(0,Math.min(20,Object.values(allTokens).length));},[allTokens]);var increaseRef=useRef(null);var moveLeftRef=useRef(true);useEffect(function(){var scrollInterval=setInterval(function(){if(increaseRef.current){if(increaseRef.current.scrollLeft===increaseRef.current.scrollWidth-increaseRef.current.clientWidth){moveLeftRef.current=false;}else if(increaseRef.current.scrollLeft===0){moveLeftRef.current=true;}increaseRef.current.scrollTo(moveLeftRef.current?increaseRef.current.scrollLeft+1:increaseRef.current.scrollLeft-1,0);}},30);return function(){clearInterval(scrollInterval);};},[]);if(topPriceIncrease.length===0||!topPriceIncrease.some(function(entry){return entry.data;})){return null;}return/*#__PURE__*/_jsxs(Card,{my:\"16px\",children:[/*#__PURE__*/_jsx(Text,{ml:\"16px\",mt:\"8px\",children:t('Top Movers')}),/*#__PURE__*/_jsx(ScrollableRow,{ref:increaseRef,children:topPriceIncrease.map(function(entry){var _entry$data;return entry.data?/*#__PURE__*/_jsx(DataCard,{tokenData:entry.data},\"top-card-token-\".concat((_entry$data=entry.data)===null||_entry$data===void 0?void 0:_entry$data.address)):null;})})]});};export default TopTokenMovers;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Info/components/TopTokenMovers/index.tsx"],"names":["React","useMemo","useRef","useEffect","styled","Text","Flex","Box","Card","Link","useAllTokenData","CurrencyLogo","formatAmount","Percent","useTranslation","CardWrapper","TopMoverCard","theme","colors","cardBorder","radii","card","ScrollableRow","div","DataCard","tokenData","address","symbol","priceUSD","priceUSDChange","TopTokenMovers","allTokens","t","topPriceIncrease","Object","values","sort","a","data","b","Math","abs","slice","min","length","increaseRef","moveLeftRef","scrollInterval","setInterval","current","scrollLeft","scrollWidth","clientWidth","scrollTo","clearInterval","some","entry","map"],"mappings":"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","sourcesContent":["import React, { useMemo, useRef, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Text, Flex, Box, Card } from '@pancakeswap/uikit'\nimport { Link } from 'react-router-dom'\nimport { useAllTokenData } from 'state/info/hooks'\nimport { TokenData } from 'state/info/types'\nimport { CurrencyLogo } from 'views/Info/components/CurrencyLogo'\nimport { formatAmount } from 'views/Info/utils/formatInfoNumbers'\nimport Percent from 'views/Info/components/Percent'\nimport { useTranslation } from 'contexts/Localization'\n\nconst CardWrapper = styled(Link)`\n  display: inline-block;\n  min-width: 190px;\n  margin-left: 16px;\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\nconst TopMoverCard = styled(Box)`\n  border: 1px solid ${({ theme }) => theme.colors.cardBorder};\n  border-radius: ${({ theme }) => theme.radii.card};\n  padding: 16px;\n`\n\nexport const ScrollableRow = styled.div`\n  width: 100%;\n  overflow-x: auto;\n  padding: 16px 0;\n  white-space: nowrap;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`\n\nconst DataCard = ({ tokenData }: { tokenData: TokenData }) => {\n  return (\n    <CardWrapper to={`/info/token/${tokenData.address}`}>\n      <TopMoverCard>\n        <Flex>\n          <Box width=\"32px\" height=\"32px\">\n            {/* wrapped in a box because of alignment issues between img and svg */}\n            <CurrencyLogo address={tokenData.address} size=\"32px\" />\n          </Box>\n          <Box ml=\"16px\">\n            <Text>{tokenData.symbol}</Text>\n            <Flex alignItems=\"center\">\n              <Text fontSize=\"14px\" mr=\"6px\" lineHeight=\"16px\">\n                ${formatAmount(tokenData.priceUSD)}\n              </Text>\n              <Percent fontSize=\"14px\" value={tokenData.priceUSDChange} />\n            </Flex>\n          </Box>\n        </Flex>\n      </TopMoverCard>\n    </CardWrapper>\n  )\n}\n\nconst TopTokenMovers: React.FC = () => {\n  const allTokens = useAllTokenData()\n  const { t } = useTranslation()\n\n  const topPriceIncrease = useMemo(() => {\n    return Object.values(allTokens)\n      .sort(({ data: a }, { data: b }) => {\n        // eslint-disable-next-line no-nested-ternary\n        return a && b ? (Math.abs(a?.priceUSDChange) > Math.abs(b?.priceUSDChange) ? -1 : 1) : -1\n      })\n      .slice(0, Math.min(20, Object.values(allTokens).length))\n  }, [allTokens])\n\n  const increaseRef = useRef<HTMLDivElement>(null)\n  const moveLeftRef = useRef<boolean>(true)\n\n  useEffect(() => {\n    const scrollInterval = setInterval(() => {\n      if (increaseRef.current) {\n        if (increaseRef.current.scrollLeft === increaseRef.current.scrollWidth - increaseRef.current.clientWidth) {\n          moveLeftRef.current = false\n        } else if (increaseRef.current.scrollLeft === 0) {\n          moveLeftRef.current = true\n        }\n        increaseRef.current.scrollTo(\n          moveLeftRef.current ? increaseRef.current.scrollLeft + 1 : increaseRef.current.scrollLeft - 1,\n          0,\n        )\n      }\n    }, 30)\n\n    return () => {\n      clearInterval(scrollInterval)\n    }\n  }, [])\n\n  if (topPriceIncrease.length === 0 || !topPriceIncrease.some((entry) => entry.data)) {\n    return null\n  }\n\n  return (\n    <Card my=\"16px\">\n      <Text ml=\"16px\" mt=\"8px\">\n        {t('Top Movers')}\n      </Text>\n      <ScrollableRow ref={increaseRef}>\n        {topPriceIncrease.map((entry) =>\n          entry.data ? <DataCard key={`top-card-token-${entry.data?.address}`} tokenData={entry.data} /> : null,\n        )}\n      </ScrollableRow>\n    </Card>\n  )\n}\n\nexport default TopTokenMovers\n"]},"metadata":{},"sourceType":"module"}