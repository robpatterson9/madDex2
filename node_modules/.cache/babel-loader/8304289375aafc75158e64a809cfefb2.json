{"ast":null,"code":"import _objectSpread from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Suspense}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var SuspenseWithChunkError=/*#__PURE__*/function(_React$Component){_inherits(SuspenseWithChunkError,_React$Component);var _super=_createSuper(SuspenseWithChunkError);function SuspenseWithChunkError(props){var _this;_classCallCheck(this,SuspenseWithChunkError);_this=_super.call(this,props);_this.state={hasError:false};return _this;}_createClass(SuspenseWithChunkError,[{key:\"componentDidCatch\",value:function componentDidCatch(error){var _window$history$state;var isJsChunkLoadError=error.name==='ChunkLoadError';var isCssChunkLoadError=error.code==='CSS_CHUNK_LOAD_FAILED';var isChunkLoadError=isJsChunkLoadError||isCssChunkLoadError;// Save a flag on the window object indicating that we have already had a chunk error.\n// This prevents infinite reloads\nvar isRecoveringFromChunkError=!!((_window$history$state=window.history.state)===null||_window$history$state===void 0?void 0:_window$history$state.isRecoveringFromChunkError);// If was a chunk load error, refresh the page\nif(isChunkLoadError&&!isRecoveringFromChunkError){var nextState=_objectSpread(_objectSpread({},window.history.state),{},{isRecoveringFromChunkError:true});window.history.replaceState(nextState,'');window.location.reload();return;}throw error;}},{key:\"render\",value:function render(){var hasError=this.state.hasError;var fallback=this.props.fallback;if(hasError){return fallback;}return/*#__PURE__*/_jsx(Suspense,_objectSpread({},this.props));}}],[{key:\"getDerivedStateFromError\",value:function getDerivedStateFromError(){// Update state so the next render will show the fallback UI.\nreturn{hasError:true};}}]);return SuspenseWithChunkError;}(React.Component);export default SuspenseWithChunkError;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/components/SuspenseWithChunkError/index.tsx"],"names":["React","Suspense","SuspenseWithChunkError","props","state","hasError","error","isJsChunkLoadError","name","isCssChunkLoadError","code","isChunkLoadError","isRecoveringFromChunkError","window","history","nextState","replaceState","location","reload","fallback","Component"],"mappings":"uuBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAA+C,OAA/C,C,8CAMMC,CAAAA,sB,4IACJ,gCAAYC,KAAZ,CAAmB,wDACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,QAAQ,CAAE,KAAZ,CAAb,CAFiB,aAGlB,C,oEAOD,2BAAkBC,KAAlB,CAAyB,2BACvB,GAAMC,CAAAA,kBAAkB,CAAGD,KAAK,CAACE,IAAN,GAAe,gBAA1C,CACA,GAAMC,CAAAA,mBAAmB,CAAGH,KAAK,CAACI,IAAN,GAAe,uBAA3C,CACA,GAAMC,CAAAA,gBAAgB,CAAGJ,kBAAkB,EAAIE,mBAA/C,CAEA;AACA;AACA,GAAMG,CAAAA,0BAA0B,CAAG,CAAC,yBAACC,MAAM,CAACC,OAAP,CAAeV,KAAhB,gDAAC,sBAAsBQ,0BAAvB,CAApC,CAEA;AACA,GAAID,gBAAgB,EAAI,CAACC,0BAAzB,CAAqD,CACnD,GAAMG,CAAAA,SAAS,gCAAQF,MAAM,CAACC,OAAP,CAAeV,KAAvB,MAA8BQ,0BAA0B,CAAE,IAA1D,EAAf,CACAC,MAAM,CAACC,OAAP,CAAeE,YAAf,CAA4BD,SAA5B,CAAuC,EAAvC,EACAF,MAAM,CAACI,QAAP,CAAgBC,MAAhB,GACA,OACD,CAED,KAAMZ,CAAAA,KAAN,CACD,C,sBAED,iBAAS,CACP,GAAQD,CAAAA,QAAR,CAAqB,KAAKD,KAA1B,CAAQC,QAAR,CACA,GAAQc,CAAAA,QAAR,CAAqB,KAAKhB,KAA1B,CAAQgB,QAAR,CAEA,GAAId,QAAJ,CAAc,CACZ,MAAOc,CAAAA,QAAP,CACD,CAED,mBAAO,KAAC,QAAD,kBAAc,KAAKhB,KAAnB,EAAP,CACD,C,0CAlCD,mCAAkC,CAChC;AACA,MAAO,CAAEE,QAAQ,CAAE,IAAZ,CAAP,CACD,C,oCATkCL,KAAK,CAACoB,S,EA2C3C,cAAelB,CAAAA,sBAAf","sourcesContent":["import React, { Suspense, SuspenseProps } from 'react'\n\ninterface State {\n  hasError: boolean\n}\n\nclass SuspenseWithChunkError extends React.Component<SuspenseProps, State> {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError() {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true }\n  }\n\n  componentDidCatch(error) {\n    const isJsChunkLoadError = error.name === 'ChunkLoadError'\n    const isCssChunkLoadError = error.code === 'CSS_CHUNK_LOAD_FAILED'\n    const isChunkLoadError = isJsChunkLoadError || isCssChunkLoadError\n\n    // Save a flag on the window object indicating that we have already had a chunk error.\n    // This prevents infinite reloads\n    const isRecoveringFromChunkError = !!window.history.state?.isRecoveringFromChunkError\n\n    // If was a chunk load error, refresh the page\n    if (isChunkLoadError && !isRecoveringFromChunkError) {\n      const nextState = { ...window.history.state, isRecoveringFromChunkError: true }\n      window.history.replaceState(nextState, '')\n      window.location.reload()\n      return\n    }\n\n    throw error\n  }\n\n  render() {\n    const { hasError } = this.state\n    const { fallback } = this.props\n\n    if (hasError) {\n      return fallback\n    }\n\n    return <Suspense {...this.props} />\n  }\n}\n\nexport default SuspenseWithChunkError\n"]},"metadata":{},"sourceType":"module"}