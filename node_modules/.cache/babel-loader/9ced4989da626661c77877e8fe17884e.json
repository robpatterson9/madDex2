{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';/**\n * Use this hook when you want to animate something when it appears on the screen (e.g. when some prop set to true)\n * but when its not on the screen you want it to be fully unmounted and not just hidden or height 0.\n * This is especially useful when you have a table of 100s rows and each row has expandable element that appears on click.\n * If you just set the expanding animation while keeping inactive elements mounted all those 100 elements will load the DOM,\n * and if they all receive updates via props you're looking at 100 DOM updates for hidden elements.\n * This hook \"shows\" element immediately when the isMounted is true\n * but keeps element mounted for delayTime to let unmounting animation happen, after which you unmount element completely.\n * delayTime should be the same as animation time in most cases.\n */var useDelayedUnmount=function useDelayedUnmount(isMounted,delayTime){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),shouldRender=_useState2[0],setShouldRender=_useState2[1];useEffect(function(){var timeoutId;if(isMounted&&!shouldRender){setShouldRender(true);}else if(!isMounted&&shouldRender){timeoutId=setTimeout(function(){return setShouldRender(false);},delayTime);}return function(){return clearTimeout(timeoutId);};},[isMounted,delayTime,shouldRender]);return shouldRender;};export default useDelayedUnmount;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/hooks/useDelayedUnmount.ts"],"names":["useState","useEffect","useDelayedUnmount","isMounted","delayTime","shouldRender","setShouldRender","timeoutId","setTimeout","clearTimeout"],"mappings":"wJAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,SAAD,CAAqBC,SAArB,CAA2C,CACnE,cAAwCJ,QAAQ,CAAC,KAAD,CAAhD,wCAAOK,YAAP,eAAqBC,eAArB,eAEAL,SAAS,CAAC,UAAM,CACd,GAAIM,CAAAA,SAAJ,CACA,GAAIJ,SAAS,EAAI,CAACE,YAAlB,CAAgC,CAC9BC,eAAe,CAAC,IAAD,CAAf,CACD,CAFD,IAEO,IAAI,CAACH,SAAD,EAAcE,YAAlB,CAAgC,CACrCE,SAAS,CAAGC,UAAU,CAAC,iBAAMF,CAAAA,eAAe,CAAC,KAAD,CAArB,EAAD,CAA+BF,SAA/B,CAAtB,CACD,CACD,MAAO,kBAAMK,CAAAA,YAAY,CAACF,SAAD,CAAlB,EAAP,CACD,CARQ,CAQN,CAACJ,SAAD,CAAYC,SAAZ,CAAuBC,YAAvB,CARM,CAAT,CASA,MAAOA,CAAAA,YAAP,CACD,CAbD,CAeA,cAAeH,CAAAA,iBAAf","sourcesContent":["import { useState, useEffect } from 'react'\n\n/**\n * Use this hook when you want to animate something when it appears on the screen (e.g. when some prop set to true)\n * but when its not on the screen you want it to be fully unmounted and not just hidden or height 0.\n * This is especially useful when you have a table of 100s rows and each row has expandable element that appears on click.\n * If you just set the expanding animation while keeping inactive elements mounted all those 100 elements will load the DOM,\n * and if they all receive updates via props you're looking at 100 DOM updates for hidden elements.\n * This hook \"shows\" element immediately when the isMounted is true\n * but keeps element mounted for delayTime to let unmounting animation happen, after which you unmount element completely.\n * delayTime should be the same as animation time in most cases.\n */\nconst useDelayedUnmount = (isMounted: boolean, delayTime: number) => {\n  const [shouldRender, setShouldRender] = useState(false)\n\n  useEffect(() => {\n    let timeoutId: ReturnType<typeof setTimeout>\n    if (isMounted && !shouldRender) {\n      setShouldRender(true)\n    } else if (!isMounted && shouldRender) {\n      timeoutId = setTimeout(() => setShouldRender(false), delayTime)\n    }\n    return () => clearTimeout(timeoutId)\n  }, [isMounted, delayTime, shouldRender])\n  return shouldRender\n}\n\nexport default useDelayedUnmount\n"]},"metadata":{},"sourceType":"module"}