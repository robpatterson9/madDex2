{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useRef,useState,useEffect,useMemo}from'react';import styled from'styled-components';import{Text,Input,Flex,Skeleton,useMatchBreakpoints}from'@pancakeswap/uikit';import useFetchSearchResults from'state/info/queries/search';import{CurrencyLogo,DoubleCurrencyLogo}from'views/Info/components/CurrencyLogo';import{formatAmount}from'views/Info/utils/formatInfoNumbers';import{useWatchlistTokens,useWatchlistPools}from'state/user/hooks';import SaveIcon from'views/Info/components/SaveIcon';import{useHistory}from'react-router-dom';import{usePoolDatas,useTokenDatas}from'state/info/hooks';import{useTranslation}from'contexts/Localization';import useDebounce from'hooks/useDebounce';import{MINIMUM_SEARCH_CHARACTERS}from'config/constants/info';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: relative;\\n  z-index: 30;\\n  width: 100%;\\n\"])));var StyledInput=styled(Input)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  z-index: 9999;\\n  border: 1px solid \",\";\\n\"])),function(_ref){var theme=_ref.theme;return theme.colors.inputSecondary;});var Menu=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  z-index: 9999;\\n  width: 100%;\\n  top: 50px;\\n  max-height: 400px;\\n  overflow: auto;\\n  right: 0;\\n  padding: 1.5rem;\\n  padding-bottom: 2.5rem;\\n  position: absolute;\\n  background: \",\";\\n  border-radius: 8px;\\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\\n    0px 24px 32px rgba(0, 0, 0, 0.04);\\n  display: \",\";\\n  border: 1px solid \",\";\\n  margin-top: 4px;\\n  \",\" {\\n    margin-top: 0;\\n    width: 500px;\\n    max-height: 600px;\\n  }\\n  \",\" {\\n    margin-top: 0;\\n    width: 800px;\\n    max-height: 600px;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.colors.background;},function(_ref3){var hide=_ref3.hide;return hide&&'none';},function(_ref4){var theme=_ref4.theme;return theme.colors.secondary;},function(_ref5){var theme=_ref5.theme;return theme.mediaQueries.sm;},function(_ref6){var theme=_ref6.theme;return theme.mediaQueries.md;});var Blackout=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  min-height: 100vh;\\n  width: 100vw;\\n  z-index: 10;\\n  background-color: black;\\n  opacity: 0.7;\\n  left: 0;\\n  top: 0;\\n\"])));var ResponsiveGrid=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-gap: 1em;\\n  grid-template-columns: 1fr;\\n  margin: 8px 0;\\n  align-items: center;\\n  \",\" {\\n    grid-template-columns: 1.5fr repeat(3, 1fr);\\n  }\\n\"])),function(_ref7){var theme=_ref7.theme;return theme.mediaQueries.sm;});var Break=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  height: 1px;\\n  background-color: \",\";\\n  width: 100%;\\n  margin: 16px 0;\\n\"])),function(_ref8){var theme=_ref8.theme;return theme.colors.cardBorder;});var HoverText=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  display: \",\";\\n  margin-top: 16px;\\n  :hover {\\n    cursor: pointer;\\n    opacity: 0.6;\\n  }\\n\"])),function(_ref9){var theme=_ref9.theme;return theme.colors.secondary;},function(_ref10){var hide=_ref10.hide;return hide?'none':'block';});var HoverRowLink=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  :hover {\\n    cursor: pointer;\\n    opacity: 0.6;\\n  }\\n\"])));var OptionButton=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  width: fit-content;\\n  padding: 4px 8px;\\n  border-radius: 8px;\\n  display: flex;\\n  font-size: 12px;\\n  font-weight: 600;\\n  margin-right: 10px;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: \",\";\\n  color: \",\";\\n  :hover {\\n    opacity: 0.6;\\n    cursor: pointer;\\n  }\\n\"])),function(_ref11){var theme=_ref11.theme,enabled=_ref11.enabled;return enabled?theme.colors.primary:'transparent';},function(_ref12){var theme=_ref12.theme,enabled=_ref12.enabled;return enabled?theme.card.background:theme.colors.secondary;});var tokenIncludesSearchTerm=function tokenIncludesSearchTerm(token,value){return token.address.toLowerCase().includes(value.toLowerCase())||token.symbol.toLowerCase().includes(value.toLowerCase())||token.name.toLowerCase().includes(value.toLowerCase());};var poolIncludesSearchTerm=function poolIncludesSearchTerm(pool,value){return pool.address.toLowerCase().includes(value.toLowerCase())||tokenIncludesSearchTerm(pool.token0,value)||tokenIncludesSearchTerm(pool.token1,value);};var Search=function Search(){var history=useHistory();var _useMatchBreakpoints=useMatchBreakpoints(),isXs=_useMatchBreakpoints.isXs,isSm=_useMatchBreakpoints.isSm;var _useTranslation=useTranslation(),t=_useTranslation.t;var inputRef=useRef(null);var menuRef=useRef(null);var showMoreRef=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenu=_useState2[0],setShowMenu=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var debouncedSearchTerm=useDebounce(value,600);var _useFetchSearchResult=useFetchSearchResults(debouncedSearchTerm),tokens=_useFetchSearchResult.tokens,pools=_useFetchSearchResult.pools,tokensLoading=_useFetchSearchResult.tokensLoading,poolsLoading=_useFetchSearchResult.poolsLoading,error=_useFetchSearchResult.error;var _useState5=useState(3),_useState6=_slicedToArray(_useState5,2),tokensShown=_useState6[0],setTokensShown=_useState6[1];var _useState7=useState(3),_useState8=_slicedToArray(_useState7,2),poolsShown=_useState8[0],setPoolsShown=_useState8[1];useEffect(function(){setTokensShown(3);setPoolsShown(3);},[debouncedSearchTerm]);var handleOutsideClick=function handleOutsideClick(e){var menuClick=menuRef.current&&menuRef.current.contains(e.target);var inputCLick=inputRef.current&&inputRef.current.contains(e.target);var showMoreClick=showMoreRef.current&&showMoreRef.current.contains(e.target);if(!menuClick&&!inputCLick&&!showMoreClick){setPoolsShown(3);setTokensShown(3);setShowMenu(false);}};useEffect(function(){if(showMenu){document.addEventListener('click',handleOutsideClick);document.querySelector('body').style.overflow='hidden';}else{document.removeEventListener('click',handleOutsideClick);document.querySelector('body').style.overflow='visible';}},[showMenu]);// watchlist\nvar _useWatchlistTokens=useWatchlistTokens(),_useWatchlistTokens2=_slicedToArray(_useWatchlistTokens,2),savedTokens=_useWatchlistTokens2[0],addSavedToken=_useWatchlistTokens2[1];var _useWatchlistPools=useWatchlistPools(),_useWatchlistPools2=_slicedToArray(_useWatchlistPools,2),savedPools=_useWatchlistPools2[0],addSavedPool=_useWatchlistPools2[1];var handleItemClick=function handleItemClick(to){setShowMenu(false);setPoolsShown(3);setTokensShown(3);history.push(to);};// get date for watchlist\nvar watchListTokenData=useTokenDatas(savedTokens);var watchListTokenLoading=watchListTokenData.length!==savedTokens.length;var watchListPoolData=usePoolDatas(savedPools);var watchListPoolLoading=watchListPoolData.length!==savedPools.length;// filter on view\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showWatchlist=_useState10[0],setShowWatchlist=_useState10[1];var tokensForList=useMemo(function(){if(showWatchlist){return watchListTokenData.filter(function(token){return tokenIncludesSearchTerm(token,value);});}return tokens.sort(function(t0,t1){return t0.volumeUSD>t1.volumeUSD?-1:1;});},[showWatchlist,tokens,watchListTokenData,value]);var poolForList=useMemo(function(){if(showWatchlist){return watchListPoolData.filter(function(pool){return poolIncludesSearchTerm(pool,value);});}return pools.sort(function(p0,p1){return p0.volumeUSD>p1.volumeUSD?-1:1;});},[pools,showWatchlist,watchListPoolData,value]);var contentUnderTokenList=function contentUnderTokenList(){var isLoading=showWatchlist?watchListTokenLoading:tokensLoading;var noTokensFound=tokensForList.length===0&&!isLoading&&debouncedSearchTerm.length>=MINIMUM_SEARCH_CHARACTERS;var noWatchlistTokens=tokensForList.length===0&&!isLoading;var showMessage=showWatchlist?noWatchlistTokens:noTokensFound;var noTokensMessage=showWatchlist?t('Saved tokens will appear here'):t('No results');return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading&&/*#__PURE__*/_jsx(Skeleton,{}),showMessage&&/*#__PURE__*/_jsx(Text,{children:noTokensMessage}),!showWatchlist&&debouncedSearchTerm.length<MINIMUM_SEARCH_CHARACTERS&&/*#__PURE__*/_jsx(Text,{children:t('Search pools or tokens')})]});};var contentUnderPoolList=function contentUnderPoolList(){var isLoading=showWatchlist?watchListPoolLoading:poolsLoading;var noPoolsFound=poolForList.length===0&&!poolsLoading&&debouncedSearchTerm.length>=MINIMUM_SEARCH_CHARACTERS;var noWatchlistPools=poolForList.length===0&&!isLoading;var showMessage=showWatchlist?noWatchlistPools:noPoolsFound;var noPoolsMessage=showWatchlist?t('Saved tokens will appear here'):t('No results');return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading&&/*#__PURE__*/_jsx(Skeleton,{}),showMessage&&/*#__PURE__*/_jsx(Text,{children:noPoolsMessage}),!showWatchlist&&debouncedSearchTerm.length<MINIMUM_SEARCH_CHARACTERS&&/*#__PURE__*/_jsx(Text,{children:t('Search pools or tokens')})]});};return/*#__PURE__*/_jsxs(_Fragment,{children:[showMenu?/*#__PURE__*/_jsx(Blackout,{}):null,/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(StyledInput,{type:\"text\",value:value,onChange:function onChange(e){setValue(e.target.value);},placeholder:t('Search pools or tokens'),ref:inputRef,onFocus:function onFocus(){setShowMenu(true);}}),/*#__PURE__*/_jsxs(Menu,{hide:!showMenu,ref:menuRef,children:[/*#__PURE__*/_jsxs(Flex,{mb:\"16px\",children:[/*#__PURE__*/_jsx(OptionButton,{enabled:!showWatchlist,onClick:function onClick(){return setShowWatchlist(false);},children:t('Search')}),/*#__PURE__*/_jsx(OptionButton,{enabled:showWatchlist,onClick:function onClick(){return setShowWatchlist(true);},children:t('Watchlist')})]}),error&&/*#__PURE__*/_jsx(Text,{color:\"failure\",children:t('Error occurred, please try again')}),/*#__PURE__*/_jsxs(ResponsiveGrid,{children:[/*#__PURE__*/_jsx(Text,{bold:true,color:\"secondary\",children:t('Tokens')}),!isXs&&!isSm&&/*#__PURE__*/_jsx(Text,{textAlign:\"end\",fontSize:\"12px\",children:t('Price')}),!isXs&&!isSm&&/*#__PURE__*/_jsx(Text,{textAlign:\"end\",fontSize:\"12px\",children:t('Volume 24H')}),!isXs&&!isSm&&/*#__PURE__*/_jsx(Text,{textAlign:\"end\",fontSize:\"12px\",children:t('Liquidity')})]}),tokensForList.slice(0,tokensShown).map(function(token,i){return/*#__PURE__*/ (// eslint-disable-next-line react/no-array-index-key\n_jsx(HoverRowLink,{onClick:function onClick(){return handleItemClick(\"/info/token/\".concat(token.address));},children:/*#__PURE__*/_jsxs(ResponsiveGrid,{children:[/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{address:token.address}),/*#__PURE__*/_jsx(Text,{ml:\"10px\",children:/*#__PURE__*/_jsx(Text,{children:\"\".concat(token.name,\" (\").concat(token.symbol,\")\")})}),/*#__PURE__*/_jsx(SaveIcon,{id:\"watchlist-icon\",style:{marginLeft:'8px'},fill:savedTokens.includes(token.address),onClick:function onClick(e){e.stopPropagation();addSavedToken(token.address);}})]}),!isXs&&!isSm&&/*#__PURE__*/_jsxs(Text,{textAlign:\"end\",children:[\"$\",formatAmount(token.priceUSD)]}),!isXs&&!isSm&&/*#__PURE__*/_jsxs(Text,{textAlign:\"end\",children:[\"$\",formatAmount(token.volumeUSD)]}),!isXs&&!isSm&&/*#__PURE__*/_jsxs(Text,{textAlign:\"end\",children:[\"$\",formatAmount(token.liquidityUSD)]})]})},i));}),contentUnderTokenList(),/*#__PURE__*/_jsx(HoverText,{onClick:function onClick(){setTokensShown(tokensShown+5);},hide:tokensForList.length<=tokensShown,ref:showMoreRef,children:t('See more...')}),/*#__PURE__*/_jsx(Break,{}),/*#__PURE__*/_jsxs(ResponsiveGrid,{children:[/*#__PURE__*/_jsx(Text,{bold:true,color:\"secondary\",mb:\"8px\",children:t('Pools')}),!isXs&&!isSm&&/*#__PURE__*/_jsx(Text,{textAlign:\"end\",fontSize:\"12px\",children:t('Volume 24H')}),!isXs&&!isSm&&/*#__PURE__*/_jsx(Text,{textAlign:\"end\",fontSize:\"12px\",children:t('Volume 7D')}),!isXs&&!isSm&&/*#__PURE__*/_jsx(Text,{textAlign:\"end\",fontSize:\"12px\",children:t('Liquidity')})]}),poolForList.slice(0,poolsShown).map(function(p,i){return/*#__PURE__*/ (// eslint-disable-next-line react/no-array-index-key\n_jsx(HoverRowLink,{onClick:function onClick(){return handleItemClick(\"/info/pool/\".concat(p.address));},children:/*#__PURE__*/_jsxs(ResponsiveGrid,{children:[/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(DoubleCurrencyLogo,{address0:p.token0.address,address1:p.token1.address}),/*#__PURE__*/_jsx(Text,{ml:\"10px\",style:{whiteSpace:'nowrap'},children:/*#__PURE__*/_jsx(Text,{children:\"\".concat(p.token0.symbol,\" / \").concat(p.token1.symbol)})}),/*#__PURE__*/_jsx(SaveIcon,{id:\"watchlist-icon\",style:{marginLeft:'10px'},fill:savedPools.includes(p.address),onClick:function onClick(e){e.stopPropagation();addSavedPool(p.address);}})]}),!isXs&&!isSm&&/*#__PURE__*/_jsxs(Text,{textAlign:\"end\",children:[\"$\",formatAmount(p.volumeUSD)]}),!isXs&&!isSm&&/*#__PURE__*/_jsxs(Text,{textAlign:\"end\",children:[\"$\",formatAmount(p.volumeUSDWeek)]}),!isXs&&!isSm&&/*#__PURE__*/_jsxs(Text,{textAlign:\"end\",children:[\"$\",formatAmount(p.liquidityUSD)]})]})},i));}),contentUnderPoolList(),/*#__PURE__*/_jsx(HoverText,{onClick:function onClick(){setPoolsShown(poolsShown+5);},hide:poolForList.length<=poolsShown,ref:showMoreRef,children:t('See more...')})]})]})]});};export default Search;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Info/components/InfoSearch/index.tsx"],"names":["React","useRef","useState","useEffect","useMemo","styled","Text","Input","Flex","Skeleton","useMatchBreakpoints","useFetchSearchResults","CurrencyLogo","DoubleCurrencyLogo","formatAmount","useWatchlistTokens","useWatchlistPools","SaveIcon","useHistory","usePoolDatas","useTokenDatas","useTranslation","useDebounce","MINIMUM_SEARCH_CHARACTERS","Container","div","StyledInput","theme","colors","inputSecondary","Menu","background","hide","secondary","mediaQueries","sm","md","Blackout","ResponsiveGrid","Break","cardBorder","HoverText","HoverRowLink","OptionButton","enabled","primary","card","tokenIncludesSearchTerm","token","value","address","toLowerCase","includes","symbol","name","poolIncludesSearchTerm","pool","token0","token1","Search","history","isXs","isSm","t","inputRef","menuRef","showMoreRef","showMenu","setShowMenu","setValue","debouncedSearchTerm","tokens","pools","tokensLoading","poolsLoading","error","tokensShown","setTokensShown","poolsShown","setPoolsShown","handleOutsideClick","e","menuClick","current","contains","target","inputCLick","showMoreClick","document","addEventListener","querySelector","style","overflow","removeEventListener","savedTokens","addSavedToken","savedPools","addSavedPool","handleItemClick","to","push","watchListTokenData","watchListTokenLoading","length","watchListPoolData","watchListPoolLoading","showWatchlist","setShowWatchlist","tokensForList","filter","sort","t0","t1","volumeUSD","poolForList","p0","p1","contentUnderTokenList","isLoading","noTokensFound","noWatchlistTokens","showMessage","noTokensMessage","contentUnderPoolList","noPoolsFound","noWatchlistPools","noPoolsMessage","slice","map","i","marginLeft","stopPropagation","priceUSD","liquidityUSD","p","whiteSpace","volumeUSDWeek"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect, useMemo } from 'react'\nimport styled from 'styled-components'\nimport { Text, Input, Flex, Skeleton, useMatchBreakpoints } from '@pancakeswap/uikit'\nimport useFetchSearchResults from 'state/info/queries/search'\nimport { CurrencyLogo, DoubleCurrencyLogo } from 'views/Info/components/CurrencyLogo'\nimport { formatAmount } from 'views/Info/utils/formatInfoNumbers'\nimport { useWatchlistTokens, useWatchlistPools } from 'state/user/hooks'\nimport SaveIcon from 'views/Info/components/SaveIcon'\nimport { useHistory } from 'react-router-dom'\nimport { usePoolDatas, useTokenDatas } from 'state/info/hooks'\nimport { useTranslation } from 'contexts/Localization'\nimport useDebounce from 'hooks/useDebounce'\nimport { MINIMUM_SEARCH_CHARACTERS } from 'config/constants/info'\nimport { PoolData } from 'state/info/types'\n\nconst Container = styled.div`\n  position: relative;\n  z-index: 30;\n  width: 100%;\n`\n\nconst StyledInput = styled(Input)`\n  z-index: 9999;\n  border: 1px solid ${({ theme }) => theme.colors.inputSecondary};\n`\n\nconst Menu = styled.div<{ hide: boolean }>`\n  display: flex;\n  flex-direction: column;\n  z-index: 9999;\n  width: 100%;\n  top: 50px;\n  max-height: 400px;\n  overflow: auto;\n  right: 0;\n  padding: 1.5rem;\n  padding-bottom: 2.5rem;\n  position: absolute;\n  background: ${({ theme }) => theme.colors.background};\n  border-radius: 8px;\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.04), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.04);\n  display: ${({ hide }) => hide && 'none'};\n  border: 1px solid ${({ theme }) => theme.colors.secondary};\n  margin-top: 4px;\n  ${({ theme }) => theme.mediaQueries.sm} {\n    margin-top: 0;\n    width: 500px;\n    max-height: 600px;\n  }\n  ${({ theme }) => theme.mediaQueries.md} {\n    margin-top: 0;\n    width: 800px;\n    max-height: 600px;\n  }\n`\n\nconst Blackout = styled.div`\n  position: absolute;\n  min-height: 100vh;\n  width: 100vw;\n  z-index: 10;\n  background-color: black;\n  opacity: 0.7;\n  left: 0;\n  top: 0;\n`\n\nconst ResponsiveGrid = styled.div`\n  display: grid;\n  grid-gap: 1em;\n  grid-template-columns: 1fr;\n  margin: 8px 0;\n  align-items: center;\n  ${({ theme }) => theme.mediaQueries.sm} {\n    grid-template-columns: 1.5fr repeat(3, 1fr);\n  }\n`\n\nconst Break = styled.div`\n  height: 1px;\n  background-color: ${({ theme }) => theme.colors.cardBorder};\n  width: 100%;\n  margin: 16px 0;\n`\n\nconst HoverText = styled.div<{ hide: boolean }>`\n  color: ${({ theme }) => theme.colors.secondary};\n  display: ${({ hide }) => (hide ? 'none' : 'block')};\n  margin-top: 16px;\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\nconst HoverRowLink = styled.div`\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\nconst OptionButton = styled.div<{ enabled: boolean }>`\n  width: fit-content;\n  padding: 4px 8px;\n  border-radius: 8px;\n  display: flex;\n  font-size: 12px;\n  font-weight: 600;\n  margin-right: 10px;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ theme, enabled }) => (enabled ? theme.colors.primary : 'transparent')};\n  color: ${({ theme, enabled }) => (enabled ? theme.card.background : theme.colors.secondary)};\n  :hover {\n    opacity: 0.6;\n    cursor: pointer;\n  }\n`\ntype BasicTokenData = {\n  address: string\n  symbol: string\n  name: string\n}\nconst tokenIncludesSearchTerm = (token: BasicTokenData, value: string) => {\n  return (\n    token.address.toLowerCase().includes(value.toLowerCase()) ||\n    token.symbol.toLowerCase().includes(value.toLowerCase()) ||\n    token.name.toLowerCase().includes(value.toLowerCase())\n  )\n}\n\nconst poolIncludesSearchTerm = (pool: PoolData, value: string) => {\n  return (\n    pool.address.toLowerCase().includes(value.toLowerCase()) ||\n    tokenIncludesSearchTerm(pool.token0, value) ||\n    tokenIncludesSearchTerm(pool.token1, value)\n  )\n}\n\nconst Search = () => {\n  const history = useHistory()\n  const { isXs, isSm } = useMatchBreakpoints()\n  const { t } = useTranslation()\n\n  const inputRef = useRef<HTMLInputElement>(null)\n  const menuRef = useRef<HTMLDivElement>(null)\n  const showMoreRef = useRef<HTMLDivElement>(null)\n\n  const [showMenu, setShowMenu] = useState(false)\n  const [value, setValue] = useState('')\n  const debouncedSearchTerm = useDebounce(value, 600)\n\n  const { tokens, pools, tokensLoading, poolsLoading, error } = useFetchSearchResults(debouncedSearchTerm)\n\n  const [tokensShown, setTokensShown] = useState(3)\n  const [poolsShown, setPoolsShown] = useState(3)\n\n  useEffect(() => {\n    setTokensShown(3)\n    setPoolsShown(3)\n  }, [debouncedSearchTerm])\n\n  const handleOutsideClick = (e: any) => {\n    const menuClick = menuRef.current && menuRef.current.contains(e.target)\n    const inputCLick = inputRef.current && inputRef.current.contains(e.target)\n    const showMoreClick = showMoreRef.current && showMoreRef.current.contains(e.target)\n\n    if (!menuClick && !inputCLick && !showMoreClick) {\n      setPoolsShown(3)\n      setTokensShown(3)\n      setShowMenu(false)\n    }\n  }\n\n  useEffect(() => {\n    if (showMenu) {\n      document.addEventListener('click', handleOutsideClick)\n      document.querySelector('body').style.overflow = 'hidden'\n    } else {\n      document.removeEventListener('click', handleOutsideClick)\n      document.querySelector('body').style.overflow = 'visible'\n    }\n  }, [showMenu])\n\n  // watchlist\n  const [savedTokens, addSavedToken] = useWatchlistTokens()\n  const [savedPools, addSavedPool] = useWatchlistPools()\n\n  const handleItemClick = (to: string) => {\n    setShowMenu(false)\n    setPoolsShown(3)\n    setTokensShown(3)\n    history.push(to)\n  }\n\n  // get date for watchlist\n  const watchListTokenData = useTokenDatas(savedTokens)\n  const watchListTokenLoading = watchListTokenData.length !== savedTokens.length\n  const watchListPoolData = usePoolDatas(savedPools)\n  const watchListPoolLoading = watchListPoolData.length !== savedPools.length\n\n  // filter on view\n  const [showWatchlist, setShowWatchlist] = useState(false)\n  const tokensForList = useMemo(() => {\n    if (showWatchlist) {\n      return watchListTokenData.filter((token) => tokenIncludesSearchTerm(token, value))\n    }\n    return tokens.sort((t0, t1) => (t0.volumeUSD > t1.volumeUSD ? -1 : 1))\n  }, [showWatchlist, tokens, watchListTokenData, value])\n\n  const poolForList = useMemo(() => {\n    if (showWatchlist) {\n      return watchListPoolData.filter((pool) => poolIncludesSearchTerm(pool, value))\n    }\n    return pools.sort((p0, p1) => (p0.volumeUSD > p1.volumeUSD ? -1 : 1))\n  }, [pools, showWatchlist, watchListPoolData, value])\n\n  const contentUnderTokenList = () => {\n    const isLoading = showWatchlist ? watchListTokenLoading : tokensLoading\n    const noTokensFound =\n      tokensForList.length === 0 && !isLoading && debouncedSearchTerm.length >= MINIMUM_SEARCH_CHARACTERS\n    const noWatchlistTokens = tokensForList.length === 0 && !isLoading\n    const showMessage = showWatchlist ? noWatchlistTokens : noTokensFound\n    const noTokensMessage = showWatchlist ? t('Saved tokens will appear here') : t('No results')\n    return (\n      <>\n        {isLoading && <Skeleton />}\n        {showMessage && <Text>{noTokensMessage}</Text>}\n        {!showWatchlist && debouncedSearchTerm.length < MINIMUM_SEARCH_CHARACTERS && (\n          <Text>{t('Search pools or tokens')}</Text>\n        )}\n      </>\n    )\n  }\n\n  const contentUnderPoolList = () => {\n    const isLoading = showWatchlist ? watchListPoolLoading : poolsLoading\n    const noPoolsFound =\n      poolForList.length === 0 && !poolsLoading && debouncedSearchTerm.length >= MINIMUM_SEARCH_CHARACTERS\n    const noWatchlistPools = poolForList.length === 0 && !isLoading\n    const showMessage = showWatchlist ? noWatchlistPools : noPoolsFound\n    const noPoolsMessage = showWatchlist ? t('Saved tokens will appear here') : t('No results')\n    return (\n      <>\n        {isLoading && <Skeleton />}\n        {showMessage && <Text>{noPoolsMessage}</Text>}\n        {!showWatchlist && debouncedSearchTerm.length < MINIMUM_SEARCH_CHARACTERS && (\n          <Text>{t('Search pools or tokens')}</Text>\n        )}\n      </>\n    )\n  }\n\n  return (\n    <>\n      {showMenu ? <Blackout /> : null}\n      <Container>\n        <StyledInput\n          type=\"text\"\n          value={value}\n          onChange={(e) => {\n            setValue(e.target.value)\n          }}\n          placeholder={t('Search pools or tokens')}\n          ref={inputRef}\n          onFocus={() => {\n            setShowMenu(true)\n          }}\n        />\n        <Menu hide={!showMenu} ref={menuRef}>\n          <Flex mb=\"16px\">\n            <OptionButton enabled={!showWatchlist} onClick={() => setShowWatchlist(false)}>\n              {t('Search')}\n            </OptionButton>\n            <OptionButton enabled={showWatchlist} onClick={() => setShowWatchlist(true)}>\n              {t('Watchlist')}\n            </OptionButton>\n          </Flex>\n          {error && <Text color=\"failure\">{t('Error occurred, please try again')}</Text>}\n\n          <ResponsiveGrid>\n            <Text bold color=\"secondary\">\n              {t('Tokens')}\n            </Text>\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Price')}\n              </Text>\n            )}\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Volume 24H')}\n              </Text>\n            )}\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Liquidity')}\n              </Text>\n            )}\n          </ResponsiveGrid>\n          {tokensForList.slice(0, tokensShown).map((token, i) => {\n            return (\n              // eslint-disable-next-line react/no-array-index-key\n              <HoverRowLink onClick={() => handleItemClick(`/info/token/${token.address}`)} key={i}>\n                <ResponsiveGrid>\n                  <Flex>\n                    <CurrencyLogo address={token.address} />\n                    <Text ml=\"10px\">\n                      <Text>{`${token.name} (${token.symbol})`}</Text>\n                    </Text>\n                    <SaveIcon\n                      id=\"watchlist-icon\"\n                      style={{ marginLeft: '8px' }}\n                      fill={savedTokens.includes(token.address)}\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        addSavedToken(token.address)\n                      }}\n                    />\n                  </Flex>\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(token.priceUSD)}</Text>}\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(token.volumeUSD)}</Text>}\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(token.liquidityUSD)}</Text>}\n                </ResponsiveGrid>\n              </HoverRowLink>\n            )\n          })}\n          {contentUnderTokenList()}\n          <HoverText\n            onClick={() => {\n              setTokensShown(tokensShown + 5)\n            }}\n            hide={tokensForList.length <= tokensShown}\n            ref={showMoreRef}\n          >\n            {t('See more...')}\n          </HoverText>\n\n          <Break />\n          <ResponsiveGrid>\n            <Text bold color=\"secondary\" mb=\"8px\">\n              {t('Pools')}\n            </Text>\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Volume 24H')}\n              </Text>\n            )}\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Volume 7D')}\n              </Text>\n            )}\n            {!isXs && !isSm && (\n              <Text textAlign=\"end\" fontSize=\"12px\">\n                {t('Liquidity')}\n              </Text>\n            )}\n          </ResponsiveGrid>\n          {poolForList.slice(0, poolsShown).map((p, i) => {\n            return (\n              // eslint-disable-next-line react/no-array-index-key\n              <HoverRowLink onClick={() => handleItemClick(`/info/pool/${p.address}`)} key={i}>\n                <ResponsiveGrid>\n                  <Flex>\n                    <DoubleCurrencyLogo address0={p.token0.address} address1={p.token1.address} />\n                    <Text ml=\"10px\" style={{ whiteSpace: 'nowrap' }}>\n                      <Text>{`${p.token0.symbol} / ${p.token1.symbol}`}</Text>\n                    </Text>\n                    <SaveIcon\n                      id=\"watchlist-icon\"\n                      style={{ marginLeft: '10px' }}\n                      fill={savedPools.includes(p.address)}\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        addSavedPool(p.address)\n                      }}\n                    />\n                  </Flex>\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(p.volumeUSD)}</Text>}\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(p.volumeUSDWeek)}</Text>}\n                  {!isXs && !isSm && <Text textAlign=\"end\">${formatAmount(p.liquidityUSD)}</Text>}\n                </ResponsiveGrid>\n              </HoverRowLink>\n            )\n          })}\n          {contentUnderPoolList()}\n          <HoverText\n            onClick={() => {\n              setPoolsShown(poolsShown + 5)\n            }}\n            hide={poolForList.length <= poolsShown}\n            ref={showMoreRef}\n          >\n            {t('See more...')}\n          </HoverText>\n        </Menu>\n      </Container>\n    </>\n  )\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}