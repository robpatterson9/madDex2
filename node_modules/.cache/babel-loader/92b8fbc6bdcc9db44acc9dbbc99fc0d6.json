{"ast":null,"code":"import _objectSpread from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useState,useEffect}from'react';import{useTranslation}from'contexts/Localization';import{useWeb3React}from'@web3-react/core';import{useProfile}from'state/profile/hooks';import{Flex,Box,Image}from'@pancakeswap/uikit';import styled from'styled-components';import{useTradingCompetitionContract}from'hooks/useContract';import useTheme from'hooks/useTheme';import{SmartContractPhases,CompetitionPhases,LIVE,FINISHED,CLAIM,OVER,REGISTRATION}from'config/constants/trading-competition/easterPhases';import PageSection from'components/PageSection';import{DARKBG,MIDBLUEBG,MIDBLUEBG_DARK,LIGHTBLUEBG,LIGHTBLUEBG_DARK}from'./pageSectionStyles';import{PrizesIcon,RanksIcon,RulesIcon}from'./svgs';import Countdown from'./components/Countdown';import YourScore from'./components/YourScore';import StormBunny from'./pngs/storm.png';import RibbonWithImage from'./components/RibbonWithImage';import HowToJoin from'./components/HowToJoin';import BattleBanner from'./components/BattleBanner';import BattleCta from'./components/BattleCta';import PrizesInfo from'./components/PrizesInfo';import Rules from'./components/Rules';import TeamRanks from'./components/TeamRanks';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CompetitionPage=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  min-height: calc(100vh - 64px);\\n\"])));var BannerFlex=styled(Flex)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  flex-direction: column;\\n  \",\" {\\n    padding-top: 10px;\\n    flex-direction: row-reverse;\\n    justify-content: space-between;\\n  }\\n\\n  @media screen and (min-width: 1920px) {\\n    padding-top: 32px;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.mediaQueries.xl;});var BattleBannerSection=styled(PageSection)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-top: -32px;\\n  \",\" {\\n    margin-top: -64px;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.mediaQueries.lg;});var BottomBunnyWrapper=styled(Box)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: none;\\n\\n  \",\" {\\n    display: flex;\\n    margin-left: 40px;\\n    width: 147px;\\n    height: 200px;\\n  }\\n\"])),function(_ref3){var theme=_ref3.theme;return theme.mediaQueries.md;});var TradingCompetition=function TradingCompetition(){var profileApiUrl=process.env.REACT_APP_API_PROFILE;var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useProfile=useProfile(),profile=_useProfile.profile,isLoading=_useProfile.isLoading;var _useTheme=useTheme(),isDark=_useTheme.isDark,theme=_useTheme.theme;var tradingCompetitionContract=useTradingCompetitionContract();var _useState=useState(CompetitionPhases.CLAIM),_useState2=_slicedToArray(_useState,2),currentPhase=_useState2[0],setCurrentPhase=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),registrationSuccessful=_useState4[0],setRegistrationSuccessful=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),claimSuccessful=_useState6[0],setClaimSuccessful=_useState6[1];var _useState7=useState({hasRegistered:false,hasUserClaimed:false,userRewardGroup:'0',userCakeRewards:'0',userPointReward:'0',canClaimNFT:false}),_useState8=_slicedToArray(_useState7,2),userTradingInformation=_useState8[0],setUserTradingInformation=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),globalLeaderboardInformation=_useState10[0],setGlobalLeaderboardInformation=_useState10[1];var _useState11=useState({global:0,team:0,volume:0,next_rank:0}),_useState12=_slicedToArray(_useState11,2),userLeaderboardInformation=_useState12[0],setUserLeaderboardInformation=_useState12[1];// 1. Storm\nvar _useState13=useState({teamId:1,leaderboardData:null}),_useState14=_slicedToArray(_useState13,2),team1LeaderboardInformation=_useState14[0],setTeam1LeaderboardInformation=_useState14[1];// 2. Flippers\nvar _useState15=useState({teamId:2,leaderboardData:null}),_useState16=_slicedToArray(_useState15,2),team2LeaderboardInformation=_useState16[0],setTeam2LeaderboardInformation=_useState16[1];// 3. Cakers\nvar _useState17=useState({teamId:3,leaderboardData:null}),_useState18=_slicedToArray(_useState17,2),team3LeaderboardInformation=_useState18[0],setTeam3LeaderboardInformation=_useState18[1];var isCompetitionLive=currentPhase.state===LIVE;var hasCompetitionEnded=currentPhase.state===FINISHED||currentPhase.state===CLAIM||currentPhase.state===OVER;var hasUserClaimed=userTradingInformation.hasUserClaimed,userCakeRewards=userTradingInformation.userCakeRewards,userPointReward=userTradingInformation.userPointReward,canClaimNFT=userTradingInformation.canClaimNFT;var userCanClaimPrizes=currentPhase.state===CLAIM&&!hasUserClaimed&&(userCakeRewards!=='0'||userPointReward!=='0'||canClaimNFT);var finishedAndPrizesClaimed=hasCompetitionEnded&&account&&hasUserClaimed;var finishedAndNothingToClaim=hasCompetitionEnded&&account&&!userCanClaimPrizes;var onRegisterSuccess=function onRegisterSuccess(){setRegistrationSuccessful(true);};var onClaimSuccess=function onClaimSuccess(){setClaimSuccessful(true);};useEffect(function(){var fetchCompetitionInfoContract=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var competitionStatus;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return tradingCompetitionContract.currentStatus();case 2:competitionStatus=_context.sent;setCurrentPhase(SmartContractPhases[competitionStatus]);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchCompetitionInfoContract(){return _ref4.apply(this,arguments);};}();var fetchUserContract=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var user,userObject;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return tradingCompetitionContract.claimInformation(account);case 2:user=_context2.sent;userObject={hasRegistered:user[0],hasUserClaimed:user[1],userRewardGroup:user[2].toString(),userCakeRewards:user[3].toString(),userPointReward:user[4].toString(),canClaimNFT:user[5]};setUserTradingInformation(userObject);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchUserContract(){return _ref5.apply(this,arguments);};}();if(account){fetchUserContract();fetchCompetitionInfoContract();}else{setUserTradingInformation({hasRegistered:false,hasUserClaimed:false,userRewardGroup:'0',userCakeRewards:'0',userPointReward:'0',canClaimNFT:false});}},[account,registrationSuccessful,claimSuccessful,tradingCompetitionContract]);useEffect(function(){var fetchUserTradingStats=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(profileApiUrl,\"/api/users/\").concat(account));case 2:res=_context3.sent;_context3.next=5;return res.json();case 5:data=_context3.sent;setUserLeaderboardInformation(data.leaderboard);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchUserTradingStats(){return _ref6.apply(this,arguments);};}();// If user has not registered, user trading information will not be displayed and should not be fetched\nif(account&&userTradingInformation.hasRegistered){fetchUserTradingStats();}},[account,userTradingInformation,profileApiUrl]);useEffect(function(){var fetchGlobalLeaderboardStats=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(profileApiUrl,\"/api/leaderboard/global\"));case 2:res=_context4.sent;_context4.next=5;return res.json();case 5:data=_context4.sent;setGlobalLeaderboardInformation(data);case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchGlobalLeaderboardStats(){return _ref7.apply(this,arguments);};}();var fetchTeamsLeaderboardStats=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(teamId,callBack){var res,_data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return fetch(\"\".concat(profileApiUrl,\"/api/leaderboard/team/\").concat(teamId));case 3:res=_context5.sent;_context5.next=6;return res.json();case 6:_data=_context5.sent;callBack(_data);_context5.next=13;break;case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](0);console.error(_context5.t0);case 13:case\"end\":return _context5.stop();}}},_callee5,null,[[0,10]]);}));return function fetchTeamsLeaderboardStats(_x,_x2){return _ref8.apply(this,arguments);};}();fetchTeamsLeaderboardStats(1,function(data){return setTeam1LeaderboardInformation(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{leaderboardData:data});});});fetchTeamsLeaderboardStats(2,function(data){return setTeam2LeaderboardInformation(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{leaderboardData:data});});});fetchTeamsLeaderboardStats(3,function(data){return setTeam3LeaderboardInformation(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{leaderboardData:data});});});fetchGlobalLeaderboardStats();},[profileApiUrl]);// Don't hide when loading. Hide if the account is connected && the user hasn't registered && the competition is live or finished\nvar shouldHideCta=!isLoading&&account&&!userTradingInformation.hasRegistered&&(isCompetitionLive||hasCompetitionEnded);return/*#__PURE__*/_jsxs(CompetitionPage,{children:[/*#__PURE__*/_jsx(BattleBannerSection,{background:DARKBG,hasCurvedDivider:false,index:1,children:/*#__PURE__*/_jsxs(BannerFlex,{mb:shouldHideCta?'0px':'48px',children:[/*#__PURE__*/_jsx(Countdown,{currentPhase:currentPhase,hasCompetitionEnded:hasCompetitionEnded}),/*#__PURE__*/_jsx(BattleBanner,{})]})}),/*#__PURE__*/_jsx(PageSection,{containerProps:{style:{marginTop:'-30px'}},background:isDark?MIDBLUEBG_DARK:MIDBLUEBG,concaveDivider:true,clipFill:{light:'#CCD8F0',dark:'#434575'},dividerPosition:\"top\",index:2,dividerComponent:shouldHideCta?null:/*#__PURE__*/_jsx(BattleCta,{userTradingInformation:userTradingInformation,currentPhase:currentPhase,account:account,isCompetitionLive:isCompetitionLive,hasCompetitionEnded:hasCompetitionEnded,userCanClaimPrizes:userCanClaimPrizes,finishedAndPrizesClaimed:finishedAndPrizesClaimed,finishedAndNothingToClaim:finishedAndNothingToClaim,profile:profile,isLoading:isLoading,onRegisterSuccess:onRegisterSuccess,onClaimSuccess:onClaimSuccess}),children:/*#__PURE__*/_jsx(Box,{mt:shouldHideCta?'0px':['94px',null,'36px'],mb:\"64px\",children:currentPhase.state===REGISTRATION?/*#__PURE__*/_jsx(HowToJoin,{}):/*#__PURE__*/_jsx(YourScore,{currentPhase:currentPhase,hasRegistered:userTradingInformation.hasRegistered,userTradingInformation:userTradingInformation,account:account,profile:profile,isLoading:isLoading,userLeaderboardInformation:userLeaderboardInformation,userCanClaimPrizes:userCanClaimPrizes,finishedAndPrizesClaimed:finishedAndPrizesClaimed,finishedAndNothingToClaim:finishedAndNothingToClaim,onClaimSuccess:onClaimSuccess})})}),/*#__PURE__*/_jsx(PageSection,{containerProps:{style:{marginTop:'-30px'}},index:3,concaveDivider:true,clipFill:{light:theme.colors.background},dividerPosition:\"top\",dividerComponent:/*#__PURE__*/_jsx(RibbonWithImage,{imageComponent:/*#__PURE__*/_jsx(RanksIcon,{width:\"175px\"}),ribbonDirection:\"up\",children:t('Team Ranks')}),children:/*#__PURE__*/_jsx(Box,{my:\"64px\",children:/*#__PURE__*/_jsx(TeamRanks,{team1LeaderboardInformation:team1LeaderboardInformation,team2LeaderboardInformation:team2LeaderboardInformation,team3LeaderboardInformation:team3LeaderboardInformation,globalLeaderboardInformation:globalLeaderboardInformation})})}),/*#__PURE__*/_jsx(PageSection,{containerProps:{style:{marginTop:'-30px'}},dividerComponent:/*#__PURE__*/_jsx(RibbonWithImage,{imageComponent:/*#__PURE__*/_jsx(PrizesIcon,{width:\"175px\"}),ribbonDirection:\"up\",children:t('Prizes')}),concaveDivider:true,clipFill:{light:'linear-gradient(139.73deg, #e5fcfe 0%, #ecf6ff 100%)',dark:'linear-gradient(139.73deg, #303d5b 0%, #363457 100%)'},dividerPosition:\"top\",background:isDark?LIGHTBLUEBG_DARK:LIGHTBLUEBG,index:4,children:/*#__PURE__*/_jsx(Box,{my:\"64px\",children:/*#__PURE__*/_jsx(PrizesInfo,{})})}),/*#__PURE__*/_jsx(PageSection,{containerProps:{style:{marginTop:'-1px'}},index:5,dividerPosition:\"top\",clipFill:{light:'linear-gradient(139.73deg, #ecf5ff 0%, #f2effe 100%)',dark:'linear-gradient(139.73deg, #383357 0%, #3d2b53 100%)'},dividerComponent:/*#__PURE__*/_jsx(RibbonWithImage,{imageComponent:/*#__PURE__*/_jsx(RulesIcon,{width:\"175px\"}),ribbonDirection:\"up\",children:t('Rules')}),children:/*#__PURE__*/_jsx(Box,{mt:\"64px\",children:/*#__PURE__*/_jsx(Rules,{})})}),/*#__PURE__*/_jsx(PageSection,{index:6,dividerPosition:\"top\",dividerFill:{light:'#191326'},clipFill:{light:theme.colors.background},background:DARKBG,children:/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",children:[shouldHideCta?null:/*#__PURE__*/_jsx(Flex,{height:\"fit-content\",children:/*#__PURE__*/_jsx(BattleCta,{userTradingInformation:userTradingInformation,currentPhase:currentPhase,account:account,isCompetitionLive:isCompetitionLive,hasCompetitionEnded:hasCompetitionEnded,userCanClaimPrizes:userCanClaimPrizes,finishedAndPrizesClaimed:finishedAndPrizesClaimed,finishedAndNothingToClaim:finishedAndNothingToClaim,profile:profile,isLoading:isLoading,onRegisterSuccess:onRegisterSuccess,onClaimSuccess:onClaimSuccess})}),/*#__PURE__*/_jsx(BottomBunnyWrapper,{children:/*#__PURE__*/_jsx(Image,{src:StormBunny,width:147,height:200})})]})})]});};export default TradingCompetition;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/TradingCompetition/index.tsx"],"names":["React","useState","useEffect","useTranslation","useWeb3React","useProfile","Flex","Box","Image","styled","useTradingCompetitionContract","useTheme","SmartContractPhases","CompetitionPhases","LIVE","FINISHED","CLAIM","OVER","REGISTRATION","PageSection","DARKBG","MIDBLUEBG","MIDBLUEBG_DARK","LIGHTBLUEBG","LIGHTBLUEBG_DARK","PrizesIcon","RanksIcon","RulesIcon","Countdown","YourScore","StormBunny","RibbonWithImage","HowToJoin","BattleBanner","BattleCta","PrizesInfo","Rules","TeamRanks","CompetitionPage","div","BannerFlex","theme","mediaQueries","xl","BattleBannerSection","lg","BottomBunnyWrapper","md","TradingCompetition","profileApiUrl","process","env","REACT_APP_API_PROFILE","account","t","profile","isLoading","isDark","tradingCompetitionContract","currentPhase","setCurrentPhase","registrationSuccessful","setRegistrationSuccessful","claimSuccessful","setClaimSuccessful","hasRegistered","hasUserClaimed","userRewardGroup","userCakeRewards","userPointReward","canClaimNFT","userTradingInformation","setUserTradingInformation","globalLeaderboardInformation","setGlobalLeaderboardInformation","global","team","volume","next_rank","userLeaderboardInformation","setUserLeaderboardInformation","teamId","leaderboardData","team1LeaderboardInformation","setTeam1LeaderboardInformation","team2LeaderboardInformation","setTeam2LeaderboardInformation","team3LeaderboardInformation","setTeam3LeaderboardInformation","isCompetitionLive","state","hasCompetitionEnded","userCanClaimPrizes","finishedAndPrizesClaimed","finishedAndNothingToClaim","onRegisterSuccess","onClaimSuccess","fetchCompetitionInfoContract","currentStatus","competitionStatus","fetchUserContract","claimInformation","user","userObject","toString","fetchUserTradingStats","fetch","res","json","data","leaderboard","fetchGlobalLeaderboardStats","fetchTeamsLeaderboardStats","callBack","console","error","prevState","shouldHideCta","style","marginTop","light","dark","colors","background"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useTranslation } from 'contexts/Localization'\nimport { useWeb3React } from '@web3-react/core'\nimport { useProfile } from 'state/profile/hooks'\nimport { Flex, Box, Image } from '@pancakeswap/uikit'\nimport styled from 'styled-components'\nimport { useTradingCompetitionContract } from 'hooks/useContract'\nimport useTheme from 'hooks/useTheme'\nimport {\n  SmartContractPhases,\n  CompetitionPhases,\n  LIVE,\n  FINISHED,\n  CLAIM,\n  OVER,\n  REGISTRATION,\n} from 'config/constants/trading-competition/easterPhases'\nimport PageSection from 'components/PageSection'\nimport { DARKBG, MIDBLUEBG, MIDBLUEBG_DARK, LIGHTBLUEBG, LIGHTBLUEBG_DARK } from './pageSectionStyles'\nimport { PrizesIcon, RanksIcon, RulesIcon } from './svgs'\nimport Countdown from './components/Countdown'\nimport YourScore from './components/YourScore'\nimport StormBunny from './pngs/storm.png'\nimport RibbonWithImage from './components/RibbonWithImage'\nimport HowToJoin from './components/HowToJoin'\nimport BattleBanner from './components/BattleBanner'\nimport BattleCta from './components/BattleCta'\nimport PrizesInfo from './components/PrizesInfo'\nimport Rules from './components/Rules'\nimport TeamRanks from './components/TeamRanks'\n\nconst CompetitionPage = styled.div`\n  min-height: calc(100vh - 64px);\n`\n\nconst BannerFlex = styled(Flex)`\n  flex-direction: column;\n  ${({ theme }) => theme.mediaQueries.xl} {\n    padding-top: 10px;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n  }\n\n  @media screen and (min-width: 1920px) {\n    padding-top: 32px;\n  }\n`\n\nconst BattleBannerSection = styled(PageSection)`\n  margin-top: -32px;\n  ${({ theme }) => theme.mediaQueries.lg} {\n    margin-top: -64px;\n  }\n`\n\nconst BottomBunnyWrapper = styled(Box)`\n  display: none;\n\n  ${({ theme }) => theme.mediaQueries.md} {\n    display: flex;\n    margin-left: 40px;\n    width: 147px;\n    height: 200px;\n  }\n`\n\nconst TradingCompetition = () => {\n  const profileApiUrl = process.env.REACT_APP_API_PROFILE\n  const { account } = useWeb3React()\n  const { t } = useTranslation()\n  const { profile, isLoading } = useProfile()\n  const { isDark, theme } = useTheme()\n  const tradingCompetitionContract = useTradingCompetitionContract()\n  const [currentPhase, setCurrentPhase] = useState(CompetitionPhases.CLAIM)\n  const [registrationSuccessful, setRegistrationSuccessful] = useState(false)\n  const [claimSuccessful, setClaimSuccessful] = useState(false)\n  const [userTradingInformation, setUserTradingInformation] = useState({\n    hasRegistered: false,\n    hasUserClaimed: false,\n    userRewardGroup: '0',\n    userCakeRewards: '0',\n    userPointReward: '0',\n    canClaimNFT: false,\n  })\n  const [globalLeaderboardInformation, setGlobalLeaderboardInformation] = useState(null)\n  const [userLeaderboardInformation, setUserLeaderboardInformation] = useState({\n    global: 0,\n    team: 0,\n    volume: 0,\n    next_rank: 0,\n  })\n  // 1. Storm\n  const [team1LeaderboardInformation, setTeam1LeaderboardInformation] = useState({ teamId: 1, leaderboardData: null })\n  // 2. Flippers\n  const [team2LeaderboardInformation, setTeam2LeaderboardInformation] = useState({ teamId: 2, leaderboardData: null })\n  // 3. Cakers\n  const [team3LeaderboardInformation, setTeam3LeaderboardInformation] = useState({ teamId: 3, leaderboardData: null })\n\n  const isCompetitionLive = currentPhase.state === LIVE\n  const hasCompetitionEnded =\n    currentPhase.state === FINISHED || currentPhase.state === CLAIM || currentPhase.state === OVER\n\n  const { hasUserClaimed, userCakeRewards, userPointReward, canClaimNFT } = userTradingInformation\n\n  const userCanClaimPrizes =\n    currentPhase.state === CLAIM &&\n    !hasUserClaimed &&\n    (userCakeRewards !== '0' || userPointReward !== '0' || canClaimNFT)\n  const finishedAndPrizesClaimed = hasCompetitionEnded && account && hasUserClaimed\n  const finishedAndNothingToClaim = hasCompetitionEnded && account && !userCanClaimPrizes\n\n  const onRegisterSuccess = () => {\n    setRegistrationSuccessful(true)\n  }\n\n  const onClaimSuccess = () => {\n    setClaimSuccessful(true)\n  }\n\n  useEffect(() => {\n    const fetchCompetitionInfoContract = async () => {\n      const competitionStatus = await tradingCompetitionContract.currentStatus()\n      setCurrentPhase(SmartContractPhases[competitionStatus])\n    }\n\n    const fetchUserContract = async () => {\n      const user = await tradingCompetitionContract.claimInformation(account)\n      const userObject = {\n        hasRegistered: user[0],\n        hasUserClaimed: user[1],\n        userRewardGroup: user[2].toString(),\n        userCakeRewards: user[3].toString(),\n        userPointReward: user[4].toString(),\n        canClaimNFT: user[5],\n      }\n      setUserTradingInformation(userObject)\n    }\n\n    if (account) {\n      fetchUserContract()\n      fetchCompetitionInfoContract()\n    } else {\n      setUserTradingInformation({\n        hasRegistered: false,\n        hasUserClaimed: false,\n        userRewardGroup: '0',\n        userCakeRewards: '0',\n        userPointReward: '0',\n        canClaimNFT: false,\n      })\n    }\n  }, [account, registrationSuccessful, claimSuccessful, tradingCompetitionContract])\n\n  useEffect(() => {\n    const fetchUserTradingStats = async () => {\n      const res = await fetch(`${profileApiUrl}/api/users/${account}`)\n      const data = await res.json()\n      setUserLeaderboardInformation(data.leaderboard)\n    }\n    // If user has not registered, user trading information will not be displayed and should not be fetched\n    if (account && userTradingInformation.hasRegistered) {\n      fetchUserTradingStats()\n    }\n  }, [account, userTradingInformation, profileApiUrl])\n\n  useEffect(() => {\n    const fetchGlobalLeaderboardStats = async () => {\n      const res = await fetch(`${profileApiUrl}/api/leaderboard/global`)\n      const data = await res.json()\n      setGlobalLeaderboardInformation(data)\n    }\n\n    const fetchTeamsLeaderboardStats = async (teamId: number, callBack: (data: any) => void) => {\n      try {\n        const res = await fetch(`${profileApiUrl}/api/leaderboard/team/${teamId}`)\n        const data = await res.json()\n        callBack(data)\n      } catch (e) {\n        console.error(e)\n      }\n    }\n\n    fetchTeamsLeaderboardStats(1, (data) =>\n      setTeam1LeaderboardInformation((prevState) => {\n        return { ...prevState, leaderboardData: data }\n      }),\n    )\n    fetchTeamsLeaderboardStats(2, (data) =>\n      setTeam2LeaderboardInformation((prevState) => {\n        return { ...prevState, leaderboardData: data }\n      }),\n    )\n    fetchTeamsLeaderboardStats(3, (data) =>\n      setTeam3LeaderboardInformation((prevState) => {\n        return { ...prevState, leaderboardData: data }\n      }),\n    )\n    fetchGlobalLeaderboardStats()\n  }, [profileApiUrl])\n\n  // Don't hide when loading. Hide if the account is connected && the user hasn't registered && the competition is live or finished\n  const shouldHideCta =\n    !isLoading && account && !userTradingInformation.hasRegistered && (isCompetitionLive || hasCompetitionEnded)\n\n  return (\n    <CompetitionPage>\n      <BattleBannerSection background={DARKBG} hasCurvedDivider={false} index={1}>\n        <BannerFlex mb={shouldHideCta ? '0px' : '48px'}>\n          <Countdown currentPhase={currentPhase} hasCompetitionEnded={hasCompetitionEnded} />\n          <BattleBanner />\n        </BannerFlex>\n      </BattleBannerSection>\n      <PageSection\n        containerProps={{ style: { marginTop: '-30px' } }}\n        background={isDark ? MIDBLUEBG_DARK : MIDBLUEBG}\n        concaveDivider\n        clipFill={{ light: '#CCD8F0', dark: '#434575' }}\n        dividerPosition=\"top\"\n        index={2}\n        dividerComponent={\n          shouldHideCta ? null : (\n            <BattleCta\n              userTradingInformation={userTradingInformation}\n              currentPhase={currentPhase}\n              account={account}\n              isCompetitionLive={isCompetitionLive}\n              hasCompetitionEnded={hasCompetitionEnded}\n              userCanClaimPrizes={userCanClaimPrizes}\n              finishedAndPrizesClaimed={finishedAndPrizesClaimed}\n              finishedAndNothingToClaim={finishedAndNothingToClaim}\n              profile={profile}\n              isLoading={isLoading}\n              onRegisterSuccess={onRegisterSuccess}\n              onClaimSuccess={onClaimSuccess}\n            />\n          )\n        }\n      >\n        <Box mt={shouldHideCta ? '0px' : ['94px', null, '36px']} mb=\"64px\">\n          {/* If competition has not yet started, render HowToJoin component - if not, render YourScore */}\n          {currentPhase.state === REGISTRATION ? (\n            <HowToJoin />\n          ) : (\n            <YourScore\n              currentPhase={currentPhase}\n              hasRegistered={userTradingInformation.hasRegistered}\n              userTradingInformation={userTradingInformation}\n              account={account}\n              profile={profile}\n              isLoading={isLoading}\n              userLeaderboardInformation={userLeaderboardInformation}\n              userCanClaimPrizes={userCanClaimPrizes}\n              finishedAndPrizesClaimed={finishedAndPrizesClaimed}\n              finishedAndNothingToClaim={finishedAndNothingToClaim}\n              onClaimSuccess={onClaimSuccess}\n            />\n          )}\n        </Box>\n      </PageSection>\n      <PageSection\n        containerProps={{ style: { marginTop: '-30px' } }}\n        index={3}\n        concaveDivider\n        clipFill={{ light: theme.colors.background }}\n        dividerPosition=\"top\"\n        dividerComponent={\n          <RibbonWithImage imageComponent={<RanksIcon width=\"175px\" />} ribbonDirection=\"up\">\n            {t('Team Ranks')}\n          </RibbonWithImage>\n        }\n      >\n        <Box my=\"64px\">\n          <TeamRanks\n            team1LeaderboardInformation={team1LeaderboardInformation}\n            team2LeaderboardInformation={team2LeaderboardInformation}\n            team3LeaderboardInformation={team3LeaderboardInformation}\n            globalLeaderboardInformation={globalLeaderboardInformation}\n          />\n        </Box>\n      </PageSection>\n      <PageSection\n        containerProps={{ style: { marginTop: '-30px' } }}\n        dividerComponent={\n          <RibbonWithImage imageComponent={<PrizesIcon width=\"175px\" />} ribbonDirection=\"up\">\n            {t('Prizes')}\n          </RibbonWithImage>\n        }\n        concaveDivider\n        clipFill={{\n          light: 'linear-gradient(139.73deg, #e5fcfe 0%, #ecf6ff 100%)',\n          dark: 'linear-gradient(139.73deg, #303d5b 0%, #363457 100%)',\n        }}\n        dividerPosition=\"top\"\n        background={isDark ? LIGHTBLUEBG_DARK : LIGHTBLUEBG}\n        index={4}\n      >\n        <Box my=\"64px\">\n          <PrizesInfo />\n        </Box>\n      </PageSection>\n      <PageSection\n        containerProps={{ style: { marginTop: '-1px' } }}\n        index={5}\n        dividerPosition=\"top\"\n        clipFill={{\n          light: 'linear-gradient(139.73deg, #ecf5ff 0%, #f2effe 100%)',\n          dark: 'linear-gradient(139.73deg, #383357 0%, #3d2b53 100%)',\n        }}\n        dividerComponent={\n          <RibbonWithImage imageComponent={<RulesIcon width=\"175px\" />} ribbonDirection=\"up\">\n            {t('Rules')}\n          </RibbonWithImage>\n        }\n      >\n        <Box mt=\"64px\">\n          <Rules />\n        </Box>\n      </PageSection>\n      <PageSection\n        index={6}\n        dividerPosition=\"top\"\n        dividerFill={{ light: '#191326' }}\n        clipFill={{ light: theme.colors.background }}\n        background={DARKBG}\n      >\n        <Flex alignItems=\"center\">\n          {shouldHideCta ? null : (\n            <Flex height=\"fit-content\">\n              <BattleCta\n                userTradingInformation={userTradingInformation}\n                currentPhase={currentPhase}\n                account={account}\n                isCompetitionLive={isCompetitionLive}\n                hasCompetitionEnded={hasCompetitionEnded}\n                userCanClaimPrizes={userCanClaimPrizes}\n                finishedAndPrizesClaimed={finishedAndPrizesClaimed}\n                finishedAndNothingToClaim={finishedAndNothingToClaim}\n                profile={profile}\n                isLoading={isLoading}\n                onRegisterSuccess={onRegisterSuccess}\n                onClaimSuccess={onClaimSuccess}\n              />\n            </Flex>\n          )}\n          <BottomBunnyWrapper>\n            <Image src={StormBunny} width={147} height={200} />\n          </BottomBunnyWrapper>\n        </Flex>\n      </PageSection>\n    </CompetitionPage>\n  )\n}\n\nexport default TradingCompetition\n"]},"metadata":{},"sourceType":"module"}