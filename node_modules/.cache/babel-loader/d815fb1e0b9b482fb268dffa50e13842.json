{"ast":null,"code":"import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useEffect,useRef}from'react';import{useCountUp}from'react-countup';import styled from'styled-components';import{BnbUsdtPairTokenIcon,Box,Flex,PocketWatchIcon,Text}from'@pancakeswap/uikit';import{ROUND_BUFFER}from'state/predictions/config';import{formatBigNumberToFixed}from'utils/formatBalance';import{useGetCurrentRoundLockTimestamp,useGetLastOraclePrice}from'state/predictions/hooks';import{useTranslation}from'contexts/Localization';import{formatRoundTime}from'../helpers';import useCountdown from'../hooks/useCountdown';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Token=styled(Box)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-top: -24px;\\n  position: absolute;\\n  top: 50%;\\n  z-index: 30;\\n\\n  & > svg {\\n    height: 48px;\\n    width: 48px;\\n  }\\n\\n  \",\" {\\n    margin-top: -32px;\\n\\n    & > svg {\\n      height: 64px;\\n      width: 64px;\\n    }\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.mediaQueries.lg;});var Title=styled(Text)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font-size: 16px;\\n  line-height: 21px;\\n\\n  \",\" {\\n    font-size: 20px;\\n    line-height: 22px;\\n  }\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.mediaQueries.lg;});var ClosingTitle=styled(Text)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: 9px;\\n  line-height: 21px;\\n\\n  \",\" {\\n    font-size: 16px;\\n  }\\n\\n  \",\" {\\n    font-size: 20px;\\n    line-height: 22px;\\n  }\\n\"])),function(_ref3){var theme=_ref3.theme;return theme.mediaQueries.sm;},function(_ref4){var theme=_ref4.theme;return theme.mediaQueries.lg;});var Price=styled(Text)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  height: 18px;\\n  justify-self: start;\\n  width: 70px;\\n\\n  \",\" {\\n    text-align: center;\\n  }\\n\"])),function(_ref5){var theme=_ref5.theme;return theme.mediaQueries.lg;});var Interval=styled(Text)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  \",\" {\\n    text-align: center;\\n    width: 32px;\\n  }\\n\"])),function(_ref6){var theme=_ref6.theme;return theme.mediaQueries.lg;});var Label=styled(Flex)(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  box-shadow: \",\";\\n  align-items: \",\";\\n  border-radius: \",\";\\n  flex-direction: column;\\n  overflow: initial;\\n  padding: \",\";\\n\\n  \",\" {\\n    align-items: center;\\n    border-radius: \",\";\\n    flex-direction: row;\\n    padding: \",\";\\n  }\\n\"])),function(_ref7){var theme=_ref7.theme;return theme.card.background;},function(_ref8){var theme=_ref8.theme;return theme.shadows.level1;},function(_ref9){var dir=_ref9.dir;return dir==='right'?'flex-end':'flex-start';},function(_ref10){var dir=_ref10.dir;return dir==='right'?'8px 8px 8px 24px':'8px 8px 24px 8px';},function(_ref11){var dir=_ref11.dir;return dir==='right'?'0 28px 0 8px':'0 8px 0 24px';},function(_ref12){var theme=_ref12.theme;return theme.mediaQueries.lg;},function(_ref13){var theme=_ref13.theme;return theme.radii.card;},function(_ref14){var dir=_ref14.dir;return dir==='right'?'8px 40px 8px 8px':'8px 8px 8px 40px';});export var PricePairLabel=function PricePairLabel(){var price=useGetLastOraclePrice();var priceAsNumber=parseFloat(formatBigNumberToFixed(price,3,8));var _useCountUp=useCountUp({start:0,end:priceAsNumber,duration:1,decimals:3}),countUp=_useCountUp.countUp,update=_useCountUp.update;var updateRef=useRef(update);useEffect(function(){updateRef.current(priceAsNumber);},[priceAsNumber,updateRef]);return/*#__PURE__*/_jsxs(Box,{pl:\"24px\",position:\"relative\",display:\"inline-block\",children:[/*#__PURE__*/_jsx(Token,{left:0,children:/*#__PURE__*/_jsx(BnbUsdtPairTokenIcon,{})}),/*#__PURE__*/_jsxs(Label,{dir:\"left\",children:[/*#__PURE__*/_jsx(Title,{bold:true,textTransform:\"uppercase\",children:\"BNBUSDT\"}),/*#__PURE__*/_jsx(Price,{fontSize:\"12px\",children:\"$\".concat(countUp)})]})]});};export var TimerLabel=function TimerLabel(_ref15){var interval=_ref15.interval,unit=_ref15.unit;var currentRoundLockTimestamp=useGetCurrentRoundLockTimestamp();var _useCountdown=useCountdown(currentRoundLockTimestamp+ROUND_BUFFER),secondsRemaining=_useCountdown.secondsRemaining;var countdown=formatRoundTime(secondsRemaining);var _useTranslation=useTranslation(),t=_useTranslation.t;return/*#__PURE__*/_jsxs(Box,{pr:\"24px\",position:\"relative\",children:[/*#__PURE__*/_jsxs(Label,{dir:\"right\",children:[secondsRemaining!==0?/*#__PURE__*/_jsx(Title,{bold:true,color:\"secondary\",children:countdown}):/*#__PURE__*/_jsx(ClosingTitle,{bold:true,color:\"secondary\",children:t('Closing')}),/*#__PURE__*/_jsx(Interval,{fontSize:\"12px\",children:\"\".concat(interval).concat(t(unit))})]}),/*#__PURE__*/_jsx(Token,{right:0,children:/*#__PURE__*/_jsx(PocketWatchIcon,{})})]});};","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Predictions/components/Label.tsx"],"names":["React","useEffect","useRef","useCountUp","styled","BnbUsdtPairTokenIcon","Box","Flex","PocketWatchIcon","Text","ROUND_BUFFER","formatBigNumberToFixed","useGetCurrentRoundLockTimestamp","useGetLastOraclePrice","useTranslation","formatRoundTime","useCountdown","Token","theme","mediaQueries","lg","Title","ClosingTitle","sm","Price","Interval","Label","card","background","shadows","level1","dir","radii","PricePairLabel","price","priceAsNumber","parseFloat","start","end","duration","decimals","countUp","update","updateRef","current","TimerLabel","interval","unit","currentRoundLockTimestamp","secondsRemaining","countdown","t"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport { useCountUp } from 'react-countup'\nimport styled from 'styled-components'\nimport { BnbUsdtPairTokenIcon, Box, Flex, PocketWatchIcon, Text } from '@pancakeswap/uikit'\nimport { ROUND_BUFFER } from 'state/predictions/config'\nimport { formatBigNumberToFixed } from 'utils/formatBalance'\nimport { useGetCurrentRoundLockTimestamp, useGetLastOraclePrice } from 'state/predictions/hooks'\nimport { useTranslation } from 'contexts/Localization'\nimport { formatRoundTime } from '../helpers'\nimport useCountdown from '../hooks/useCountdown'\n\nconst Token = styled(Box)`\n  margin-top: -24px;\n  position: absolute;\n  top: 50%;\n  z-index: 30;\n\n  & > svg {\n    height: 48px;\n    width: 48px;\n  }\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    margin-top: -32px;\n\n    & > svg {\n      height: 64px;\n      width: 64px;\n    }\n  }\n`\n\nconst Title = styled(Text)`\n  font-size: 16px;\n  line-height: 21px;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    font-size: 20px;\n    line-height: 22px;\n  }\n`\n\nconst ClosingTitle = styled(Text)`\n  font-size: 9px;\n  line-height: 21px;\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    font-size: 16px;\n  }\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    font-size: 20px;\n    line-height: 22px;\n  }\n`\n\nconst Price = styled(Text)`\n  height: 18px;\n  justify-self: start;\n  width: 70px;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    text-align: center;\n  }\n`\n\nconst Interval = styled(Text)`\n  ${({ theme }) => theme.mediaQueries.lg} {\n    text-align: center;\n    width: 32px;\n  }\n`\n\nconst Label = styled(Flex)<{ dir: 'left' | 'right' }>`\n  background-color: ${({ theme }) => theme.card.background};\n  box-shadow: ${({ theme }) => theme.shadows.level1};\n  align-items: ${({ dir }) => (dir === 'right' ? 'flex-end' : 'flex-start')};\n  border-radius: ${({ dir }) => (dir === 'right' ? '8px 8px 8px 24px' : '8px 8px 24px 8px')};\n  flex-direction: column;\n  overflow: initial;\n  padding: ${({ dir }) => (dir === 'right' ? '0 28px 0 8px' : '0 8px 0 24px')};\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    align-items: center;\n    border-radius: ${({ theme }) => theme.radii.card};\n    flex-direction: row;\n    padding: ${({ dir }) => (dir === 'right' ? '8px 40px 8px 8px' : '8px 8px 8px 40px')};\n  }\n`\n\nexport const PricePairLabel: React.FC = () => {\n  const price = useGetLastOraclePrice()\n  const priceAsNumber = parseFloat(formatBigNumberToFixed(price, 3, 8))\n  const { countUp, update } = useCountUp({\n    start: 0,\n    end: priceAsNumber,\n    duration: 1,\n    decimals: 3,\n  })\n\n  const updateRef = useRef(update)\n\n  useEffect(() => {\n    updateRef.current(priceAsNumber)\n  }, [priceAsNumber, updateRef])\n\n  return (\n    <Box pl=\"24px\" position=\"relative\" display=\"inline-block\">\n      <Token left={0}>\n        <BnbUsdtPairTokenIcon />\n      </Token>\n      <Label dir=\"left\">\n        <Title bold textTransform=\"uppercase\">\n          BNBUSDT\n        </Title>\n        <Price fontSize=\"12px\">{`$${countUp}`}</Price>\n      </Label>\n    </Box>\n  )\n}\n\ninterface TimerLabelProps {\n  interval: string\n  unit: 'm' | 'h' | 'd'\n}\n\nexport const TimerLabel: React.FC<TimerLabelProps> = ({ interval, unit }) => {\n  const currentRoundLockTimestamp = useGetCurrentRoundLockTimestamp()\n  const { secondsRemaining } = useCountdown(currentRoundLockTimestamp + ROUND_BUFFER)\n  const countdown = formatRoundTime(secondsRemaining)\n  const { t } = useTranslation()\n\n  return (\n    <Box pr=\"24px\" position=\"relative\">\n      <Label dir=\"right\">\n        {secondsRemaining !== 0 ? (\n          <Title bold color=\"secondary\">\n            {countdown}\n          </Title>\n        ) : (\n          <ClosingTitle bold color=\"secondary\">\n            {t('Closing')}\n          </ClosingTitle>\n        )}\n        <Interval fontSize=\"12px\">{`${interval}${t(unit)}`}</Interval>\n      </Label>\n      <Token right={0}>\n        <PocketWatchIcon />\n      </Token>\n    </Box>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}