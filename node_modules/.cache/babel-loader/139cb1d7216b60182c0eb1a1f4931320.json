{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;/* eslint-disable no-nested-ternary */import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{Text,Flex,Box,Button,Card,Breadcrumbs,Heading,Spinner,LinkExternal,useMatchBreakpoints,ButtonMenu,ButtonMenuItem,HelpIcon,useTooltip}from'@pancakeswap/uikit';import styled from'styled-components';import Page from'components/Layout/Page';import{getBscScanLink}from'utils';import{CurrencyLogo,DoubleCurrencyLogo}from'views/Info/components/CurrencyLogo';import{formatAmount}from'views/Info/utils/formatInfoNumbers';import Percent from'views/Info/components/Percent';import SaveIcon from'views/Info/components/SaveIcon';import{usePoolDatas,usePoolChartData,usePoolTransactions}from'state/info/hooks';import TransactionTable from'views/Info/components/InfoTables/TransactionsTable';import{useWatchlistPools}from'state/user/hooks';import{useTranslation}from'contexts/Localization';import ChartCard from'views/Info/components/InfoCharts/ChartCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ContentLayout=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 300px 1fr;\\n  grid-gap: 1em;\\n  margin-top: 16px;\\n  @media screen and (max-width: 800px) {\\n    grid-template-columns: 1fr;\\n    grid-template-rows: 1fr 1fr;\\n  }\\n\"])));var TokenButton=styled(Flex)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 8px 0px;\\n  margin-right: 16px;\\n  :hover {\\n    cursor: pointer;\\n    opacity: 0.6;\\n  }\\n\"])));var LockedTokensContainer=styled(Flex)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  border: 1px solid \",\";\\n  background-color: \",\";\\n  padding: 16px;\\n  flex-direction: column;\\n  gap: 8px;\\n  margin-top: 8px;\\n  border-radius: 16px;\\n  max-width: 280px;\\n\"])),function(_ref){var theme=_ref.theme;return theme.colors.cardBorder;},function(_ref2){var theme=_ref2.theme;return theme.colors.background;});var PoolPage=function PoolPage(_ref3){var routeAddress=_ref3.match.params.address;var _useMatchBreakpoints=useMatchBreakpoints(),isXs=_useMatchBreakpoints.isXs,isSm=_useMatchBreakpoints.isSm;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),showWeeklyData=_useState2[0],setShowWeeklyData=_useState2[1];var _useTooltip=useTooltip(t(\"Based on last 7 days' performance. Does not account for impermanent loss\"),{}),tooltip=_useTooltip.tooltip,tooltipVisible=_useTooltip.tooltipVisible,targetRef=_useTooltip.targetRef;// Needed to scroll up if user comes to this page by clicking on entry in the table\nuseEffect(function(){window.scrollTo(0,0);},[]);// In case somebody pastes checksummed address into url (since GraphQL expects lowercase address)\nvar address=routeAddress.toLowerCase();var poolData=usePoolDatas([address])[0];var chartData=usePoolChartData(address);var transactions=usePoolTransactions(address);var _useWatchlistPools=useWatchlistPools(),_useWatchlistPools2=_slicedToArray(_useWatchlistPools,2),watchlistPools=_useWatchlistPools2[0],addPoolToWatchlist=_useWatchlistPools2[1];return/*#__PURE__*/_jsx(Page,{symbol:poolData?\"\".concat(poolData===null||poolData===void 0?void 0:poolData.token0.symbol,\" / \").concat(poolData===null||poolData===void 0?void 0:poolData.token1.symbol):null,children:poolData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",mb:\"16px\",flexDirection:['column','column','row'],children:[/*#__PURE__*/_jsxs(Breadcrumbs,{mb:\"32px\",children:[/*#__PURE__*/_jsx(Link,{to:\"/info\",children:/*#__PURE__*/_jsx(Text,{color:\"primary\",children:t('Info')})}),/*#__PURE__*/_jsx(Link,{to:\"/info/pools\",children:/*#__PURE__*/_jsx(Text,{color:\"primary\",children:t('Pools')})}),/*#__PURE__*/_jsx(Flex,{children:/*#__PURE__*/_jsx(Text,{mr:\"8px\",children:\"\".concat(poolData.token0.symbol,\" / \").concat(poolData.token1.symbol)})})]}),/*#__PURE__*/_jsxs(Flex,{justifyContent:[null,null,'flex-end'],mt:['8px','8px',0],children:[/*#__PURE__*/_jsx(LinkExternal,{mr:\"8px\",href:getBscScanLink(address,'address'),children:t('View on BscScan')}),/*#__PURE__*/_jsx(SaveIcon,{fill:watchlistPools.includes(address),onClick:function onClick(){return addPoolToWatchlist(address);}})]})]}),/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",mb:['8px',null],children:[/*#__PURE__*/_jsx(DoubleCurrencyLogo,{address0:poolData.token0.address,address1:poolData.token1.address,size:32}),/*#__PURE__*/_jsx(Text,{ml:\"38px\",bold:true,fontSize:isXs||isSm?'24px':'40px',id:\"info-pool-pair-title\",children:\"\".concat(poolData.token0.symbol,\" / \").concat(poolData.token1.symbol)})]}),/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",flexDirection:['column','column','column','row'],children:[/*#__PURE__*/_jsxs(Flex,{flexDirection:['column','column','row'],mb:['8px','8px',null],children:[/*#__PURE__*/_jsx(Link,{to:\"/info/token/\".concat(poolData.token0.address),children:/*#__PURE__*/_jsxs(TokenButton,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{address:poolData.token0.address,size:\"24px\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"16px\",ml:\"4px\",style:{whiteSpace:'nowrap'},width:\"fit-content\",children:\"1 \".concat(poolData.token0.symbol,\" =  \").concat(formatAmount(poolData.token1Price,{notation:'standard',displayThreshold:0.001,tokenPrecision:true}),\" \").concat(poolData.token1.symbol)})]})}),/*#__PURE__*/_jsx(Link,{to:\"/info/token/\".concat(poolData.token1.address),children:/*#__PURE__*/_jsxs(TokenButton,{ml:[null,null,'10px'],children:[/*#__PURE__*/_jsx(CurrencyLogo,{address:poolData.token1.address,size:\"24px\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"16px\",ml:\"4px\",style:{whiteSpace:'nowrap'},width:\"fit-content\",children:\"1 \".concat(poolData.token1.symbol,\" =  \").concat(formatAmount(poolData.token0Price,{notation:'standard',displayThreshold:0.001,tokenPrecision:true}),\" \").concat(poolData.token0.symbol)})]})})]}),/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(Link,{to:\"/add/\".concat(poolData.token0.address,\"/\").concat(poolData.token1.address),children:/*#__PURE__*/_jsx(Button,{mr:\"8px\",variant:\"secondary\",children:t('Add Liquidity')})}),/*#__PURE__*/_jsx(Link,{to:\"/swap?inputCurrency=\".concat(poolData.token0.address,\"&outputCurrency=\").concat(poolData.token1.address),children:/*#__PURE__*/_jsx(Button,{children:t('Trade')})})]})]})]}),/*#__PURE__*/_jsxs(ContentLayout,{children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Box,{p:\"24px\",children:[/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(Flex,{flex:\"1\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Text,{color:\"secondary\",bold:true,fontSize:\"12px\",textTransform:\"uppercase\",children:t('Liquidity')}),/*#__PURE__*/_jsxs(Text,{fontSize:\"24px\",bold:true,children:[\"$\",formatAmount(poolData.liquidityUSD)]}),/*#__PURE__*/_jsx(Percent,{value:poolData.liquidityUSDChange})]}),/*#__PURE__*/_jsxs(Flex,{flex:\"1\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Text,{color:\"secondary\",bold:true,fontSize:\"12px\",textTransform:\"uppercase\",children:t('LP reward APR')}),/*#__PURE__*/_jsxs(Text,{fontSize:\"24px\",bold:true,children:[formatAmount(poolData.lpApr7d),\"%\"]}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",children:[/*#__PURE__*/_jsx(\"span\",{ref:targetRef,children:/*#__PURE__*/_jsx(HelpIcon,{color:\"textSubtle\"})}),/*#__PURE__*/_jsx(Text,{ml:\"4px\",fontSize:\"12px\",color:\"textSubtle\",children:t('7D performance')}),tooltipVisible&&tooltip]})]})]}),/*#__PURE__*/_jsx(Text,{color:\"secondary\",bold:true,mt:\"24px\",fontSize:\"12px\",textTransform:\"uppercase\",children:t('Total Tokens Locked')}),/*#__PURE__*/_jsxs(LockedTokensContainer,{children:[/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{address:poolData.token0.address,size:\"24px\"}),/*#__PURE__*/_jsx(Text,{small:true,color:\"textSubtle\",ml:\"8px\",children:poolData.token0.symbol})]}),/*#__PURE__*/_jsx(Text,{small:true,children:formatAmount(poolData.liquidityToken0)})]}),/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(Flex,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{address:poolData.token1.address,size:\"24px\"}),/*#__PURE__*/_jsx(Text,{small:true,color:\"textSubtle\",ml:\"8px\",children:poolData.token1.symbol})]}),/*#__PURE__*/_jsx(Text,{small:true,children:formatAmount(poolData.liquidityToken1)})]})]})]})}),/*#__PURE__*/_jsx(Card,{mt:\"16px\",children:/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",p:\"24px\",children:[/*#__PURE__*/_jsxs(ButtonMenu,{activeIndex:showWeeklyData,onItemClick:function onItemClick(index){return setShowWeeklyData(index);},scale:\"sm\",variant:\"subtle\",children:[/*#__PURE__*/_jsx(ButtonMenuItem,{width:\"100%\",children:t('24H')}),/*#__PURE__*/_jsx(ButtonMenuItem,{width:\"100%\",children:t('7D')})]}),/*#__PURE__*/_jsxs(Flex,{mt:\"24px\",children:[/*#__PURE__*/_jsxs(Flex,{flex:\"1\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Text,{color:\"secondary\",fontSize:\"12px\",bold:true,textTransform:\"uppercase\",children:showWeeklyData?t('Volume 7D'):t('Volume 24H')}),/*#__PURE__*/_jsxs(Text,{fontSize:\"24px\",bold:true,children:[\"$\",showWeeklyData?formatAmount(poolData.volumeUSDWeek):formatAmount(poolData.volumeUSD)]}),/*#__PURE__*/_jsx(Percent,{value:showWeeklyData?poolData.volumeUSDChangeWeek:poolData.volumeUSDChange})]}),/*#__PURE__*/_jsxs(Flex,{flex:\"1\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Text,{color:\"secondary\",fontSize:\"12px\",bold:true,textTransform:\"uppercase\",children:showWeeklyData?t('LP reward fees 7D'):t('LP reward fees 24H')}),/*#__PURE__*/_jsxs(Text,{fontSize:\"24px\",bold:true,children:[\"$\",showWeeklyData?formatAmount(poolData.lpFees7d):formatAmount(poolData.lpFees24h)]}),/*#__PURE__*/_jsx(Text,{color:\"textSubtle\",fontSize:\"12px\",children:t('out of $%totalFees% total fees',{totalFees:showWeeklyData?formatAmount(poolData.totalFees7d):formatAmount(poolData.totalFees24h)})})]})]})]})})]}),/*#__PURE__*/_jsx(ChartCard,{variant:\"pool\",chartData:chartData})]}),/*#__PURE__*/_jsx(Heading,{mb:\"16px\",mt:\"40px\",scale:\"lg\",children:t('Transactions')}),/*#__PURE__*/_jsx(TransactionTable,{transactions:transactions})]}):/*#__PURE__*/_jsx(Flex,{mt:\"80px\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Spinner,{})})});};export default PoolPage;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Info/Pools/PoolPage.tsx"],"names":["React","useEffect","useState","Link","Text","Flex","Box","Button","Card","Breadcrumbs","Heading","Spinner","LinkExternal","useMatchBreakpoints","ButtonMenu","ButtonMenuItem","HelpIcon","useTooltip","styled","Page","getBscScanLink","CurrencyLogo","DoubleCurrencyLogo","formatAmount","Percent","SaveIcon","usePoolDatas","usePoolChartData","usePoolTransactions","TransactionTable","useWatchlistPools","useTranslation","ChartCard","ContentLayout","div","TokenButton","LockedTokensContainer","theme","colors","cardBorder","background","PoolPage","routeAddress","match","params","address","isXs","isSm","t","showWeeklyData","setShowWeeklyData","tooltip","tooltipVisible","targetRef","window","scrollTo","toLowerCase","poolData","chartData","transactions","watchlistPools","addPoolToWatchlist","token0","symbol","token1","includes","whiteSpace","token1Price","notation","displayThreshold","tokenPrecision","token0Price","liquidityUSD","liquidityUSDChange","lpApr7d","liquidityToken0","liquidityToken1","index","volumeUSDWeek","volumeUSD","volumeUSDChangeWeek","volumeUSDChange","lpFees7d","lpFees24h","totalFees","totalFees7d","totalFees24h"],"mappings":"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","sourcesContent":["/* eslint-disable no-nested-ternary */\nimport React, { useEffect, useState } from 'react'\nimport { RouteComponentProps, Link } from 'react-router-dom'\nimport {\n  Text,\n  Flex,\n  Box,\n  Button,\n  Card,\n  Breadcrumbs,\n  Heading,\n  Spinner,\n  LinkExternal,\n  useMatchBreakpoints,\n  ButtonMenu,\n  ButtonMenuItem,\n  HelpIcon,\n  useTooltip,\n} from '@pancakeswap/uikit'\nimport styled from 'styled-components'\nimport Page from 'components/Layout/Page'\nimport { getBscScanLink } from 'utils'\nimport { CurrencyLogo, DoubleCurrencyLogo } from 'views/Info/components/CurrencyLogo'\nimport { formatAmount } from 'views/Info/utils/formatInfoNumbers'\nimport Percent from 'views/Info/components/Percent'\nimport SaveIcon from 'views/Info/components/SaveIcon'\nimport { usePoolDatas, usePoolChartData, usePoolTransactions } from 'state/info/hooks'\nimport TransactionTable from 'views/Info/components/InfoTables/TransactionsTable'\nimport { useWatchlistPools } from 'state/user/hooks'\nimport { useTranslation } from 'contexts/Localization'\nimport ChartCard from 'views/Info/components/InfoCharts/ChartCard'\n\nconst ContentLayout = styled.div`\n  display: grid;\n  grid-template-columns: 300px 1fr;\n  grid-gap: 1em;\n  margin-top: 16px;\n  @media screen and (max-width: 800px) {\n    grid-template-columns: 1fr;\n    grid-template-rows: 1fr 1fr;\n  }\n`\n\nconst TokenButton = styled(Flex)`\n  padding: 8px 0px;\n  margin-right: 16px;\n  :hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\nconst LockedTokensContainer = styled(Flex)`\n  border: 1px solid ${({ theme }) => theme.colors.cardBorder};\n  background-color: ${({ theme }) => theme.colors.background};\n  padding: 16px;\n  flex-direction: column;\n  gap: 8px;\n  margin-top: 8px;\n  border-radius: 16px;\n  max-width: 280px;\n`\n\nconst PoolPage: React.FC<RouteComponentProps<{ address: string }>> = ({\n  match: {\n    params: { address: routeAddress },\n  },\n}) => {\n  const { isXs, isSm } = useMatchBreakpoints()\n  const { t } = useTranslation()\n  const [showWeeklyData, setShowWeeklyData] = useState(0)\n  const { tooltip, tooltipVisible, targetRef } = useTooltip(\n    t(`Based on last 7 days' performance. Does not account for impermanent loss`),\n    {},\n  )\n\n  // Needed to scroll up if user comes to this page by clicking on entry in the table\n  useEffect(() => {\n    window.scrollTo(0, 0)\n  }, [])\n\n  // In case somebody pastes checksummed address into url (since GraphQL expects lowercase address)\n  const address = routeAddress.toLowerCase()\n\n  const poolData = usePoolDatas([address])[0]\n  const chartData = usePoolChartData(address)\n  const transactions = usePoolTransactions(address)\n\n  const [watchlistPools, addPoolToWatchlist] = useWatchlistPools()\n\n  return (\n    <Page symbol={poolData ? `${poolData?.token0.symbol} / ${poolData?.token1.symbol}` : null}>\n      {poolData ? (\n        <>\n          <Flex justifyContent=\"space-between\" mb=\"16px\" flexDirection={['column', 'column', 'row']}>\n            <Breadcrumbs mb=\"32px\">\n              <Link to=\"/info\">\n                <Text color=\"primary\">{t('Info')}</Text>\n              </Link>\n              <Link to=\"/info/pools\">\n                <Text color=\"primary\">{t('Pools')}</Text>\n              </Link>\n              <Flex>\n                <Text mr=\"8px\">{`${poolData.token0.symbol} / ${poolData.token1.symbol}`}</Text>\n              </Flex>\n            </Breadcrumbs>\n            <Flex justifyContent={[null, null, 'flex-end']} mt={['8px', '8px', 0]}>\n              <LinkExternal mr=\"8px\" href={getBscScanLink(address, 'address')}>\n                {t('View on BscScan')}\n              </LinkExternal>\n              <SaveIcon fill={watchlistPools.includes(address)} onClick={() => addPoolToWatchlist(address)} />\n            </Flex>\n          </Flex>\n          <Flex flexDirection=\"column\">\n            <Flex alignItems=\"center\" mb={['8px', null]}>\n              <DoubleCurrencyLogo address0={poolData.token0.address} address1={poolData.token1.address} size={32} />\n              <Text\n                ml=\"38px\"\n                bold\n                fontSize={isXs || isSm ? '24px' : '40px'}\n                id=\"info-pool-pair-title\"\n              >{`${poolData.token0.symbol} / ${poolData.token1.symbol}`}</Text>\n            </Flex>\n            <Flex justifyContent=\"space-between\" flexDirection={['column', 'column', 'column', 'row']}>\n              <Flex flexDirection={['column', 'column', 'row']} mb={['8px', '8px', null]}>\n                <Link to={`/info/token/${poolData.token0.address}`}>\n                  <TokenButton>\n                    <CurrencyLogo address={poolData.token0.address} size=\"24px\" />\n                    <Text fontSize=\"16px\" ml=\"4px\" style={{ whiteSpace: 'nowrap' }} width=\"fit-content\">\n                      {`1 ${poolData.token0.symbol} =  ${formatAmount(poolData.token1Price, {\n                        notation: 'standard',\n                        displayThreshold: 0.001,\n                        tokenPrecision: true,\n                      })} ${poolData.token1.symbol}`}\n                    </Text>\n                  </TokenButton>\n                </Link>\n                <Link to={`/info/token/${poolData.token1.address}`}>\n                  <TokenButton ml={[null, null, '10px']}>\n                    <CurrencyLogo address={poolData.token1.address} size=\"24px\" />\n                    <Text fontSize=\"16px\" ml=\"4px\" style={{ whiteSpace: 'nowrap' }} width=\"fit-content\">\n                      {`1 ${poolData.token1.symbol} =  ${formatAmount(poolData.token0Price, {\n                        notation: 'standard',\n                        displayThreshold: 0.001,\n                        tokenPrecision: true,\n                      })} ${poolData.token0.symbol}`}\n                    </Text>\n                  </TokenButton>\n                </Link>\n              </Flex>\n              <Flex>\n                <Link to={`/add/${poolData.token0.address}/${poolData.token1.address}`}>\n                  <Button mr=\"8px\" variant=\"secondary\">\n                    {t('Add Liquidity')}\n                  </Button>\n                </Link>\n                <Link to={`/swap?inputCurrency=${poolData.token0.address}&outputCurrency=${poolData.token1.address}`}>\n                  <Button>{t('Trade')}</Button>\n                </Link>\n              </Flex>\n            </Flex>\n          </Flex>\n          <ContentLayout>\n            <Box>\n              <Card>\n                <Box p=\"24px\">\n                  <Flex justifyContent=\"space-between\">\n                    <Flex flex=\"1\" flexDirection=\"column\">\n                      <Text color=\"secondary\" bold fontSize=\"12px\" textTransform=\"uppercase\">\n                        {t('Liquidity')}\n                      </Text>\n                      <Text fontSize=\"24px\" bold>\n                        ${formatAmount(poolData.liquidityUSD)}\n                      </Text>\n                      <Percent value={poolData.liquidityUSDChange} />\n                    </Flex>\n                    <Flex flex=\"1\" flexDirection=\"column\">\n                      <Text color=\"secondary\" bold fontSize=\"12px\" textTransform=\"uppercase\">\n                        {t('LP reward APR')}\n                      </Text>\n                      <Text fontSize=\"24px\" bold>\n                        {formatAmount(poolData.lpApr7d)}%\n                      </Text>\n                      <Flex alignItems=\"center\">\n                        <span ref={targetRef}>\n                          <HelpIcon color=\"textSubtle\" />\n                        </span>\n                        <Text ml=\"4px\" fontSize=\"12px\" color=\"textSubtle\">\n                          {t('7D performance')}\n                        </Text>\n                        {tooltipVisible && tooltip}\n                      </Flex>\n                    </Flex>\n                  </Flex>\n                  <Text color=\"secondary\" bold mt=\"24px\" fontSize=\"12px\" textTransform=\"uppercase\">\n                    {t('Total Tokens Locked')}\n                  </Text>\n                  <LockedTokensContainer>\n                    <Flex justifyContent=\"space-between\">\n                      <Flex>\n                        <CurrencyLogo address={poolData.token0.address} size=\"24px\" />\n                        <Text small color=\"textSubtle\" ml=\"8px\">\n                          {poolData.token0.symbol}\n                        </Text>\n                      </Flex>\n                      <Text small>{formatAmount(poolData.liquidityToken0)}</Text>\n                    </Flex>\n                    <Flex justifyContent=\"space-between\">\n                      <Flex>\n                        <CurrencyLogo address={poolData.token1.address} size=\"24px\" />\n                        <Text small color=\"textSubtle\" ml=\"8px\">\n                          {poolData.token1.symbol}\n                        </Text>\n                      </Flex>\n                      <Text small>{formatAmount(poolData.liquidityToken1)}</Text>\n                    </Flex>\n                  </LockedTokensContainer>\n                </Box>\n              </Card>\n              <Card mt=\"16px\">\n                <Flex flexDirection=\"column\" p=\"24px\">\n                  <ButtonMenu\n                    activeIndex={showWeeklyData}\n                    onItemClick={(index) => setShowWeeklyData(index)}\n                    scale=\"sm\"\n                    variant=\"subtle\"\n                  >\n                    <ButtonMenuItem width=\"100%\">{t('24H')}</ButtonMenuItem>\n                    <ButtonMenuItem width=\"100%\">{t('7D')}</ButtonMenuItem>\n                  </ButtonMenu>\n                  <Flex mt=\"24px\">\n                    <Flex flex=\"1\" flexDirection=\"column\">\n                      <Text color=\"secondary\" fontSize=\"12px\" bold textTransform=\"uppercase\">\n                        {showWeeklyData ? t('Volume 7D') : t('Volume 24H')}\n                      </Text>\n                      <Text fontSize=\"24px\" bold>\n                        ${showWeeklyData ? formatAmount(poolData.volumeUSDWeek) : formatAmount(poolData.volumeUSD)}\n                      </Text>\n                      <Percent value={showWeeklyData ? poolData.volumeUSDChangeWeek : poolData.volumeUSDChange} />\n                    </Flex>\n                    <Flex flex=\"1\" flexDirection=\"column\">\n                      <Text color=\"secondary\" fontSize=\"12px\" bold textTransform=\"uppercase\">\n                        {showWeeklyData ? t('LP reward fees 7D') : t('LP reward fees 24H')}\n                      </Text>\n                      <Text fontSize=\"24px\" bold>\n                        ${showWeeklyData ? formatAmount(poolData.lpFees7d) : formatAmount(poolData.lpFees24h)}\n                      </Text>\n                      <Text color=\"textSubtle\" fontSize=\"12px\">\n                        {t('out of $%totalFees% total fees', {\n                          totalFees: showWeeklyData\n                            ? formatAmount(poolData.totalFees7d)\n                            : formatAmount(poolData.totalFees24h),\n                        })}\n                      </Text>\n                    </Flex>\n                  </Flex>\n                </Flex>\n              </Card>\n            </Box>\n            <ChartCard variant=\"pool\" chartData={chartData} />\n          </ContentLayout>\n          <Heading mb=\"16px\" mt=\"40px\" scale=\"lg\">\n            {t('Transactions')}\n          </Heading>\n          <TransactionTable transactions={transactions} />\n        </>\n      ) : (\n        <Flex mt=\"80px\" justifyContent=\"center\">\n          <Spinner />\n        </Flex>\n      )}\n    </Page>\n  )\n}\n\nexport default PoolPage\n"]},"metadata":{},"sourceType":"module"}