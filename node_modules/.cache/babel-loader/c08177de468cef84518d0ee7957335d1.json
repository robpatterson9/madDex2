{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Progress}from'@pancakeswap/uikit';import{differenceInSeconds}from'date-fns';import{AuctionStatus}from'config/constants/types';import useRefresh from'hooks/useRefresh';import{jsx as _jsx}from\"react/jsx-runtime\";var AuctionProgress=function AuctionProgress(_ref){var auction=_ref.auction;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),progress=_useState2[0],setProgress=_useState2[1];var _useRefresh=useRefresh(),slowRefresh=_useRefresh.slowRefresh;// Note: opted to base it on date rather than block number to reduce the amount of calls and async handling\nuseEffect(function(){if(auction.status===AuctionStatus.ToBeAnnounced||auction.status===AuctionStatus.Pending){setProgress(0);}else{var now=new Date();var auctionDuration=differenceInSeconds(auction.endDate,auction.startDate);var secondsPassed=differenceInSeconds(now,auction.startDate);var percentagePassed=secondsPassed*100/auctionDuration;setProgress(percentagePassed<100?percentagePassed:100);}},[slowRefresh,auction]);return/*#__PURE__*/_jsx(Progress,{variant:\"flat\",primaryStep:progress});};export default AuctionProgress;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/FarmAuction/components/AuctionLeaderboard/AuctionProgress.tsx"],"names":["React","useState","useEffect","Progress","differenceInSeconds","AuctionStatus","useRefresh","AuctionProgress","auction","progress","setProgress","slowRefresh","status","ToBeAnnounced","Pending","now","Date","auctionDuration","endDate","startDate","secondsPassed","percentagePassed"],"mappings":"wJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,OAASC,mBAAT,KAAoC,UAApC,CACA,OAAkBC,aAAlB,KAAuC,wBAAvC,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,C,2CAEA,GAAMC,CAAAA,eAA+C,CAAG,QAAlDA,CAAAA,eAAkD,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACvE,cAAgCP,QAAQ,CAAS,CAAT,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eACA,gBAAwBJ,UAAU,EAAlC,CAAQK,WAAR,aAAQA,WAAR,CAEA;AACAT,SAAS,CAAC,UAAM,CACd,GAAIM,OAAO,CAACI,MAAR,GAAmBP,aAAa,CAACQ,aAAjC,EAAkDL,OAAO,CAACI,MAAR,GAAmBP,aAAa,CAACS,OAAvF,CAAgG,CAC9FJ,WAAW,CAAC,CAAD,CAAX,CACD,CAFD,IAEO,CACL,GAAMK,CAAAA,GAAG,CAAG,GAAIC,CAAAA,IAAJ,EAAZ,CACA,GAAMC,CAAAA,eAAe,CAAGb,mBAAmB,CAACI,OAAO,CAACU,OAAT,CAAkBV,OAAO,CAACW,SAA1B,CAA3C,CACA,GAAMC,CAAAA,aAAa,CAAGhB,mBAAmB,CAACW,GAAD,CAAMP,OAAO,CAACW,SAAd,CAAzC,CACA,GAAME,CAAAA,gBAAgB,CAAID,aAAa,CAAG,GAAjB,CAAwBH,eAAjD,CACAP,WAAW,CAACW,gBAAgB,CAAG,GAAnB,CAAyBA,gBAAzB,CAA4C,GAA7C,CAAX,CACD,CACF,CAVQ,CAUN,CAACV,WAAD,CAAcH,OAAd,CAVM,CAAT,CAYA,mBAAO,KAAC,QAAD,EAAU,OAAO,CAAC,MAAlB,CAAyB,WAAW,CAAEC,QAAtC,EAAP,CACD,CAlBD,CAoBA,cAAeF,CAAAA,eAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Progress } from '@pancakeswap/uikit'\nimport { differenceInSeconds } from 'date-fns'\nimport { Auction, AuctionStatus } from 'config/constants/types'\nimport useRefresh from 'hooks/useRefresh'\n\nconst AuctionProgress: React.FC<{ auction: Auction }> = ({ auction }) => {\n  const [progress, setProgress] = useState<number>(0)\n  const { slowRefresh } = useRefresh()\n\n  // Note: opted to base it on date rather than block number to reduce the amount of calls and async handling\n  useEffect(() => {\n    if (auction.status === AuctionStatus.ToBeAnnounced || auction.status === AuctionStatus.Pending) {\n      setProgress(0)\n    } else {\n      const now = new Date()\n      const auctionDuration = differenceInSeconds(auction.endDate, auction.startDate)\n      const secondsPassed = differenceInSeconds(now, auction.startDate)\n      const percentagePassed = (secondsPassed * 100) / auctionDuration\n      setProgress(percentagePassed < 100 ? percentagePassed : 100)\n    }\n  }, [slowRefresh, auction])\n\n  return <Progress variant=\"flat\" primaryStep={progress} />\n}\n\nexport default AuctionProgress\n"]},"metadata":{},"sourceType":"module"}