{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{ethers}from'ethers';import useLastUpdated from'hooks/useLastUpdated';import{getChainlinkOracleContract}from'utils/contractHelpers';var useGetLatestOraclePrice=function useGetLatestOraclePrice(){var _useState=useState(ethers.BigNumber.from(0)),_useState2=_slicedToArray(_useState,2),price=_useState2[0],setPrice=_useState2[1];var _useLastUpdated=useLastUpdated(),lastUpdated=_useLastUpdated.lastUpdated,refresh=_useLastUpdated.setLastUpdated;useEffect(function(){var fetchPrice=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var contract,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:contract=getChainlinkOracleContract();_context.next=3;return contract.latestAnswer();case 3:response=_context.sent;setPrice(response);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchPrice(){return _ref.apply(this,arguments);};}();fetchPrice();},[lastUpdated,setPrice]);return{price:price,lastUpdated:lastUpdated,refresh:refresh};};export default useGetLatestOraclePrice;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Predictions/hooks/useGetLatestOraclePrice.ts"],"names":["useEffect","useState","ethers","useLastUpdated","getChainlinkOracleContract","useGetLatestOraclePrice","BigNumber","from","price","setPrice","lastUpdated","refresh","setLastUpdated","fetchPrice","contract","latestAnswer","response"],"mappings":"qcAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,MAAT,KAAuB,QAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,sBAA3B,CACA,OAASC,0BAAT,KAA2C,uBAA3C,CAEA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,EAAM,CACpC,cAA0BJ,QAAQ,CAACC,MAAM,CAACI,SAAP,CAAiBC,IAAjB,CAAsB,CAAtB,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eACA,oBAAiDN,cAAc,EAA/D,CAAQO,WAAR,iBAAQA,WAAR,CAAqCC,OAArC,iBAAqBC,cAArB,CAEAZ,SAAS,CAAC,UAAM,CACd,GAAMa,CAAAA,UAAU,0FAAG,yJACXC,QADW,CACAV,0BAA0B,EAD1B,uBAEMU,CAAAA,QAAQ,CAACC,YAAT,EAFN,QAEXC,QAFW,eAGjBP,QAAQ,CAACO,QAAD,CAAR,CAHiB,sDAAH,kBAAVH,CAAAA,UAAU,0CAAhB,CAMAA,UAAU,GACX,CARQ,CAQN,CAACH,WAAD,CAAcD,QAAd,CARM,CAAT,CAUA,MAAO,CAAED,KAAK,CAALA,KAAF,CAASE,WAAW,CAAXA,WAAT,CAAsBC,OAAO,CAAPA,OAAtB,CAAP,CACD,CAfD,CAiBA,cAAeN,CAAAA,uBAAf","sourcesContent":["import { useEffect, useState } from 'react'\nimport { ethers } from 'ethers'\nimport useLastUpdated from 'hooks/useLastUpdated'\nimport { getChainlinkOracleContract } from 'utils/contractHelpers'\n\nconst useGetLatestOraclePrice = () => {\n  const [price, setPrice] = useState(ethers.BigNumber.from(0))\n  const { lastUpdated, setLastUpdated: refresh } = useLastUpdated()\n\n  useEffect(() => {\n    const fetchPrice = async () => {\n      const contract = getChainlinkOracleContract()\n      const response = await contract.latestAnswer()\n      setPrice(response)\n    }\n\n    fetchPrice()\n  }, [lastUpdated, setPrice])\n\n  return { price, lastUpdated, refresh }\n}\n\nexport default useGetLatestOraclePrice\n"]},"metadata":{},"sourceType":"module"}