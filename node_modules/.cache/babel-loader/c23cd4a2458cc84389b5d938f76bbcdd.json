{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import BigNumber from'bignumber.js';import{useWeb3React}from'@web3-react/core';import{BIG_ZERO}from'utils/bigNumber';// Retrieve IFO allowance\nvar useIfoAllowance=function useIfoAllowance(tokenContract,spenderAddress,dependency){var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var _useState=useState(BIG_ZERO),_useState2=_slicedToArray(_useState,2),allowance=_useState2[0],setAllowance=_useState2[1];useEffect(function(){var fetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return tokenContract.allowance(account,spenderAddress);case 3:res=_context.sent;setAllowance(new BigNumber(res.toString()));_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetch(){return _ref.apply(this,arguments);};}();if(account){fetch();}},[account,spenderAddress,tokenContract,dependency]);return allowance;};export default useIfoAllowance;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Ifos/hooks/useIfoAllowance.ts"],"names":["useEffect","useState","BigNumber","useWeb3React","BIG_ZERO","useIfoAllowance","tokenContract","spenderAddress","dependency","account","allowance","setAllowance","fetch","res","toString","console","error"],"mappings":"qcAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,OAASC,YAAT,KAA6B,kBAA7B,CAEA,OAASC,QAAT,KAAyB,iBAAzB,CAEA;AACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,aAAD,CAA0BC,cAA1B,CAAkDC,UAAlD,CAAkF,CACxG,kBAAoBL,YAAY,EAAhC,CAAQM,OAAR,eAAQA,OAAR,CACA,cAAkCR,QAAQ,CAACG,QAAD,CAA1C,wCAAOM,SAAP,eAAkBC,YAAlB,eAEAX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,KAAK,0FAAG,iLAEQN,CAAAA,aAAa,CAACI,SAAd,CAAwBD,OAAxB,CAAiCF,cAAjC,CAFR,QAEJM,GAFI,eAGVF,YAAY,CAAC,GAAIT,CAAAA,SAAJ,CAAcW,GAAG,CAACC,QAAJ,EAAd,CAAD,CAAZ,CAHU,+EAKVC,OAAO,CAACC,KAAR,cALU,oEAAH,kBAALJ,CAAAA,KAAK,0CAAX,CASA,GAAIH,OAAJ,CAAa,CACXG,KAAK,GACN,CACF,CAbQ,CAaN,CAACH,OAAD,CAAUF,cAAV,CAA0BD,aAA1B,CAAyCE,UAAzC,CAbM,CAAT,CAeA,MAAOE,CAAAA,SAAP,CACD,CApBD,CAsBA,cAAeL,CAAAA,eAAf","sourcesContent":["import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useWeb3React } from '@web3-react/core'\nimport { Contract } from 'ethers'\nimport { BIG_ZERO } from 'utils/bigNumber'\n\n// Retrieve IFO allowance\nconst useIfoAllowance = (tokenContract: Contract, spenderAddress: string, dependency?: any): BigNumber => {\n  const { account } = useWeb3React()\n  const [allowance, setAllowance] = useState(BIG_ZERO)\n\n  useEffect(() => {\n    const fetch = async () => {\n      try {\n        const res = await tokenContract.allowance(account, spenderAddress)\n        setAllowance(new BigNumber(res.toString()))\n      } catch (e) {\n        console.error(e)\n      }\n    }\n\n    if (account) {\n      fetch()\n    }\n  }, [account, spenderAddress, tokenContract, dependency])\n\n  return allowance\n}\n\nexport default useIfoAllowance\n"]},"metadata":{},"sourceType":"module"}