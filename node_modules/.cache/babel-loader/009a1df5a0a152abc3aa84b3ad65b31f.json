{"ast":null,"code":"import _slicedToArray from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Volumes/evo970/lou/madDex-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useMemo}from'react';import BigNumber from'bignumber.js';import styled from'styled-components';import{Card,CardBody,Text,Flex,HelpIcon,Button,Heading,Skeleton,useModal,Box,useTooltip}from'@pancakeswap/uikit';import{useTranslation}from'contexts/Localization';import{getBalanceNumber}from'utils/formatBalance';import{usePriceCakeBusd}from'state/farms/hooks';import{useCakeVault}from'state/pools/hooks';import Balance from'components/Balance';import BountyModal from'./BountyModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledCard=styled(Card)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  flex: 1;\\n  \",\" {\\n    min-width: 240px;\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.mediaQueries.sm;});var BountyCard=function BountyCard(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useCakeVault=useCakeVault(),estimatedCakeBountyReward=_useCakeVault.estimatedCakeBountyReward,callFee=_useCakeVault.fees.callFee;var cakePriceBusd=usePriceCakeBusd();var estimatedDollarBountyReward=useMemo(function(){return new BigNumber(estimatedCakeBountyReward).multipliedBy(cakePriceBusd);},[cakePriceBusd,estimatedCakeBountyReward]);var hasFetchedDollarBounty=estimatedDollarBountyReward.gte(0);var hasFetchedCakeBounty=estimatedCakeBountyReward?estimatedCakeBountyReward.gte(0):false;var dollarBountyToDisplay=hasFetchedDollarBounty?getBalanceNumber(estimatedDollarBountyReward,18):0;var cakeBountyToDisplay=hasFetchedCakeBounty?getBalanceNumber(estimatedCakeBountyReward,18):0;var TooltipComponent=function TooltipComponent(_ref2){var fee=_ref2.fee;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{mb:\"16px\",children:t('This bounty is given as a reward for providing a service to other users.')}),/*#__PURE__*/_jsx(Text,{mb:\"16px\",children:t('Whenever you successfully claim the bounty, you’re also helping out by activating the Auto CAKE Pool’s compounding function for everyone.')}),/*#__PURE__*/_jsx(Text,{style:{fontWeight:'bold'},children:t('Auto-Compound Bounty: %fee%% of all Auto CAKE pool users pending yield',{fee:fee/100})})]});};var _useModal=useModal(/*#__PURE__*/_jsx(BountyModal,{TooltipComponent:TooltipComponent})),_useModal2=_slicedToArray(_useModal,1),onPresentBountyModal=_useModal2[0];var _useTooltip=useTooltip(/*#__PURE__*/_jsx(TooltipComponent,{fee:callFee}),{placement:'bottom-end',tooltipOffset:[20,10]}),targetRef=_useTooltip.targetRef,tooltip=_useTooltip.tooltip,tooltipVisible=_useTooltip.tooltipVisible;return/*#__PURE__*/_jsxs(_Fragment,{children:[tooltipVisible&&tooltip,/*#__PURE__*/_jsx(StyledCard,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(Flex,{flexDirection:\"column\",children:/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",mb:\"12px\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"16px\",bold:true,color:\"textSubtle\",mr:\"4px\",children:t('Auto CAKE Bounty')}),/*#__PURE__*/_jsx(Box,{ref:targetRef,children:/*#__PURE__*/_jsx(HelpIcon,{color:\"textSubtle\"})})]})}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",mr:\"12px\",children:[/*#__PURE__*/_jsx(Heading,{children:hasFetchedCakeBounty?/*#__PURE__*/_jsx(Balance,{fontSize:\"20px\",bold:true,value:cakeBountyToDisplay,decimals:3}):/*#__PURE__*/_jsx(Skeleton,{height:20,width:96,mb:\"2px\"})}),hasFetchedDollarBounty?/*#__PURE__*/_jsx(Balance,{fontSize:\"12px\",color:\"textSubtle\",value:dollarBountyToDisplay,decimals:2,unit:\" USD\",prefix:\"~\"}):/*#__PURE__*/_jsx(Skeleton,{height:16,width:62})]}),/*#__PURE__*/_jsx(Button,{disabled:!dollarBountyToDisplay||!cakeBountyToDisplay||!callFee,onClick:onPresentBountyModal,scale:\"sm\",id:\"clickClaimVaultBounty\",children:t('Claim')})]})]})})]});};export default BountyCard;","map":{"version":3,"sources":["/Volumes/evo970/lou/madDex-master/src/views/Pools/components/BountyCard.tsx"],"names":["React","useMemo","BigNumber","styled","Card","CardBody","Text","Flex","HelpIcon","Button","Heading","Skeleton","useModal","Box","useTooltip","useTranslation","getBalanceNumber","usePriceCakeBusd","useCakeVault","Balance","BountyModal","StyledCard","theme","mediaQueries","sm","BountyCard","t","estimatedCakeBountyReward","callFee","fees","cakePriceBusd","estimatedDollarBountyReward","multipliedBy","hasFetchedDollarBounty","gte","hasFetchedCakeBounty","dollarBountyToDisplay","cakeBountyToDisplay","TooltipComponent","fee","fontWeight","onPresentBountyModal","placement","tooltipOffset","targetRef","tooltip","tooltipVisible"],"mappings":"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","sourcesContent":["import React, { useMemo } from 'react'\nimport BigNumber from 'bignumber.js'\nimport styled from 'styled-components'\nimport {\n  Card,\n  CardBody,\n  Text,\n  Flex,\n  HelpIcon,\n  Button,\n  Heading,\n  Skeleton,\n  useModal,\n  Box,\n  useTooltip,\n} from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport { usePriceCakeBusd } from 'state/farms/hooks'\nimport { useCakeVault } from 'state/pools/hooks'\nimport Balance from 'components/Balance'\nimport BountyModal from './BountyModal'\n\nconst StyledCard = styled(Card)`\n  width: 100%;\n  flex: 1;\n  ${({ theme }) => theme.mediaQueries.sm} {\n    min-width: 240px;\n  }\n`\n\nconst BountyCard = () => {\n  const { t } = useTranslation()\n  const {\n    estimatedCakeBountyReward,\n    fees: { callFee },\n  } = useCakeVault()\n  const cakePriceBusd = usePriceCakeBusd()\n\n  const estimatedDollarBountyReward = useMemo(() => {\n    return new BigNumber(estimatedCakeBountyReward).multipliedBy(cakePriceBusd)\n  }, [cakePriceBusd, estimatedCakeBountyReward])\n\n  const hasFetchedDollarBounty = estimatedDollarBountyReward.gte(0)\n  const hasFetchedCakeBounty = estimatedCakeBountyReward ? estimatedCakeBountyReward.gte(0) : false\n  const dollarBountyToDisplay = hasFetchedDollarBounty ? getBalanceNumber(estimatedDollarBountyReward, 18) : 0\n  const cakeBountyToDisplay = hasFetchedCakeBounty ? getBalanceNumber(estimatedCakeBountyReward, 18) : 0\n\n  const TooltipComponent = ({ fee }: { fee: number }) => (\n    <>\n      <Text mb=\"16px\">{t('This bounty is given as a reward for providing a service to other users.')}</Text>\n      <Text mb=\"16px\">\n        {t(\n          'Whenever you successfully claim the bounty, you’re also helping out by activating the Auto CAKE Pool’s compounding function for everyone.',\n        )}\n      </Text>\n      <Text style={{ fontWeight: 'bold' }}>\n        {t('Auto-Compound Bounty: %fee%% of all Auto CAKE pool users pending yield', { fee: fee / 100 })}\n      </Text>\n    </>\n  )\n\n  const [onPresentBountyModal] = useModal(<BountyModal TooltipComponent={TooltipComponent} />)\n\n  const { targetRef, tooltip, tooltipVisible } = useTooltip(<TooltipComponent fee={callFee} />, {\n    placement: 'bottom-end',\n    tooltipOffset: [20, 10],\n  })\n\n  return (\n    <>\n      {tooltipVisible && tooltip}\n      <StyledCard>\n        <CardBody>\n          <Flex flexDirection=\"column\">\n            <Flex alignItems=\"center\" mb=\"12px\">\n              <Text fontSize=\"16px\" bold color=\"textSubtle\" mr=\"4px\">\n                {t('Auto CAKE Bounty')}\n              </Text>\n              <Box ref={targetRef}>\n                <HelpIcon color=\"textSubtle\" />\n              </Box>\n            </Flex>\n          </Flex>\n          <Flex alignItems=\"center\" justifyContent=\"space-between\">\n            <Flex flexDirection=\"column\" mr=\"12px\">\n              <Heading>\n                {hasFetchedCakeBounty ? (\n                  <Balance fontSize=\"20px\" bold value={cakeBountyToDisplay} decimals={3} />\n                ) : (\n                  <Skeleton height={20} width={96} mb=\"2px\" />\n                )}\n              </Heading>\n              {hasFetchedDollarBounty ? (\n                <Balance\n                  fontSize=\"12px\"\n                  color=\"textSubtle\"\n                  value={dollarBountyToDisplay}\n                  decimals={2}\n                  unit=\" USD\"\n                  prefix=\"~\"\n                />\n              ) : (\n                <Skeleton height={16} width={62} />\n              )}\n            </Flex>\n            <Button\n              disabled={!dollarBountyToDisplay || !cakeBountyToDisplay || !callFee}\n              onClick={onPresentBountyModal}\n              scale=\"sm\"\n              id=\"clickClaimVaultBounty\"\n            >\n              {t('Claim')}\n            </Button>\n          </Flex>\n        </CardBody>\n      </StyledCard>\n    </>\n  )\n}\n\nexport default BountyCard\n"]},"metadata":{},"sourceType":"module"}